(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function sy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oy(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var Qu={exports:{}},js={},Xu={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Jx(){if(Xp)return ye;Xp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function T(O,F,pe){this.props=O,this.context=F,this.refs=b,this.updater=pe||_}T.prototype.isReactComponent={},T.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=T.prototype;function P(O,F,pe){this.props=O,this.context=F,this.refs=b,this.updater=pe||_}var R=P.prototype=new C;R.constructor=P,k(R,T.prototype),R.isPureReactComponent=!0;var B=Array.isArray,D=Object.prototype.hasOwnProperty,$={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function W(O,F,pe){var me,ge={},ve=null,ke=null;if(F!=null)for(me in F.ref!==void 0&&(ke=F.ref),F.key!==void 0&&(ve=""+F.key),F)D.call(F,me)&&!q.hasOwnProperty(me)&&(ge[me]=F[me]);var _e=arguments.length-2;if(_e===1)ge.children=pe;else if(1<_e){for(var Re=Array(_e),mt=0;mt<_e;mt++)Re[mt]=arguments[mt+2];ge.children=Re}if(O&&O.defaultProps)for(me in _e=O.defaultProps,_e)ge[me]===void 0&&(ge[me]=_e[me]);return{$$typeof:t,type:O,key:ve,ref:ke,props:ge,_owner:$.current}}function M(O,F){return{$$typeof:t,type:O.type,key:F,ref:O.ref,props:O.props,_owner:O._owner}}function ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function ce(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return F[pe]})}var we=/\/+/g;function xe(O,F){return typeof O=="object"&&O!==null&&O.key!=null?ce(""+O.key):F.toString(36)}function Pe(O,F,pe,me,ge){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case t:case e:ke=!0}}if(ke)return ke=O,ge=ge(ke),O=me===""?"."+xe(ke,0):me,B(ge)?(pe="",O!=null&&(pe=O.replace(we,"$&/")+"/"),Pe(ge,F,pe,"",function(mt){return mt})):ge!=null&&(ne(ge)&&(ge=M(ge,pe+(!ge.key||ke&&ke.key===ge.key?"":(""+ge.key).replace(we,"$&/")+"/")+O)),F.push(ge)),1;if(ke=0,me=me===""?".":me+":",B(O))for(var _e=0;_e<O.length;_e++){ve=O[_e];var Re=me+xe(ve,_e);ke+=Pe(ve,F,pe,Re,ge)}else if(Re=w(O),typeof Re=="function")for(O=Re.call(O),_e=0;!(ve=O.next()).done;)ve=ve.value,Re=me+xe(ve,_e++),ke+=Pe(ve,F,pe,Re,ge);else if(ve==="object")throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ke}function Ye(O,F,pe){if(O==null)return O;var me=[],ge=0;return Pe(O,me,"","",function(ve){return F.call(pe,ve,ge++)}),me}function Me(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var he={current:null},K={transition:null},re={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:K,ReactCurrentOwner:$};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:Ye,forEach:function(O,F,pe){Ye(O,function(){F.apply(this,arguments)},pe)},count:function(O){var F=0;return Ye(O,function(){F++}),F},toArray:function(O){return Ye(O,function(F){return F})||[]},only:function(O){if(!ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ye.Component=T,ye.Fragment=r,ye.Profiler=o,ye.PureComponent=P,ye.StrictMode=s,ye.Suspense=h,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,ye.act=J,ye.cloneElement=function(O,F,pe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var me=k({},O.props),ge=O.key,ve=O.ref,ke=O._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,ke=$.current),F.key!==void 0&&(ge=""+F.key),O.type&&O.type.defaultProps)var _e=O.type.defaultProps;for(Re in F)D.call(F,Re)&&!q.hasOwnProperty(Re)&&(me[Re]=F[Re]===void 0&&_e!==void 0?_e[Re]:F[Re])}var Re=arguments.length-2;if(Re===1)me.children=pe;else if(1<Re){_e=Array(Re);for(var mt=0;mt<Re;mt++)_e[mt]=arguments[mt+2];me.children=_e}return{$$typeof:t,type:O.type,key:ge,ref:ve,props:me,_owner:ke}},ye.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},ye.createElement=W,ye.createFactory=function(O){var F=W.bind(null,O);return F.type=O,F},ye.createRef=function(){return{current:null}},ye.forwardRef=function(O){return{$$typeof:d,render:O}},ye.isValidElement=ne,ye.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:Me}},ye.memo=function(O,F){return{$$typeof:p,type:O,compare:F===void 0?null:F}},ye.startTransition=function(O){var F=K.transition;K.transition={};try{O()}finally{K.transition=F}},ye.unstable_act=J,ye.useCallback=function(O,F){return he.current.useCallback(O,F)},ye.useContext=function(O){return he.current.useContext(O)},ye.useDebugValue=function(){},ye.useDeferredValue=function(O){return he.current.useDeferredValue(O)},ye.useEffect=function(O,F){return he.current.useEffect(O,F)},ye.useId=function(){return he.current.useId()},ye.useImperativeHandle=function(O,F,pe){return he.current.useImperativeHandle(O,F,pe)},ye.useInsertionEffect=function(O,F){return he.current.useInsertionEffect(O,F)},ye.useLayoutEffect=function(O,F){return he.current.useLayoutEffect(O,F)},ye.useMemo=function(O,F){return he.current.useMemo(O,F)},ye.useReducer=function(O,F,pe){return he.current.useReducer(O,F,pe)},ye.useRef=function(O){return he.current.useRef(O)},ye.useState=function(O){return he.current.useState(O)},ye.useSyncExternalStore=function(O,F,pe){return he.current.useSyncExternalStore(O,F,pe)},ye.useTransition=function(){return he.current.useTransition()},ye.version="18.3.1",ye}var Zp;function gd(){return Zp||(Zp=1,Xu.exports=Jx()),Xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Yx(){if(em)return js;em=1;var t=gd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var m,v={},w=null,_=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(_=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:d,key:w,ref:_,props:v,_owner:o.current}}return js.Fragment=r,js.jsx=u,js.jsxs=u,js}var tm;function Qx(){return tm||(tm=1,Qu.exports=Yx()),Qu.exports}var y=Qx(),S=gd();const zr=sy(S);var va={},Zu={exports:{}},It={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Xx(){return nm||(nm=1,(function(t){function e(K,re){var J=K.length;K.push(re);e:for(;0<J;){var O=J-1>>>1,F=K[O];if(0<o(F,re))K[O]=re,K[J]=F,J=O;else break e}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],J=K.pop();if(J!==re){K[0]=J;e:for(var O=0,F=K.length,pe=F>>>1;O<pe;){var me=2*(O+1)-1,ge=K[me],ve=me+1,ke=K[ve];if(0>o(ge,J))ve<F&&0>o(ke,ge)?(K[O]=ke,K[ve]=J,O=ve):(K[O]=ge,K[me]=J,O=me);else if(ve<F&&0>o(ke,J))K[O]=ke,K[ve]=J,O=ve;else break e}}return re}function o(K,re){var J=K.sortIndex-re.sortIndex;return J!==0?J:K.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],m=1,v=null,w=3,_=!1,k=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(K){for(var re=r(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=K)s(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=r(p)}}function B(K){if(b=!1,R(K),!k)if(r(h)!==null)k=!0,Me(D);else{var re=r(p);re!==null&&he(B,re.startTime-K)}}function D(K,re){k=!1,b&&(b=!1,C(W),W=-1),_=!0;var J=w;try{for(R(re),v=r(h);v!==null&&(!(v.expirationTime>re)||K&&!ce());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var F=O(v.expirationTime<=re);re=t.unstable_now(),typeof F=="function"?v.callback=F:v===r(h)&&s(h),R(re)}else s(h);v=r(h)}if(v!==null)var pe=!0;else{var me=r(p);me!==null&&he(B,me.startTime-re),pe=!1}return pe}finally{v=null,w=J,_=!1}}var $=!1,q=null,W=-1,M=5,ne=-1;function ce(){return!(t.unstable_now()-ne<M)}function we(){if(q!==null){var K=t.unstable_now();ne=K;var re=!0;try{re=q(!0,K)}finally{re?xe():($=!1,q=null)}}else $=!1}var xe;if(typeof P=="function")xe=function(){P(we)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ye=Pe.port2;Pe.port1.onmessage=we,xe=function(){Ye.postMessage(null)}}else xe=function(){T(we,0)};function Me(K){q=K,$||($=!0,xe())}function he(K,re){W=T(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,Me(D))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var J=w;w=re;try{return K()}finally{w=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=w;w=K;try{return re()}finally{w=J}},t.unstable_scheduleCallback=function(K,re,J){var O=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=J+F,K={id:m++,callback:re,priorityLevel:K,startTime:J,expirationTime:F,sortIndex:-1},J>O?(K.sortIndex=J,e(p,K),r(h)===null&&K===r(p)&&(b?(C(W),W=-1):b=!0,he(B,J-O))):(K.sortIndex=F,e(h,K),k||_||(k=!0,Me(D))),K},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(K){var re=w;return function(){var J=w;w=re;try{return K.apply(this,arguments)}finally{w=J}}}})(tc)),tc}var rm;function Zx(){return rm||(rm=1,ec.exports=Xx()),ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function e1(){if(im)return It;im=1;var t=gd(),e=Zx();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(n){return h.call(v,n)?!0:h.call(m,n)?!1:p.test(n)?v[n]=!0:(m[n]=!0,!1)}function _(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,a,c){if(i===null||typeof i>"u"||_(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(n,i,a,c,f,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){T[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];T[i]=new b(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){T[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){T[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){T[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){T[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){T[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){T[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){T[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(C,P);T[i]=new b(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(C,P);T[i]=new b(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(C,P);T[i]=new b(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){T[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){T[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,a,c){var f=T.hasOwnProperty(i)?T[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,a,f,c)&&(a=null),c||f===null?w(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),$=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ce=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),K=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,O;function F(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var pe=!1;function me(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var c=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){c=N}n.call(i.prototype)}else{try{throw Error()}catch(N){c=N}n()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),g=c.stack.split(`
`),x=f.length-1,E=g.length-1;1<=x&&0<=E&&f[x]!==g[E];)E--;for(;1<=x&&0<=E;x--,E--)if(f[x]!==g[E]){if(x!==1||E!==1)do if(x--,E--,0>E||f[x]!==g[E]){var j=`
`+f[x].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=x&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?F(n):""}function ge(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=me(n.type,!1),n;case 11:return n=me(n.type.render,!1),n;case 1:return n=me(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case $:return"Portal";case M:return"Profiler";case W:return"StrictMode";case xe:return"Suspense";case Pe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ce:return(n.displayName||"Context")+".Consumer";case ne:return(n._context.displayName||"Context")+".Provider";case we:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ye:return i=n.displayName||null,i!==null?i:ve(n.type)||"Memo";case Me:i=n._payload,n=n._init;try{return ve(n(i))}catch{}}return null}function ke(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function _e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mt(n){var i=Re(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Tt(n){n._valueTracker||(n._valueTracker=mt(n))}function oo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Re(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qi(n,i){var a=i.checked;return J({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ao(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=_e(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qe(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function mr(n,i){Qe(n,i);var a=_e(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Gr(n,i.type,a):i.hasOwnProperty("defaultValue")&&Gr(n,i.type,_e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function lo(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Gr(n,i,a){(i!=="number"||Kr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var gr=Array.isArray;function G(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+_e(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ee(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dt(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(r(92));if(gr(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:_e(a)}}function nt(n,i){var a=_e(i.value),c=_e(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function mn(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Ct(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Ct(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zt,uo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function yr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ll=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(n){ll.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),vr[i]=vr[n]})});function hh(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||vr.hasOwnProperty(n)&&vr[n]?(""+i).trim():i+"px"}function fh(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=hh(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var ew=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(n,i){if(i){if(ew[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function cl(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function hl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fl=null,Jr=null,Yr=null;function ph(n){if(n=fs(n)){if(typeof fl!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Io(i),fl(n.stateNode,n.type,i))}}function mh(n){Jr?Yr?Yr.push(n):Yr=[n]:Jr=n}function gh(){if(Jr){var n=Jr,i=Yr;if(Yr=Jr=null,ph(n),i)for(n=0;n<i.length;n++)ph(i[n])}}function yh(n,i){return n(i)}function vh(){}var pl=!1;function wh(n,i,a){if(pl)return n(i,a);pl=!0;try{return yh(n,i,a)}finally{pl=!1,(Jr!==null||Yr!==null)&&(vh(),gh())}}function Hi(n,i){var a=n.stateNode;if(a===null)return null;var c=Io(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ml=!1;if(d)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{ml=!1}function tw(n,i,a,c,f,g,x,E,j){var N=Array.prototype.slice.call(arguments,3);try{i.apply(a,N)}catch(U){this.onError(U)}}var Gi=!1,co=null,ho=!1,gl=null,nw={onError:function(n){Gi=!0,co=n}};function rw(n,i,a,c,f,g,x,E,j){Gi=!1,co=null,tw.apply(nw,arguments)}function iw(n,i,a,c,f,g,x,E,j){if(rw.apply(this,arguments),Gi){if(Gi){var N=co;Gi=!1,co=null}else throw Error(r(198));ho||(ho=!0,gl=N)}}function wr(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function xh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function _h(n){if(wr(n)!==n)throw Error(r(188))}function sw(n){var i=n.alternate;if(!i){if(i=wr(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return _h(f),n;if(g===c)return _h(f),i;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=g;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,c=g;break}if(E===c){x=!0,c=f,a=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===a){x=!0,a=g,c=f;break}if(E===c){x=!0,c=g,a=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function Sh(n){return n=sw(n),n!==null?bh(n):null}function bh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=bh(n);if(i!==null)return i;n=n.sibling}return null}var kh=e.unstable_scheduleCallback,Eh=e.unstable_cancelCallback,ow=e.unstable_shouldYield,aw=e.unstable_requestPaint,He=e.unstable_now,lw=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,Th=e.unstable_UserBlockingPriority,fo=e.unstable_NormalPriority,uw=e.unstable_LowPriority,Ch=e.unstable_IdlePriority,po=null,gn=null;function cw(n){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(po,n,void 0,(n.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:fw,dw=Math.log,hw=Math.LN2;function fw(n){return n>>>=0,n===0?32:31-(dw(n)/hw|0)|0}var mo=64,go=4194304;function Ji(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yo(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,x=a&268435455;if(x!==0){var E=x&~f;E!==0?c=Ji(E):(g&=x,g!==0&&(c=Ji(g)))}else x=a&~f,x!==0?c=Ji(x):g!==0&&(c=Ji(g));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-en(i),f=1<<a,c|=n[a],i&=~f;return c}function pw(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mw(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var x=31-en(g),E=1<<x,j=f[x];j===-1?((E&a)===0||(E&c)!==0)&&(f[x]=pw(E,i)):j<=i&&(n.expiredLanes|=E),g&=~E}}function vl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jh(){var n=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),n}function wl(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Yi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-en(i),n[i]=a}function gw(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-en(a),g=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function xl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-en(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Ce=0;function Ph(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Rh,_l,Ah,Oh,Ih,Sl=!1,vo=[],Un=null,zn=null,Wn=null,Qi=new Map,Xi=new Map,qn=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(n,i){switch(n){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Qi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Zi(n,i,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=fs(i),i!==null&&_l(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function vw(n,i,a,c,f){switch(i){case"focusin":return Un=Zi(Un,n,i,a,c,f),!0;case"dragenter":return zn=Zi(zn,n,i,a,c,f),!0;case"mouseover":return Wn=Zi(Wn,n,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return Qi.set(g,Zi(Qi.get(g)||null,n,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Xi.set(g,Zi(Xi.get(g)||null,n,i,a,c,f)),!0}return!1}function Dh(n){var i=xr(n.target);if(i!==null){var a=wr(i);if(a!==null){if(i=a.tag,i===13){if(i=xh(a),i!==null){n.blockedOn=i,Ih(n.priority,function(){Ah(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wo(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=kl(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);dl=c,a.target.dispatchEvent(c),dl=null}else return i=fs(a),i!==null&&_l(i),n.blockedOn=a,!1;i.shift()}return!0}function Nh(n,i,a){wo(n)&&a.delete(i)}function ww(){Sl=!1,Un!==null&&wo(Un)&&(Un=null),zn!==null&&wo(zn)&&(zn=null),Wn!==null&&wo(Wn)&&(Wn=null),Qi.forEach(Nh),Xi.forEach(Nh)}function es(n,i){n.blockedOn===i&&(n.blockedOn=null,Sl||(Sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ww)))}function ts(n){function i(f){return es(f,n)}if(0<vo.length){es(vo[0],n);for(var a=1;a<vo.length;a++){var c=vo[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Un!==null&&es(Un,n),zn!==null&&es(zn,n),Wn!==null&&es(Wn,n),Qi.forEach(i),Xi.forEach(i),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)Dh(a),a.blockedOn===null&&qn.shift()}var Qr=B.ReactCurrentBatchConfig,xo=!0;function xw(n,i,a,c){var f=Ce,g=Qr.transition;Qr.transition=null;try{Ce=1,bl(n,i,a,c)}finally{Ce=f,Qr.transition=g}}function _w(n,i,a,c){var f=Ce,g=Qr.transition;Qr.transition=null;try{Ce=4,bl(n,i,a,c)}finally{Ce=f,Qr.transition=g}}function bl(n,i,a,c){if(xo){var f=kl(n,i,a,c);if(f===null)Vl(n,i,c,_o,a),Lh(n,c);else if(vw(f,n,i,a,c))c.stopPropagation();else if(Lh(n,c),i&4&&-1<yw.indexOf(n)){for(;f!==null;){var g=fs(f);if(g!==null&&Rh(g),g=kl(n,i,a,c),g===null&&Vl(n,i,c,_o,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Vl(n,i,c,null,a)}}var _o=null;function kl(n,i,a,c){if(_o=null,n=hl(c),n=xr(n),n!==null)if(i=wr(n),i===null)n=null;else if(a=i.tag,a===13){if(n=xh(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return _o=n,null}function Mh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lw()){case yl:return 1;case Th:return 4;case fo:case uw:return 16;case Ch:return 536870912;default:return 16}default:return 16}}var Hn=null,El=null,So=null;function $h(){if(So)return So;var n,i=El,a=i.length,c,f="value"in Hn?Hn.value:Hn.textContent,g=f.length;for(n=0;n<a&&i[n]===f[n];n++);var x=a-n;for(c=1;c<=x&&i[a-c]===f[g-c];c++);return So=f.slice(n,1<c?1-c:void 0)}function bo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ko(){return!0}function Bh(){return!1}function Dt(n){function i(a,c,f,g,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ko:Bh,this.isPropagationStopped=Bh,this}return J(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),i}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Dt(Xr),ns=J({},Xr,{view:0,detail:0}),Sw=Dt(ns),Cl,jl,rs,Eo=J({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rs&&(rs&&n.type==="mousemove"?(Cl=n.screenX-rs.screenX,jl=n.screenY-rs.screenY):jl=Cl=0,rs=n),Cl)},movementY:function(n){return"movementY"in n?n.movementY:jl}}),Fh=Dt(Eo),bw=J({},Eo,{dataTransfer:0}),kw=Dt(bw),Ew=J({},ns,{relatedTarget:0}),Pl=Dt(Ew),Tw=J({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cw=Dt(Tw),jw=J({},Xr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pw=Dt(jw),Rw=J({},Xr,{data:0}),Vh=Dt(Rw),Aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Iw[n])?!!i[n]:!1}function Rl(){return Lw}var Dw=J({},ns,{key:function(n){if(n.key){var i=Aw[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=bo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ow[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(n){return n.type==="keypress"?bo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nw=Dt(Dw),Mw=J({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=Dt(Mw),$w=J({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Bw=Dt($w),Fw=J({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vw=Dt(Fw),Uw=J({},Eo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=Dt(Uw),Ww=[9,13,27,32],Al=d&&"CompositionEvent"in window,is=null;d&&"documentMode"in document&&(is=document.documentMode);var qw=d&&"TextEvent"in window&&!is,zh=d&&(!Al||is&&8<is&&11>=is),Wh=" ",qh=!1;function Hh(n,i){switch(n){case"keyup":return Ww.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zr=!1;function Hw(n,i){switch(n){case"compositionend":return Kh(i);case"keypress":return i.which!==32?null:(qh=!0,Wh);case"textInput":return n=i.data,n===Wh&&qh?null:n;default:return null}}function Kw(n,i){if(Zr)return n==="compositionend"||!Al&&Hh(n,i)?(n=$h(),So=El=Hn=null,Zr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zh&&i.locale!=="ko"?null:i.data;default:return null}}var Gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Gw[n.type]:i==="textarea"}function Jh(n,i,a,c){mh(c),i=Ro(i,"onChange"),0<i.length&&(a=new Tl("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ss=null,os=null;function Jw(n){pf(n,0)}function To(n){var i=ii(n);if(oo(i))return n}function Yw(n,i){if(n==="change")return i}var Yh=!1;if(d){var Ol;if(d){var Il="oninput"in document;if(!Il){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),Il=typeof Qh.oninput=="function"}Ol=Il}else Ol=!1;Yh=Ol&&(!document.documentMode||9<document.documentMode)}function Xh(){ss&&(ss.detachEvent("onpropertychange",Zh),os=ss=null)}function Zh(n){if(n.propertyName==="value"&&To(os)){var i=[];Jh(i,os,n,hl(n)),wh(Jw,i)}}function Qw(n,i,a){n==="focusin"?(Xh(),ss=i,os=a,ss.attachEvent("onpropertychange",Zh)):n==="focusout"&&Xh()}function Xw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return To(os)}function Zw(n,i){if(n==="click")return To(i)}function ex(n,i){if(n==="input"||n==="change")return To(i)}function tx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var tn=typeof Object.is=="function"?Object.is:tx;function as(n,i){if(tn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(i,f)||!tn(n[f],i[f]))return!1}return!0}function ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tf(n,i){var a=ef(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ef(a)}}function nf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?nf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function rf(){for(var n=window,i=Kr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Kr(n.document)}return i}function Ll(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function nx(n){var i=rf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&nf(a.ownerDocument.documentElement,a)){if(c!==null&&Ll(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=tf(a,g);var x=tf(a,c);f&&x&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rx=d&&"documentMode"in document&&11>=document.documentMode,ei=null,Dl=null,ls=null,Nl=!1;function sf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nl||ei==null||ei!==Kr(c)||(c=ei,"selectionStart"in c&&Ll(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ls&&as(ls,c)||(ls=c,c=Ro(Dl,"onSelect"),0<c.length&&(i=new Tl("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=ei)))}function Co(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ti={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},Ml={},of={};d&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function jo(n){if(Ml[n])return Ml[n];if(!ti[n])return n;var i=ti[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in of)return Ml[n]=i[a];return n}var af=jo("animationend"),lf=jo("animationiteration"),uf=jo("animationstart"),cf=jo("transitionend"),df=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(n,i){df.set(n,i),l(i,[n])}for(var $l=0;$l<hf.length;$l++){var Bl=hf[$l],ix=Bl.toLowerCase(),sx=Bl[0].toUpperCase()+Bl.slice(1);Kn(ix,"on"+sx)}Kn(af,"onAnimationEnd"),Kn(lf,"onAnimationIteration"),Kn(uf,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(cf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function ff(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,iw(c,i,void 0,n),n.currentTarget=null}function pf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var x=c.length-1;0<=x;x--){var E=c[x],j=E.instance,N=E.currentTarget;if(E=E.listener,j!==g&&f.isPropagationStopped())break e;ff(f,E,N),g=j}else for(x=0;x<c.length;x++){if(E=c[x],j=E.instance,N=E.currentTarget,E=E.listener,j!==g&&f.isPropagationStopped())break e;ff(f,E,N),g=j}}}if(ho)throw n=gl,ho=!1,gl=null,n}function Ie(n,i){var a=i[Kl];a===void 0&&(a=i[Kl]=new Set);var c=n+"__bubble";a.has(c)||(mf(i,n,2,!1),a.add(c))}function Fl(n,i,a){var c=0;i&&(c|=4),mf(a,n,c,i)}var Po="_reactListening"+Math.random().toString(36).slice(2);function cs(n){if(!n[Po]){n[Po]=!0,s.forEach(function(a){a!=="selectionchange"&&(ox.has(a)||Fl(a,!1,n),Fl(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Po]||(i[Po]=!0,Fl("selectionchange",!1,i))}}function mf(n,i,a,c){switch(Mh(i)){case 1:var f=xw;break;case 4:f=_w;break;default:f=bl}a=f.bind(null,i,a,n),f=void 0,!ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Vl(n,i,a,c,f){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;x=x.return}for(;E!==null;){if(x=xr(E),x===null)return;if(j=x.tag,j===5||j===6){c=g=x;continue e}E=E.parentNode}}c=c.return}wh(function(){var N=g,U=hl(a),z=[];e:{var V=df.get(n);if(V!==void 0){var Y=Tl,Z=n;switch(n){case"keypress":if(bo(a)===0)break e;case"keydown":case"keyup":Y=Nw;break;case"focusin":Z="focus",Y=Pl;break;case"focusout":Z="blur",Y=Pl;break;case"beforeblur":case"afterblur":Y=Pl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Bw;break;case af:case lf:case uf:Y=Cw;break;case cf:Y=Vw;break;case"scroll":Y=Sw;break;case"wheel":Y=zw;break;case"copy":case"cut":case"paste":Y=Pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Uh}var ee=(i&4)!==0,Ke=!ee&&n==="scroll",I=ee?V!==null?V+"Capture":null:V;ee=[];for(var A=N,L;A!==null;){L=A;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,I!==null&&(H=Hi(A,I),H!=null&&ee.push(ds(A,H,L)))),Ke)break;A=A.return}0<ee.length&&(V=new Y(V,Z,null,a,U),z.push({event:V,listeners:ee}))}}if((i&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",V&&a!==dl&&(Z=a.relatedTarget||a.fromElement)&&(xr(Z)||Z[jn]))break e;if((Y||V)&&(V=U.window===U?U:(V=U.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(Z=a.relatedTarget||a.toElement,Y=N,Z=Z?xr(Z):null,Z!==null&&(Ke=wr(Z),Z!==Ke||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Y=null,Z=N),Y!==Z)){if(ee=Fh,H="onMouseLeave",I="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ee=Uh,H="onPointerLeave",I="onPointerEnter",A="pointer"),Ke=Y==null?V:ii(Y),L=Z==null?V:ii(Z),V=new ee(H,A+"leave",Y,a,U),V.target=Ke,V.relatedTarget=L,H=null,xr(U)===N&&(ee=new ee(I,A+"enter",Z,a,U),ee.target=L,ee.relatedTarget=Ke,H=ee),Ke=H,Y&&Z)t:{for(ee=Y,I=Z,A=0,L=ee;L;L=ni(L))A++;for(L=0,H=I;H;H=ni(H))L++;for(;0<A-L;)ee=ni(ee),A--;for(;0<L-A;)I=ni(I),L--;for(;A--;){if(ee===I||I!==null&&ee===I.alternate)break t;ee=ni(ee),I=ni(I)}ee=null}else ee=null;Y!==null&&gf(z,V,Y,ee,!1),Z!==null&&Ke!==null&&gf(z,Ke,Z,ee,!0)}}e:{if(V=N?ii(N):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var ie=Yw;else if(Gh(V))if(Yh)ie=ex;else{ie=Xw;var se=Qw}else(Y=V.nodeName)&&Y.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(ie=Zw);if(ie&&(ie=ie(n,N))){Jh(z,ie,a,U);break e}se&&se(n,V,N),n==="focusout"&&(se=V._wrapperState)&&se.controlled&&V.type==="number"&&Gr(V,"number",V.value)}switch(se=N?ii(N):window,n){case"focusin":(Gh(se)||se.contentEditable==="true")&&(ei=se,Dl=N,ls=null);break;case"focusout":ls=Dl=ei=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,sf(z,a,U);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":sf(z,a,U)}var oe;if(Al)e:{switch(n){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Zr?Hh(n,a)&&(de="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(zh&&a.locale!=="ko"&&(Zr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Zr&&(oe=$h()):(Hn=U,El="value"in Hn?Hn.value:Hn.textContent,Zr=!0)),se=Ro(N,de),0<se.length&&(de=new Vh(de,n,null,a,U),z.push({event:de,listeners:se}),oe?de.data=oe:(oe=Kh(a),oe!==null&&(de.data=oe)))),(oe=qw?Hw(n,a):Kw(n,a))&&(N=Ro(N,"onBeforeInput"),0<N.length&&(U=new Vh("onBeforeInput","beforeinput",null,a,U),z.push({event:U,listeners:N}),U.data=oe))}pf(z,i)})}function ds(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ro(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Hi(n,a),g!=null&&c.unshift(ds(n,g,f)),g=Hi(n,i),g!=null&&c.push(ds(n,g,f))),n=n.return}return c}function ni(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gf(n,i,a,c,f){for(var g=i._reactName,x=[];a!==null&&a!==c;){var E=a,j=E.alternate,N=E.stateNode;if(j!==null&&j===c)break;E.tag===5&&N!==null&&(E=N,f?(j=Hi(a,g),j!=null&&x.unshift(ds(a,j,E))):f||(j=Hi(a,g),j!=null&&x.push(ds(a,j,E)))),a=a.return}x.length!==0&&n.push({event:i,listeners:x})}var ax=/\r\n?/g,lx=/\u0000|\uFFFD/g;function yf(n){return(typeof n=="string"?n:""+n).replace(ax,`
`).replace(lx,"")}function Ao(n,i,a){if(i=yf(i),yf(n)!==i&&a)throw Error(r(425))}function Oo(){}var Ul=null,zl=null;function Wl(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(n){return vf.resolve(null).then(n).catch(dx)}:ql;function dx(n){setTimeout(function(){throw n})}function Hl(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),ts(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);ts(i)}function Gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function wf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var ri=Math.random().toString(36).slice(2),yn="__reactFiber$"+ri,hs="__reactProps$"+ri,jn="__reactContainer$"+ri,Kl="__reactEvents$"+ri,hx="__reactListeners$"+ri,fx="__reactHandles$"+ri;function xr(n){var i=n[yn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[jn]||a[yn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=wf(n);n!==null;){if(a=n[yn])return a;n=wf(n)}return i}n=a,a=n.parentNode}return null}function fs(n){return n=n[yn]||n[jn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ii(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Io(n){return n[hs]||null}var Gl=[],si=-1;function Jn(n){return{current:n}}function Le(n){0>si||(n.current=Gl[si],Gl[si]=null,si--)}function Ae(n,i){si++,Gl[si]=n.current,n.current=i}var Yn={},gt=Jn(Yn),jt=Jn(!1),_r=Yn;function oi(n,i){var a=n.type.contextTypes;if(!a)return Yn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Pt(n){return n=n.childContextTypes,n!=null}function Lo(){Le(jt),Le(gt)}function xf(n,i,a){if(gt.current!==Yn)throw Error(r(168));Ae(gt,i),Ae(jt,a)}function _f(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(r(108,ke(n)||"Unknown",f));return J({},a,c)}function Do(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yn,_r=gt.current,Ae(gt,n),Ae(jt,jt.current),!0}function Sf(n,i,a){var c=n.stateNode;if(!c)throw Error(r(169));a?(n=_f(n,i,_r),c.__reactInternalMemoizedMergedChildContext=n,Le(jt),Le(gt),Ae(gt,n)):Le(jt),Ae(jt,a)}var Pn=null,No=!1,Jl=!1;function bf(n){Pn===null?Pn=[n]:Pn.push(n)}function px(n){No=!0,bf(n)}function Qn(){if(!Jl&&Pn!==null){Jl=!0;var n=0,i=Ce;try{var a=Pn;for(Ce=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Pn=null,No=!1}catch(f){throw Pn!==null&&(Pn=Pn.slice(n+1)),kh(yl,Qn),f}finally{Ce=i,Jl=!1}}return null}var ai=[],li=0,Mo=null,$o=0,Wt=[],qt=0,Sr=null,Rn=1,An="";function br(n,i){ai[li++]=$o,ai[li++]=Mo,Mo=n,$o=i}function kf(n,i,a){Wt[qt++]=Rn,Wt[qt++]=An,Wt[qt++]=Sr,Sr=n;var c=Rn;n=An;var f=32-en(c)-1;c&=~(1<<f),a+=1;var g=32-en(i)+f;if(30<g){var x=f-f%5;g=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Rn=1<<32-en(i)+f|a<<f|c,An=g+n}else Rn=1<<g|a<<f|c,An=n}function Yl(n){n.return!==null&&(br(n,1),kf(n,1,0))}function Ql(n){for(;n===Mo;)Mo=ai[--li],ai[li]=null,$o=ai[--li],ai[li]=null;for(;n===Sr;)Sr=Wt[--qt],Wt[qt]=null,An=Wt[--qt],Wt[qt]=null,Rn=Wt[--qt],Wt[qt]=null}var Nt=null,Mt=null,De=!1,nn=null;function Ef(n,i){var a=Jt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Tf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Nt=n,Mt=Gn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Nt=n,Mt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Sr!==null?{id:Rn,overflow:An}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Jt(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,Nt=n,Mt=null,!0):!1;default:return!1}}function Xl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zl(n){if(De){var i=Mt;if(i){var a=i;if(!Tf(n,i)){if(Xl(n))throw Error(r(418));i=Gn(a.nextSibling);var c=Nt;i&&Tf(n,i)?Ef(c,a):(n.flags=n.flags&-4097|2,De=!1,Nt=n)}}else{if(Xl(n))throw Error(r(418));n.flags=n.flags&-4097|2,De=!1,Nt=n}}}function Cf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Nt=n}function Bo(n){if(n!==Nt)return!1;if(!De)return Cf(n),De=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Wl(n.type,n.memoizedProps)),i&&(i=Mt)){if(Xl(n))throw jf(),Error(r(418));for(;i;)Ef(n,i),i=Gn(i.nextSibling)}if(Cf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){Mt=Gn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}Mt=null}}else Mt=Nt?Gn(n.stateNode.nextSibling):null;return!0}function jf(){for(var n=Mt;n;)n=Gn(n.nextSibling)}function ui(){Mt=Nt=null,De=!1}function eu(n){nn===null?nn=[n]:nn.push(n)}var mx=B.ReactCurrentBatchConfig;function ps(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,n));var f=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var E=f.refs;x===null?delete E[g]:E[g]=x},i._stringRef=g,i)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function Fo(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Pf(n){var i=n._init;return i(n._payload)}function Rf(n){function i(I,A){if(n){var L=I.deletions;L===null?(I.deletions=[A],I.flags|=16):L.push(A)}}function a(I,A){if(!n)return null;for(;A!==null;)i(I,A),A=A.sibling;return null}function c(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function f(I,A){return I=sr(I,A),I.index=0,I.sibling=null,I}function g(I,A,L){return I.index=L,n?(L=I.alternate,L!==null?(L=L.index,L<A?(I.flags|=2,A):L):(I.flags|=2,A)):(I.flags|=1048576,A)}function x(I){return n&&I.alternate===null&&(I.flags|=2),I}function E(I,A,L,H){return A===null||A.tag!==6?(A=qu(L,I.mode,H),A.return=I,A):(A=f(A,L),A.return=I,A)}function j(I,A,L,H){var ie=L.type;return ie===q?U(I,A,L.props.children,H,L.key):A!==null&&(A.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Me&&Pf(ie)===A.type)?(H=f(A,L.props),H.ref=ps(I,A,L),H.return=I,H):(H=ca(L.type,L.key,L.props,null,I.mode,H),H.ref=ps(I,A,L),H.return=I,H)}function N(I,A,L,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=Hu(L,I.mode,H),A.return=I,A):(A=f(A,L.children||[]),A.return=I,A)}function U(I,A,L,H,ie){return A===null||A.tag!==7?(A=Ar(L,I.mode,H,ie),A.return=I,A):(A=f(A,L),A.return=I,A)}function z(I,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=qu(""+A,I.mode,L),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case D:return L=ca(A.type,A.key,A.props,null,I.mode,L),L.ref=ps(I,null,A),L.return=I,L;case $:return A=Hu(A,I.mode,L),A.return=I,A;case Me:var H=A._init;return z(I,H(A._payload),L)}if(gr(A)||re(A))return A=Ar(A,I.mode,L,null),A.return=I,A;Fo(I,A)}return null}function V(I,A,L,H){var ie=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ie!==null?null:E(I,A,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ie?j(I,A,L,H):null;case $:return L.key===ie?N(I,A,L,H):null;case Me:return ie=L._init,V(I,A,ie(L._payload),H)}if(gr(L)||re(L))return ie!==null?null:U(I,A,L,H,null);Fo(I,L)}return null}function Y(I,A,L,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number")return I=I.get(L)||null,E(A,I,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return I=I.get(H.key===null?L:H.key)||null,j(A,I,H,ie);case $:return I=I.get(H.key===null?L:H.key)||null,N(A,I,H,ie);case Me:var se=H._init;return Y(I,A,L,se(H._payload),ie)}if(gr(H)||re(H))return I=I.get(L)||null,U(A,I,H,ie,null);Fo(A,H)}return null}function Z(I,A,L,H){for(var ie=null,se=null,oe=A,de=A=0,ct=null;oe!==null&&de<L.length;de++){oe.index>de?(ct=oe,oe=null):ct=oe.sibling;var be=V(I,oe,L[de],H);if(be===null){oe===null&&(oe=ct);break}n&&oe&&be.alternate===null&&i(I,oe),A=g(be,A,de),se===null?ie=be:se.sibling=be,se=be,oe=ct}if(de===L.length)return a(I,oe),De&&br(I,de),ie;if(oe===null){for(;de<L.length;de++)oe=z(I,L[de],H),oe!==null&&(A=g(oe,A,de),se===null?ie=oe:se.sibling=oe,se=oe);return De&&br(I,de),ie}for(oe=c(I,oe);de<L.length;de++)ct=Y(oe,I,de,L[de],H),ct!==null&&(n&&ct.alternate!==null&&oe.delete(ct.key===null?de:ct.key),A=g(ct,A,de),se===null?ie=ct:se.sibling=ct,se=ct);return n&&oe.forEach(function(or){return i(I,or)}),De&&br(I,de),ie}function ee(I,A,L,H){var ie=re(L);if(typeof ie!="function")throw Error(r(150));if(L=ie.call(L),L==null)throw Error(r(151));for(var se=ie=null,oe=A,de=A=0,ct=null,be=L.next();oe!==null&&!be.done;de++,be=L.next()){oe.index>de?(ct=oe,oe=null):ct=oe.sibling;var or=V(I,oe,be.value,H);if(or===null){oe===null&&(oe=ct);break}n&&oe&&or.alternate===null&&i(I,oe),A=g(or,A,de),se===null?ie=or:se.sibling=or,se=or,oe=ct}if(be.done)return a(I,oe),De&&br(I,de),ie;if(oe===null){for(;!be.done;de++,be=L.next())be=z(I,be.value,H),be!==null&&(A=g(be,A,de),se===null?ie=be:se.sibling=be,se=be);return De&&br(I,de),ie}for(oe=c(I,oe);!be.done;de++,be=L.next())be=Y(oe,I,de,be.value,H),be!==null&&(n&&be.alternate!==null&&oe.delete(be.key===null?de:be.key),A=g(be,A,de),se===null?ie=be:se.sibling=be,se=be);return n&&oe.forEach(function(Gx){return i(I,Gx)}),De&&br(I,de),ie}function Ke(I,A,L,H){if(typeof L=="object"&&L!==null&&L.type===q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:e:{for(var ie=L.key,se=A;se!==null;){if(se.key===ie){if(ie=L.type,ie===q){if(se.tag===7){a(I,se.sibling),A=f(se,L.props.children),A.return=I,I=A;break e}}else if(se.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Me&&Pf(ie)===se.type){a(I,se.sibling),A=f(se,L.props),A.ref=ps(I,se,L),A.return=I,I=A;break e}a(I,se);break}else i(I,se);se=se.sibling}L.type===q?(A=Ar(L.props.children,I.mode,H,L.key),A.return=I,I=A):(H=ca(L.type,L.key,L.props,null,I.mode,H),H.ref=ps(I,A,L),H.return=I,I=H)}return x(I);case $:e:{for(se=L.key;A!==null;){if(A.key===se)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){a(I,A.sibling),A=f(A,L.children||[]),A.return=I,I=A;break e}else{a(I,A);break}else i(I,A);A=A.sibling}A=Hu(L,I.mode,H),A.return=I,I=A}return x(I);case Me:return se=L._init,Ke(I,A,se(L._payload),H)}if(gr(L))return Z(I,A,L,H);if(re(L))return ee(I,A,L,H);Fo(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(a(I,A.sibling),A=f(A,L),A.return=I,I=A):(a(I,A),A=qu(L,I.mode,H),A.return=I,I=A),x(I)):a(I,A)}return Ke}var ci=Rf(!0),Af=Rf(!1),Vo=Jn(null),Uo=null,di=null,tu=null;function nu(){tu=di=Uo=null}function ru(n){var i=Vo.current;Le(Vo),n._currentValue=i}function iu(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function hi(n,i){Uo=n,tu=di=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Rt=!0),n.firstContext=null)}function Ht(n){var i=n._currentValue;if(tu!==n)if(n={context:n,memoizedValue:i,next:null},di===null){if(Uo===null)throw Error(r(308));di=n,Uo.dependencies={lanes:0,firstContext:n}}else di=di.next=n;return i}var kr=null;function su(n){kr===null?kr=[n]:kr.push(n)}function Of(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,su(i)):(a.next=f.next,f.next=a),i.interleaved=a,On(n,c)}function On(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Xn=!1;function ou(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function In(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Zn(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Se&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,On(n,a)}return f=c.interleaved,f===null?(i.next=i,su(c)):(i.next=f.next,f.next=i),c.interleaved=i,On(n,a)}function zo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,xl(n,a)}}function Lf(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Wo(n,i,a,c){var f=n.updateQueue;Xn=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var j=E,N=j.next;j.next=null,x===null?g=N:x.next=N,x=j;var U=n.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==x&&(E===null?U.firstBaseUpdate=N:E.next=N,U.lastBaseUpdate=j))}if(g!==null){var z=f.baseState;x=0,U=N=j=null,E=g;do{var V=E.lane,Y=E.eventTime;if((c&V)===V){U!==null&&(U=U.next={eventTime:Y,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Z=n,ee=E;switch(V=i,Y=a,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){z=Z.call(Y,z,V);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,V=typeof Z=="function"?Z.call(Y,z,V):Z,V==null)break e;z=J({},z,V);break e;case 2:Xn=!0}}E.callback!==null&&E.lane!==0&&(n.flags|=64,V=f.effects,V===null?f.effects=[E]:V.push(E))}else Y={eventTime:Y,lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(N=U=Y,j=z):U=U.next=Y,x|=V;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;V=E,E=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);if(U===null&&(j=z),f.baseState=j,f.firstBaseUpdate=N,f.lastBaseUpdate=U,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);Cr|=x,n.lanes=x,n.memoizedState=z}}function Df(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var ms={},vn=Jn(ms),gs=Jn(ms),ys=Jn(ms);function Er(n){if(n===ms)throw Error(r(174));return n}function au(n,i){switch(Ae(ys,i),Ae(gs,n),Ae(vn,ms),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xe(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Xe(i,n)}Le(vn),Ae(vn,i)}function fi(){Le(vn),Le(gs),Le(ys)}function Nf(n){Er(ys.current);var i=Er(vn.current),a=Xe(i,n.type);i!==a&&(Ae(gs,n),Ae(vn,a))}function lu(n){gs.current===n&&(Le(vn),Le(gs))}var $e=Jn(0);function qo(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uu=[];function cu(){for(var n=0;n<uu.length;n++)uu[n]._workInProgressVersionPrimary=null;uu.length=0}var Ho=B.ReactCurrentDispatcher,du=B.ReactCurrentBatchConfig,Tr=0,Be=null,rt=null,lt=null,Ko=!1,vs=!1,ws=0,gx=0;function yt(){throw Error(r(321))}function hu(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!tn(n[a],i[a]))return!1;return!0}function fu(n,i,a,c,f,g){if(Tr=g,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ho.current=n===null||n.memoizedState===null?xx:_x,n=a(c,f),vs){g=0;do{if(vs=!1,ws=0,25<=g)throw Error(r(301));g+=1,lt=rt=null,i.updateQueue=null,Ho.current=Sx,n=a(c,f)}while(vs)}if(Ho.current=Yo,i=rt!==null&&rt.next!==null,Tr=0,lt=rt=Be=null,Ko=!1,i)throw Error(r(300));return n}function pu(){var n=ws!==0;return ws=0,n}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Be.memoizedState=lt=n:lt=lt.next=n,lt}function Kt(){if(rt===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var i=lt===null?Be.memoizedState:lt.next;if(i!==null)lt=i,rt=n;else{if(n===null)throw Error(r(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Be.memoizedState=lt=n:lt=lt.next=n}return lt}function xs(n,i){return typeof i=="function"?i(n):i}function mu(n){var i=Kt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=rt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var E=x=null,j=null,N=g;do{var U=N.lane;if((Tr&U)===U)j!==null&&(j=j.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:n(c,N.action);else{var z={lane:U,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};j===null?(E=j=z,x=c):j=j.next=z,Be.lanes|=U,Cr|=U}N=N.next}while(N!==null&&N!==g);j===null?x=c:j.next=E,tn(c,i.memoizedState)||(Rt=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=j,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,Be.lanes|=g,Cr|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gu(n){var i=Kt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=n(g,x.action),x=x.next;while(x!==f);tn(g,i.memoizedState)||(Rt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Mf(){}function $f(n,i){var a=Be,c=Kt(),f=i(),g=!tn(c.memoizedState,f);if(g&&(c.memoizedState=f,Rt=!0),c=c.queue,yu(Vf.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,_s(9,Ff.bind(null,a,c,f,i),void 0,null),ut===null)throw Error(r(349));(Tr&30)!==0||Bf(a,i,f)}return f}function Bf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Be.updateQueue,i===null?(i={lastEffect:null,stores:null},Be.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ff(n,i,a,c){i.value=a,i.getSnapshot=c,Uf(i)&&zf(n)}function Vf(n,i,a){return a(function(){Uf(i)&&zf(n)})}function Uf(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!tn(n,a)}catch{return!0}}function zf(n){var i=On(n,1);i!==null&&an(i,n,1,-1)}function Wf(n){var i=wn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},i.queue=n,n=n.dispatch=wx.bind(null,Be,n),[i.memoizedState,n]}function _s(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Be.updateQueue,i===null?(i={lastEffect:null,stores:null},Be.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function qf(){return Kt().memoizedState}function Go(n,i,a,c){var f=wn();Be.flags|=n,f.memoizedState=_s(1|i,a,void 0,c===void 0?null:c)}function Jo(n,i,a,c){var f=Kt();c=c===void 0?null:c;var g=void 0;if(rt!==null){var x=rt.memoizedState;if(g=x.destroy,c!==null&&hu(c,x.deps)){f.memoizedState=_s(i,a,g,c);return}}Be.flags|=n,f.memoizedState=_s(1|i,a,g,c)}function Hf(n,i){return Go(8390656,8,n,i)}function yu(n,i){return Jo(2048,8,n,i)}function Kf(n,i){return Jo(4,2,n,i)}function Gf(n,i){return Jo(4,4,n,i)}function Jf(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Yf(n,i,a){return a=a!=null?a.concat([n]):null,Jo(4,4,Jf.bind(null,i,n),a)}function vu(){}function Qf(n,i){var a=Kt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Xf(n,i){var a=Kt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Zf(n,i,a){return(Tr&21)===0?(n.baseState&&(n.baseState=!1,Rt=!0),n.memoizedState=a):(tn(a,i)||(a=jh(),Be.lanes|=a,Cr|=a,n.baseState=!0),i)}function yx(n,i){var a=Ce;Ce=a!==0&&4>a?a:4,n(!0);var c=du.transition;du.transition={};try{n(!1),i()}finally{Ce=a,du.transition=c}}function ep(){return Kt().memoizedState}function vx(n,i,a){var c=rr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},tp(n))np(i,a);else if(a=Of(n,i,a,c),a!==null){var f=kt();an(a,n,c,f),rp(a,i,c)}}function wx(n,i,a){var c=rr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(tp(n))np(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,E=g(x,a);if(f.hasEagerState=!0,f.eagerState=E,tn(E,x)){var j=i.interleaved;j===null?(f.next=f,su(i)):(f.next=j.next,j.next=f),i.interleaved=f;return}}catch{}finally{}a=Of(n,i,f,c),a!==null&&(f=kt(),an(a,n,c,f),rp(a,i,c))}}function tp(n){var i=n.alternate;return n===Be||i!==null&&i===Be}function np(n,i){vs=Ko=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function rp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,xl(n,a)}}var Yo={readContext:Ht,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},xx={readContext:Ht,useCallback:function(n,i){return wn().memoizedState=[n,i===void 0?null:i],n},useContext:Ht,useEffect:Hf,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Go(4194308,4,Jf.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Go(4194308,4,n,i)},useInsertionEffect:function(n,i){return Go(4,2,n,i)},useMemo:function(n,i){var a=wn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=wn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=vx.bind(null,Be,n),[c.memoizedState,n]},useRef:function(n){var i=wn();return n={current:n},i.memoizedState=n},useState:Wf,useDebugValue:vu,useDeferredValue:function(n){return wn().memoizedState=n},useTransition:function(){var n=Wf(!1),i=n[0];return n=yx.bind(null,n[1]),wn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Be,f=wn();if(De){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ut===null)throw Error(r(349));(Tr&30)!==0||Bf(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,Hf(Vf.bind(null,c,g,n),[n]),c.flags|=2048,_s(9,Ff.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=wn(),i=ut.identifierPrefix;if(De){var a=An,c=Rn;a=(c&~(1<<32-en(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ws++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=gx++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},_x={readContext:Ht,useCallback:Qf,useContext:Ht,useEffect:yu,useImperativeHandle:Yf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Xf,useReducer:mu,useRef:qf,useState:function(){return mu(xs)},useDebugValue:vu,useDeferredValue:function(n){var i=Kt();return Zf(i,rt.memoizedState,n)},useTransition:function(){var n=mu(xs)[0],i=Kt().memoizedState;return[n,i]},useMutableSource:Mf,useSyncExternalStore:$f,useId:ep,unstable_isNewReconciler:!1},Sx={readContext:Ht,useCallback:Qf,useContext:Ht,useEffect:yu,useImperativeHandle:Yf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Xf,useReducer:gu,useRef:qf,useState:function(){return gu(xs)},useDebugValue:vu,useDeferredValue:function(n){var i=Kt();return rt===null?i.memoizedState=n:Zf(i,rt.memoizedState,n)},useTransition:function(){var n=gu(xs)[0],i=Kt().memoizedState;return[n,i]},useMutableSource:Mf,useSyncExternalStore:$f,useId:ep,unstable_isNewReconciler:!1};function rn(n,i){if(n&&n.defaultProps){i=J({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function wu(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:J({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Qo={isMounted:function(n){return(n=n._reactInternals)?wr(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=kt(),f=rr(n),g=In(c,f);g.payload=i,a!=null&&(g.callback=a),i=Zn(n,g,f),i!==null&&(an(i,n,f,c),zo(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=kt(),f=rr(n),g=In(c,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Zn(n,g,f),i!==null&&(an(i,n,f,c),zo(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=kt(),c=rr(n),f=In(a,c);f.tag=2,i!=null&&(f.callback=i),i=Zn(n,f,c),i!==null&&(an(i,n,c,a),zo(i,n,c))}};function ip(n,i,a,c,f,g,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,x):i.prototype&&i.prototype.isPureReactComponent?!as(a,c)||!as(f,g):!0}function sp(n,i,a){var c=!1,f=Yn,g=i.contextType;return typeof g=="object"&&g!==null?g=Ht(g):(f=Pt(i)?_r:gt.current,c=i.contextTypes,g=(c=c!=null)?oi(n,f):Yn),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Qo,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function op(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Qo.enqueueReplaceState(i,i.state,null)}function xu(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},ou(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Ht(g):(g=Pt(i)?_r:gt.current,f.context=oi(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(wu(n,i,g,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Qo.enqueueReplaceState(f,f.state,null),Wo(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function pi(n,i){try{var a="",c=i;do a+=ge(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function _u(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Su(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var bx=typeof WeakMap=="function"?WeakMap:Map;function ap(n,i,a){a=In(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){ia||(ia=!0,Mu=c),Su(n,i)},a}function lp(n,i,a){a=In(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Su(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Su(n,i),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function up(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new bx;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=Mx.bind(null,n,i,a),i.then(n,n))}function cp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function dp(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=In(-1,1),i.tag=2,Zn(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var kx=B.ReactCurrentOwner,Rt=!1;function bt(n,i,a,c){i.child=n===null?Af(i,null,a,c):ci(i,n.child,a,c)}function hp(n,i,a,c,f){a=a.render;var g=i.ref;return hi(i,f),c=fu(n,i,a,c,g,f),a=pu(),n!==null&&!Rt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ln(n,i,f)):(De&&a&&Yl(i),i.flags|=1,bt(n,i,c,f),i.child)}function fp(n,i,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!Wu(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,pp(n,i,g,c,f)):(n=ca(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,(n.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(x,c)&&n.ref===i.ref)return Ln(n,i,f)}return i.flags|=1,n=sr(g,c),n.ref=i.ref,n.return=i,i.child=n}function pp(n,i,a,c,f){if(n!==null){var g=n.memoizedProps;if(as(g,c)&&n.ref===i.ref)if(Rt=!1,i.pendingProps=c=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Rt=!0);else return i.lanes=n.lanes,Ln(n,i,f)}return bu(n,i,a,c,f)}function mp(n,i,a){var c=i.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(gi,$t),$t|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ae(gi,$t),$t|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ae(gi,$t),$t|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Ae(gi,$t),$t|=c;return bt(n,i,f,a),i.child}function gp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function bu(n,i,a,c,f){var g=Pt(a)?_r:gt.current;return g=oi(i,g),hi(i,f),a=fu(n,i,a,c,g,f),c=pu(),n!==null&&!Rt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ln(n,i,f)):(De&&c&&Yl(i),i.flags|=1,bt(n,i,a,f),i.child)}function yp(n,i,a,c,f){if(Pt(a)){var g=!0;Do(i)}else g=!1;if(hi(i,f),i.stateNode===null)Zo(n,i),sp(i,a,c),xu(i,a,c,f),c=!0;else if(n===null){var x=i.stateNode,E=i.memoizedProps;x.props=E;var j=x.context,N=a.contextType;typeof N=="object"&&N!==null?N=Ht(N):(N=Pt(a)?_r:gt.current,N=oi(i,N));var U=a.getDerivedStateFromProps,z=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function";z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==c||j!==N)&&op(i,x,c,N),Xn=!1;var V=i.memoizedState;x.state=V,Wo(i,c,x,f),j=i.memoizedState,E!==c||V!==j||jt.current||Xn?(typeof U=="function"&&(wu(i,a,U,c),j=i.memoizedState),(E=Xn||ip(i,a,E,c,V,j,N))?(z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=j),x.props=c,x.state=j,x.context=N,c=E):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,If(n,i),E=i.memoizedProps,N=i.type===i.elementType?E:rn(i.type,E),x.props=N,z=i.pendingProps,V=x.context,j=a.contextType,typeof j=="object"&&j!==null?j=Ht(j):(j=Pt(a)?_r:gt.current,j=oi(i,j));var Y=a.getDerivedStateFromProps;(U=typeof Y=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==z||V!==j)&&op(i,x,c,j),Xn=!1,V=i.memoizedState,x.state=V,Wo(i,c,x,f);var Z=i.memoizedState;E!==z||V!==Z||jt.current||Xn?(typeof Y=="function"&&(wu(i,a,Y,c),Z=i.memoizedState),(N=Xn||ip(i,a,N,c,V,Z,j)||!1)?(U||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,Z,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,Z,j)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Z),x.props=c,x.state=Z,x.context=j,c=N):(typeof x.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),c=!1)}return ku(n,i,a,c,g,f)}function ku(n,i,a,c,f,g){gp(n,i);var x=(i.flags&128)!==0;if(!c&&!x)return f&&Sf(i,a,!1),Ln(n,i,g);c=i.stateNode,kx.current=i;var E=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&x?(i.child=ci(i,n.child,null,g),i.child=ci(i,null,E,g)):bt(n,i,E,g),i.memoizedState=c.state,f&&Sf(i,a,!0),i.child}function vp(n){var i=n.stateNode;i.pendingContext?xf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&xf(n,i.context,!1),au(n,i.containerInfo)}function wp(n,i,a,c,f){return ui(),eu(f),i.flags|=256,bt(n,i,a,c),i.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Tu(n){return{baseLanes:n,cachePool:null,transitions:null}}function xp(n,i,a){var c=i.pendingProps,f=$e.current,g=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=n!==null&&n.memoizedState===null?!1:(f&2)!==0),E?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ae($e,f&1),n===null)return Zl(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,n=c.fallback,g?(c=i.mode,g=i.child,x={mode:"hidden",children:x},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=da(x,c,0,null),n=Ar(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Tu(a),i.memoizedState=Eu,n):Cu(i,x));if(f=n.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return Ex(n,i,x,c,E,f,a);if(g){g=c.fallback,x=i.mode,f=n.child,E=f.sibling;var j={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=j,i.deletions=null):(c=sr(f,j),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?g=sr(E,g):(g=Ar(g,x,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,x=n.child.memoizedState,x=x===null?Tu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=n.childLanes&~a,i.memoizedState=Eu,c}return g=n.child,n=g.sibling,c=sr(g,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Cu(n,i){return i=da({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Xo(n,i,a,c){return c!==null&&eu(c),ci(i,n.child,null,a),n=Cu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ex(n,i,a,c,f,g,x){if(a)return i.flags&256?(i.flags&=-257,c=_u(Error(r(422))),Xo(n,i,x,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,f=i.mode,c=da({mode:"visible",children:c.children},f,0,null),g=Ar(g,f,x,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,(i.mode&1)!==0&&ci(i,n.child,null,x),i.child.memoizedState=Tu(x),i.memoizedState=Eu,g);if((i.mode&1)===0)return Xo(n,i,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,g=Error(r(419)),c=_u(g,c,void 0),Xo(n,i,x,c)}if(E=(x&n.childLanes)!==0,Rt||E){if(c=ut,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,On(n,f),an(c,n,f,-1))}return zu(),c=_u(Error(r(421))),Xo(n,i,x,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=$x.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,Mt=Gn(f.nextSibling),Nt=i,De=!0,nn=null,n!==null&&(Wt[qt++]=Rn,Wt[qt++]=An,Wt[qt++]=Sr,Rn=n.id,An=n.overflow,Sr=i),i=Cu(i,c.children),i.flags|=4096,i)}function _p(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),iu(n.return,i,a)}function ju(n,i,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Sp(n,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(bt(n,i,c.children,a),c=$e.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_p(n,a,i);else if(n.tag===19)_p(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ae($e,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&qo(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ju(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&qo(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ju(i,!0,a,null,g);break;case"together":ju(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zo(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ln(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=sr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=sr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Tx(n,i,a){switch(i.tag){case 3:vp(i),ui();break;case 5:Nf(i);break;case 1:Pt(i.type)&&Do(i);break;case 4:au(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ae(Vo,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ae($e,$e.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?xp(n,i,a):(Ae($e,$e.current&1),n=Ln(n,i,a),n!==null?n.sibling:null);Ae($e,$e.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Sp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ae($e,$e.current),c)break;return null;case 22:case 23:return i.lanes=0,mp(n,i,a)}return Ln(n,i,a)}var bp,Pu,kp,Ep;bp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Pu=function(){},kp=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Er(vn.current);var g=null;switch(a){case"input":f=qi(n,f),c=qi(n,c),g=[];break;case"select":f=J({},f,{value:void 0}),c=J({},c,{value:void 0}),g=[];break;case"textarea":f=Ee(n,f),c=Ee(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Oo)}ul(a,c);var x;a=null;for(N in f)if(!c.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var E=f[N];for(x in E)E.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?g||(g=[]):(g=g||[]).push(N,null));for(N in c){var j=c[N];if(E=f?.[N],c.hasOwnProperty(N)&&j!==E&&(j!=null||E!=null))if(N==="style")if(E){for(x in E)!E.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in j)j.hasOwnProperty(x)&&E[x]!==j[x]&&(a||(a={}),a[x]=j[x])}else a||(g||(g=[]),g.push(N,a)),a=j;else N==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,E=E?E.__html:void 0,j!=null&&E!==j&&(g=g||[]).push(N,j)):N==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(N,""+j):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(j!=null&&N==="onScroll"&&Ie("scroll",n),g||E===j||(g=[])):(g=g||[]).push(N,j))}a&&(g=g||[]).push("style",a);var N=g;(i.updateQueue=N)&&(i.flags|=4)}},Ep=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ss(n,i){if(!De)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Cx(n,i,a){var c=i.pendingProps;switch(Ql(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return Pt(i.type)&&Lo(),vt(i),null;case 3:return c=i.stateNode,fi(),Le(jt),Le(gt),cu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Bo(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nn!==null&&(Fu(nn),nn=null))),Pu(n,i),vt(i),null;case 5:lu(i);var f=Er(ys.current);if(a=i.type,n!==null&&i.stateNode!=null)kp(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return vt(i),null}if(n=Er(vn.current),Bo(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[yn]=i,c[hs]=g,n=(i.mode&1)!==0,a){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(f=0;f<us.length;f++)Ie(us[f],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":ao(c,g),Ie("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",c);break;case"textarea":dt(c,g),Ie("invalid",c)}ul(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var E=g[x];x==="children"?typeof E=="string"?c.textContent!==E&&(g.suppressHydrationWarning!==!0&&Ao(c.textContent,E,n),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&Ao(c.textContent,E,n),f=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Ie("scroll",c)}switch(a){case"input":Tt(c),lo(c,g,!0);break;case"textarea":Tt(c),mn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Oo)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ct(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=x.createElement(a,{is:c.is}):(n=x.createElement(a),a==="select"&&(x=n,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):n=x.createElementNS(n,a),n[yn]=i,n[hs]=c,bp(n,i,!1,!1),i.stateNode=n;e:{switch(x=cl(a,c),a){case"dialog":Ie("cancel",n),Ie("close",n),f=c;break;case"iframe":case"object":case"embed":Ie("load",n),f=c;break;case"video":case"audio":for(f=0;f<us.length;f++)Ie(us[f],n);f=c;break;case"source":Ie("error",n),f=c;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),f=c;break;case"details":Ie("toggle",n),f=c;break;case"input":ao(n,c),f=qi(n,c),Ie("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=J({},c,{value:void 0}),Ie("invalid",n);break;case"textarea":dt(n,c),f=Ee(n,c),Ie("invalid",n);break;default:f=c}ul(a,f),E=f;for(g in E)if(E.hasOwnProperty(g)){var j=E[g];g==="style"?fh(n,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&uo(n,j)):g==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&yr(n,j):typeof j=="number"&&yr(n,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Ie("scroll",n):j!=null&&R(n,g,j,x))}switch(a){case"input":Tt(n),lo(n,c,!1);break;case"textarea":Tt(n),mn(n);break;case"option":c.value!=null&&n.setAttribute("value",""+_e(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?G(n,!!c.multiple,g,!1):c.defaultValue!=null&&G(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Oo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return vt(i),null;case 6:if(n&&i.stateNode!=null)Ep(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(a=Er(ys.current),Er(vn.current),Bo(i)){if(c=i.stateNode,a=i.memoizedProps,c[yn]=i,(g=c.nodeValue!==a)&&(n=Nt,n!==null))switch(n.tag){case 3:Ao(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ao(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[yn]=i,i.stateNode=c}return vt(i),null;case 13:if(Le($e),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(De&&Mt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)jf(),ui(),i.flags|=98560,g=!1;else if(g=Bo(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[yn]=i}else ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),g=!1}else nn!==null&&(Fu(nn),nn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||($e.current&1)!==0?it===0&&(it=3):zu())),i.updateQueue!==null&&(i.flags|=4),vt(i),null);case 4:return fi(),Pu(n,i),n===null&&cs(i.stateNode.containerInfo),vt(i),null;case 10:return ru(i.type._context),vt(i),null;case 17:return Pt(i.type)&&Lo(),vt(i),null;case 19:if(Le($e),g=i.memoizedState,g===null)return vt(i),null;if(c=(i.flags&128)!==0,x=g.rendering,x===null)if(c)Ss(g,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=qo(n),x!==null){for(i.flags|=128,Ss(g,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,n=x.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ae($e,$e.current&1|2),i.child}n=n.sibling}g.tail!==null&&He()>yi&&(i.flags|=128,c=!0,Ss(g,!1),i.lanes=4194304)}else{if(!c)if(n=qo(x),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ss(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!De)return vt(i),null}else 2*He()-g.renderingStartTime>yi&&a!==1073741824&&(i.flags|=128,c=!0,Ss(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=He(),i.sibling=null,a=$e.current,Ae($e,c?a&1|2:a&1),i):(vt(i),null);case 22:case 23:return Uu(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?($t&1073741824)!==0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function jx(n,i){switch(Ql(i),i.tag){case 1:return Pt(i.type)&&Lo(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return fi(),Le(jt),Le(gt),cu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return lu(i),null;case 13:if(Le($e),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ui()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Le($e),null;case 4:return fi(),null;case 10:return ru(i.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var ea=!1,wt=!1,Px=typeof WeakSet=="function"?WeakSet:Set,X=null;function mi(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){We(n,i,c)}else a.current=null}function Ru(n,i,a){try{a()}catch(c){We(n,i,c)}}var Tp=!1;function Rx(n,i){if(Ul=xo,n=rf(),Ll(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,E=-1,j=-1,N=0,U=0,z=n,V=null;t:for(;;){for(var Y;z!==a||f!==0&&z.nodeType!==3||(E=x+f),z!==g||c!==0&&z.nodeType!==3||(j=x+c),z.nodeType===3&&(x+=z.nodeValue.length),(Y=z.firstChild)!==null;)V=z,z=Y;for(;;){if(z===n)break t;if(V===a&&++N===f&&(E=x),V===g&&++U===c&&(j=x),(Y=z.nextSibling)!==null)break;z=V,V=z.parentNode}z=Y}a=E===-1||j===-1?null:{start:E,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(zl={focusedElem:n,selectionRange:a},xo=!1,X=i;X!==null;)if(i=X,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,X=n;else for(;X!==null;){i=X;try{var Z=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,Ke=Z.memoizedState,I=i.stateNode,A=I.getSnapshotBeforeUpdate(i.elementType===i.type?ee:rn(i.type,ee),Ke);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=i.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(H){We(i,i.return,H)}if(n=i.sibling,n!==null){n.return=i.return,X=n;break}X=i.return}return Z=Tp,Tp=!1,Z}function bs(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Ru(i,a,g)}f=f.next}while(f!==c)}}function ta(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Au(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Cp(n){var i=n.alternate;i!==null&&(n.alternate=null,Cp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[yn],delete i[hs],delete i[Kl],delete i[hx],delete i[fx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jp(n){return n.tag===5||n.tag===3||n.tag===4}function Pp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ou(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Oo));else if(c!==4&&(n=n.child,n!==null))for(Ou(n,i,a),n=n.sibling;n!==null;)Ou(n,i,a),n=n.sibling}function Iu(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Iu(n,i,a),n=n.sibling;n!==null;)Iu(n,i,a),n=n.sibling}var ht=null,sn=!1;function er(n,i,a){for(a=a.child;a!==null;)Rp(n,i,a),a=a.sibling}function Rp(n,i,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(po,a)}catch{}switch(a.tag){case 5:wt||mi(a,i);case 6:var c=ht,f=sn;ht=null,er(n,i,a),ht=c,sn=f,ht!==null&&(sn?(n=ht,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):ht.removeChild(a.stateNode));break;case 18:ht!==null&&(sn?(n=ht,a=a.stateNode,n.nodeType===8?Hl(n.parentNode,a):n.nodeType===1&&Hl(n,a),ts(n)):Hl(ht,a.stateNode));break;case 4:c=ht,f=sn,ht=a.stateNode.containerInfo,sn=!0,er(n,i,a),ht=c,sn=f;break;case 0:case 11:case 14:case 15:if(!wt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&Ru(a,i,x),f=f.next}while(f!==c)}er(n,i,a);break;case 1:if(!wt&&(mi(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){We(a,i,E)}er(n,i,a);break;case 21:er(n,i,a);break;case 22:a.mode&1?(wt=(c=wt)||a.memoizedState!==null,er(n,i,a),wt=c):er(n,i,a);break;default:er(n,i,a)}}function Ap(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Px),i.forEach(function(c){var f=Bx.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function on(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 5:ht=E.stateNode,sn=!1;break e;case 3:ht=E.stateNode.containerInfo,sn=!0;break e;case 4:ht=E.stateNode.containerInfo,sn=!0;break e}E=E.return}if(ht===null)throw Error(r(160));Rp(g,x,f),ht=null,sn=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(N){We(f,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Op(i,n),i=i.sibling}function Op(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(on(i,n),xn(n),c&4){try{bs(3,n,n.return),ta(3,n)}catch(ee){We(n,n.return,ee)}try{bs(5,n,n.return)}catch(ee){We(n,n.return,ee)}}break;case 1:on(i,n),xn(n),c&512&&a!==null&&mi(a,a.return);break;case 5:if(on(i,n),xn(n),c&512&&a!==null&&mi(a,a.return),n.flags&32){var f=n.stateNode;try{yr(f,"")}catch(ee){We(n,n.return,ee)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,x=a!==null?a.memoizedProps:g,E=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&Qe(f,g),cl(E,x);var N=cl(E,g);for(x=0;x<j.length;x+=2){var U=j[x],z=j[x+1];U==="style"?fh(f,z):U==="dangerouslySetInnerHTML"?uo(f,z):U==="children"?yr(f,z):R(f,U,z,N)}switch(E){case"input":mr(f,g);break;case"textarea":nt(f,g);break;case"select":var V=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var Y=g.value;Y!=null?G(f,!!g.multiple,Y,!1):V!==!!g.multiple&&(g.defaultValue!=null?G(f,!!g.multiple,g.defaultValue,!0):G(f,!!g.multiple,g.multiple?[]:"",!1))}f[hs]=g}catch(ee){We(n,n.return,ee)}}break;case 6:if(on(i,n),xn(n),c&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ee){We(n,n.return,ee)}}break;case 3:if(on(i,n),xn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ts(i.containerInfo)}catch(ee){We(n,n.return,ee)}break;case 4:on(i,n),xn(n);break;case 13:on(i,n),xn(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Nu=He())),c&4&&Ap(n);break;case 22:if(U=a!==null&&a.memoizedState!==null,n.mode&1?(wt=(N=wt)||U,on(i,n),wt=N):on(i,n),xn(n),c&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!U&&(n.mode&1)!==0)for(X=n,U=n.child;U!==null;){for(z=X=U;X!==null;){switch(V=X,Y=V.child,V.tag){case 0:case 11:case 14:case 15:bs(4,V,V.return);break;case 1:mi(V,V.return);var Z=V.stateNode;if(typeof Z.componentWillUnmount=="function"){c=V,a=V.return;try{i=c,Z.props=i.memoizedProps,Z.state=i.memoizedState,Z.componentWillUnmount()}catch(ee){We(c,a,ee)}}break;case 5:mi(V,V.return);break;case 22:if(V.memoizedState!==null){Dp(z);continue}}Y!==null?(Y.return=V,X=Y):Dp(z)}U=U.sibling}e:for(U=null,z=n;;){if(z.tag===5){if(U===null){U=z;try{f=z.stateNode,N?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=z.stateNode,j=z.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,E.style.display=hh("display",x))}catch(ee){We(n,n.return,ee)}}}else if(z.tag===6){if(U===null)try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(ee){We(n,n.return,ee)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===n)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===n)break e;for(;z.sibling===null;){if(z.return===null||z.return===n)break e;U===z&&(U=null),z=z.return}U===z&&(U=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:on(i,n),xn(n),c&4&&Ap(n);break;case 21:break;default:on(i,n),xn(n)}}function xn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(jp(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(yr(f,""),c.flags&=-33);var g=Pp(n);Iu(n,g,f);break;case 3:case 4:var x=c.stateNode.containerInfo,E=Pp(n);Ou(n,E,x);break;default:throw Error(r(161))}}catch(j){We(n,n.return,j)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Ax(n,i,a){X=n,Ip(n)}function Ip(n,i,a){for(var c=(n.mode&1)!==0;X!==null;){var f=X,g=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||ea;if(!x){var E=f.alternate,j=E!==null&&E.memoizedState!==null||wt;E=ea;var N=wt;if(ea=x,(wt=j)&&!N)for(X=f;X!==null;)x=X,j=x.child,x.tag===22&&x.memoizedState!==null?Np(f):j!==null?(j.return=x,X=j):Np(f);for(;g!==null;)X=g,Ip(g),g=g.sibling;X=f,ea=E,wt=N}Lp(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,X=g):Lp(n)}}function Lp(n){for(;X!==null;){var i=X;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:wt||ta(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!wt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:rn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Df(i,g,c);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Df(i,x,a)}break;case 5:var E=i.stateNode;if(a===null&&i.flags&4){a=E;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var U=N.memoizedState;if(U!==null){var z=U.dehydrated;z!==null&&ts(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wt||i.flags&512&&Au(i)}catch(V){We(i,i.return,V)}}if(i===n){X=null;break}if(a=i.sibling,a!==null){a.return=i.return,X=a;break}X=i.return}}function Dp(n){for(;X!==null;){var i=X;if(i===n){X=null;break}var a=i.sibling;if(a!==null){a.return=i.return,X=a;break}X=i.return}}function Np(n){for(;X!==null;){var i=X;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ta(4,i)}catch(j){We(i,a,j)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(j){We(i,f,j)}}var g=i.return;try{Au(i)}catch(j){We(i,g,j)}break;case 5:var x=i.return;try{Au(i)}catch(j){We(i,x,j)}}}catch(j){We(i,i.return,j)}if(i===n){X=null;break}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break}X=i.return}}var Ox=Math.ceil,na=B.ReactCurrentDispatcher,Lu=B.ReactCurrentOwner,Gt=B.ReactCurrentBatchConfig,Se=0,ut=null,Ze=null,ft=0,$t=0,gi=Jn(0),it=0,ks=null,Cr=0,ra=0,Du=0,Es=null,At=null,Nu=0,yi=1/0,Dn=null,ia=!1,Mu=null,tr=null,sa=!1,nr=null,oa=0,Ts=0,$u=null,aa=-1,la=0;function kt(){return(Se&6)!==0?He():aa!==-1?aa:aa=He()}function rr(n){return(n.mode&1)===0?1:(Se&2)!==0&&ft!==0?ft&-ft:mx.transition!==null?(la===0&&(la=jh()),la):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:Mh(n.type)),n)}function an(n,i,a,c){if(50<Ts)throw Ts=0,$u=null,Error(r(185));Yi(n,a,c),((Se&2)===0||n!==ut)&&(n===ut&&((Se&2)===0&&(ra|=a),it===4&&ir(n,ft)),Ot(n,c),a===1&&Se===0&&(i.mode&1)===0&&(yi=He()+500,No&&Qn()))}function Ot(n,i){var a=n.callbackNode;mw(n,i);var c=yo(n,n===ut?ft:0);if(c===0)a!==null&&Eh(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Eh(a),i===1)n.tag===0?px($p.bind(null,n)):bf($p.bind(null,n)),cx(function(){(Se&6)===0&&Qn()}),a=null;else{switch(Ph(c)){case 1:a=yl;break;case 4:a=Th;break;case 16:a=fo;break;case 536870912:a=Ch;break;default:a=fo}a=Hp(a,Mp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Mp(n,i){if(aa=-1,la=0,(Se&6)!==0)throw Error(r(327));var a=n.callbackNode;if(vi()&&n.callbackNode!==a)return null;var c=yo(n,n===ut?ft:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=ua(n,c);else{i=c;var f=Se;Se|=2;var g=Fp();(ut!==n||ft!==i)&&(Dn=null,yi=He()+500,Pr(n,i));do try{Dx();break}catch(E){Bp(n,E)}while(!0);nu(),na.current=g,Se=f,Ze!==null?i=0:(ut=null,ft=0,i=it)}if(i!==0){if(i===2&&(f=vl(n),f!==0&&(c=f,i=Bu(n,f))),i===1)throw a=ks,Pr(n,0),ir(n,c),Ot(n,He()),a;if(i===6)ir(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Ix(f)&&(i=ua(n,c),i===2&&(g=vl(n),g!==0&&(c=g,i=Bu(n,g))),i===1))throw a=ks,Pr(n,0),ir(n,c),Ot(n,He()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:Rr(n,At,Dn);break;case 3:if(ir(n,c),(c&130023424)===c&&(i=Nu+500-He(),10<i)){if(yo(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){kt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=ql(Rr.bind(null,n,At,Dn),i);break}Rr(n,At,Dn);break;case 4:if(ir(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var x=31-en(c);g=1<<x,x=i[x],x>f&&(f=x),c&=~g}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ox(c/1960))-c,10<c){n.timeoutHandle=ql(Rr.bind(null,n,At,Dn),c);break}Rr(n,At,Dn);break;case 5:Rr(n,At,Dn);break;default:throw Error(r(329))}}}return Ot(n,He()),n.callbackNode===a?Mp.bind(null,n):null}function Bu(n,i){var a=Es;return n.current.memoizedState.isDehydrated&&(Pr(n,i).flags|=256),n=ua(n,i),n!==2&&(i=At,At=a,i!==null&&Fu(i)),n}function Fu(n){At===null?At=n:At.push.apply(At,n)}function Ix(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!tn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ir(n,i){for(i&=~Du,i&=~ra,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-en(i),c=1<<a;n[a]=-1,i&=~c}}function $p(n){if((Se&6)!==0)throw Error(r(327));vi();var i=yo(n,0);if((i&1)===0)return Ot(n,He()),null;var a=ua(n,i);if(n.tag!==0&&a===2){var c=vl(n);c!==0&&(i=c,a=Bu(n,c))}if(a===1)throw a=ks,Pr(n,0),ir(n,i),Ot(n,He()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Rr(n,At,Dn),Ot(n,He()),null}function Vu(n,i){var a=Se;Se|=1;try{return n(i)}finally{Se=a,Se===0&&(yi=He()+500,No&&Qn())}}function jr(n){nr!==null&&nr.tag===0&&(Se&6)===0&&vi();var i=Se;Se|=1;var a=Gt.transition,c=Ce;try{if(Gt.transition=null,Ce=1,n)return n()}finally{Ce=c,Gt.transition=a,Se=i,(Se&6)===0&&Qn()}}function Uu(){$t=gi.current,Le(gi)}function Pr(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,ux(a)),Ze!==null)for(a=Ze.return;a!==null;){var c=a;switch(Ql(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Lo();break;case 3:fi(),Le(jt),Le(gt),cu();break;case 5:lu(c);break;case 4:fi();break;case 13:Le($e);break;case 19:Le($e);break;case 10:ru(c.type._context);break;case 22:case 23:Uu()}a=a.return}if(ut=n,Ze=n=sr(n.current,null),ft=$t=i,it=0,ks=null,Du=ra=Cr=0,At=Es=null,kr!==null){for(i=0;i<kr.length;i++)if(a=kr[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,c.next=x}a.pending=c}kr=null}return n}function Bp(n,i){do{var a=Ze;try{if(nu(),Ho.current=Yo,Ko){for(var c=Be.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ko=!1}if(Tr=0,lt=rt=Be=null,vs=!1,ws=0,Lu.current=null,a===null||a.return===null){it=1,ks=i,Ze=null;break}e:{var g=n,x=a.return,E=a,j=i;if(i=ft,E.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var N=j,U=E,z=U.tag;if((U.mode&1)===0&&(z===0||z===11||z===15)){var V=U.alternate;V?(U.updateQueue=V.updateQueue,U.memoizedState=V.memoizedState,U.lanes=V.lanes):(U.updateQueue=null,U.memoizedState=null)}var Y=cp(x);if(Y!==null){Y.flags&=-257,dp(Y,x,E,g,i),Y.mode&1&&up(g,N,i),i=Y,j=N;var Z=i.updateQueue;if(Z===null){var ee=new Set;ee.add(j),i.updateQueue=ee}else Z.add(j);break e}else{if((i&1)===0){up(g,N,i),zu();break e}j=Error(r(426))}}else if(De&&E.mode&1){var Ke=cp(x);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),dp(Ke,x,E,g,i),eu(pi(j,E));break e}}g=j=pi(j,E),it!==4&&(it=2),Es===null?Es=[g]:Es.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var I=ap(g,j,i);Lf(g,I);break e;case 1:E=j;var A=g.type,L=g.stateNode;if((g.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(tr===null||!tr.has(L)))){g.flags|=65536,i&=-i,g.lanes|=i;var H=lp(g,E,i);Lf(g,H);break e}}g=g.return}while(g!==null)}Up(a)}catch(ie){i=ie,Ze===a&&a!==null&&(Ze=a=a.return);continue}break}while(!0)}function Fp(){var n=na.current;return na.current=Yo,n===null?Yo:n}function zu(){(it===0||it===3||it===2)&&(it=4),ut===null||(Cr&268435455)===0&&(ra&268435455)===0||ir(ut,ft)}function ua(n,i){var a=Se;Se|=2;var c=Fp();(ut!==n||ft!==i)&&(Dn=null,Pr(n,i));do try{Lx();break}catch(f){Bp(n,f)}while(!0);if(nu(),Se=a,na.current=c,Ze!==null)throw Error(r(261));return ut=null,ft=0,it}function Lx(){for(;Ze!==null;)Vp(Ze)}function Dx(){for(;Ze!==null&&!ow();)Vp(Ze)}function Vp(n){var i=qp(n.alternate,n,$t);n.memoizedProps=n.pendingProps,i===null?Up(n):Ze=i,Lu.current=null}function Up(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=Cx(a,i,$t),a!==null){Ze=a;return}}else{if(a=jx(a,i),a!==null){a.flags&=32767,Ze=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{it=6,Ze=null;return}}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=n}while(i!==null);it===0&&(it=5)}function Rr(n,i,a){var c=Ce,f=Gt.transition;try{Gt.transition=null,Ce=1,Nx(n,i,a,c)}finally{Gt.transition=f,Ce=c}return null}function Nx(n,i,a,c){do vi();while(nr!==null);if((Se&6)!==0)throw Error(r(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(gw(n,g),n===ut&&(Ze=ut=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||sa||(sa=!0,Hp(fo,function(){return vi(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Gt.transition,Gt.transition=null;var x=Ce;Ce=1;var E=Se;Se|=4,Lu.current=null,Rx(n,a),Op(a,n),nx(zl),xo=!!Ul,zl=Ul=null,n.current=a,Ax(a),aw(),Se=E,Ce=x,Gt.transition=g}else n.current=a;if(sa&&(sa=!1,nr=n,oa=f),g=n.pendingLanes,g===0&&(tr=null),cw(a.stateNode),Ot(n,He()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(ia)throw ia=!1,n=Mu,Mu=null,n;return(oa&1)!==0&&n.tag!==0&&vi(),g=n.pendingLanes,(g&1)!==0?n===$u?Ts++:(Ts=0,$u=n):Ts=0,Qn(),null}function vi(){if(nr!==null){var n=Ph(oa),i=Gt.transition,a=Ce;try{if(Gt.transition=null,Ce=16>n?16:n,nr===null)var c=!1;else{if(n=nr,nr=null,oa=0,(Se&6)!==0)throw Error(r(331));var f=Se;for(Se|=4,X=n.current;X!==null;){var g=X,x=g.child;if((X.flags&16)!==0){var E=g.deletions;if(E!==null){for(var j=0;j<E.length;j++){var N=E[j];for(X=N;X!==null;){var U=X;switch(U.tag){case 0:case 11:case 15:bs(8,U,g)}var z=U.child;if(z!==null)z.return=U,X=z;else for(;X!==null;){U=X;var V=U.sibling,Y=U.return;if(Cp(U),U===N){X=null;break}if(V!==null){V.return=Y,X=V;break}X=Y}}}var Z=g.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var Ke=ee.sibling;ee.sibling=null,ee=Ke}while(ee!==null)}}X=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,X=x;else e:for(;X!==null;){if(g=X,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:bs(9,g,g.return)}var I=g.sibling;if(I!==null){I.return=g.return,X=I;break e}X=g.return}}var A=n.current;for(X=A;X!==null;){x=X;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,X=L;else e:for(x=A;X!==null;){if(E=X,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:ta(9,E)}}catch(ie){We(E,E.return,ie)}if(E===x){X=null;break e}var H=E.sibling;if(H!==null){H.return=E.return,X=H;break e}X=E.return}}if(Se=f,Qn(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(po,n)}catch{}c=!0}return c}finally{Ce=a,Gt.transition=i}}return!1}function zp(n,i,a){i=pi(a,i),i=ap(n,i,1),n=Zn(n,i,1),i=kt(),n!==null&&(Yi(n,1,i),Ot(n,i))}function We(n,i,a){if(n.tag===3)zp(n,n,a);else for(;i!==null;){if(i.tag===3){zp(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(tr===null||!tr.has(c))){n=pi(a,n),n=lp(i,n,1),i=Zn(i,n,1),n=kt(),i!==null&&(Yi(i,1,n),Ot(i,n));break}}i=i.return}}function Mx(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=kt(),n.pingedLanes|=n.suspendedLanes&a,ut===n&&(ft&a)===a&&(it===4||it===3&&(ft&130023424)===ft&&500>He()-Nu?Pr(n,0):Du|=a),Ot(n,i)}function Wp(n,i){i===0&&((n.mode&1)===0?i=1:(i=go,go<<=1,(go&130023424)===0&&(go=4194304)));var a=kt();n=On(n,i),n!==null&&(Yi(n,i,a),Ot(n,a))}function $x(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Wp(n,a)}function Bx(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),Wp(n,a)}var qp;qp=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||jt.current)Rt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Rt=!1,Tx(n,i,a);Rt=(n.flags&131072)!==0}else Rt=!1,De&&(i.flags&1048576)!==0&&kf(i,$o,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Zo(n,i),n=i.pendingProps;var f=oi(i,gt.current);hi(i,a),f=fu(null,i,c,n,f,a);var g=pu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pt(c)?(g=!0,Do(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ou(i),f.updater=Qo,i.stateNode=f,f._reactInternals=i,xu(i,c,n,a),i=ku(null,i,c,!0,g,a)):(i.tag=0,De&&g&&Yl(i),bt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Zo(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Vx(c),n=rn(c,n),f){case 0:i=bu(null,i,c,n,a);break e;case 1:i=yp(null,i,c,n,a);break e;case 11:i=hp(null,i,c,n,a);break e;case 14:i=fp(null,i,c,rn(c.type,n),a);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:rn(c,f),bu(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:rn(c,f),yp(n,i,c,f,a);case 3:e:{if(vp(i),n===null)throw Error(r(387));c=i.pendingProps,g=i.memoizedState,f=g.element,If(n,i),Wo(i,c,null,a);var x=i.memoizedState;if(c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=pi(Error(r(423)),i),i=wp(n,i,c,a,f);break e}else if(c!==f){f=pi(Error(r(424)),i),i=wp(n,i,c,a,f);break e}else for(Mt=Gn(i.stateNode.containerInfo.firstChild),Nt=i,De=!0,nn=null,a=Af(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ui(),c===f){i=Ln(n,i,a);break e}bt(n,i,c,a)}i=i.child}return i;case 5:return Nf(i),n===null&&Zl(i),c=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,x=f.children,Wl(c,f)?x=null:g!==null&&Wl(c,g)&&(i.flags|=32),gp(n,i),bt(n,i,x,a),i.child;case 6:return n===null&&Zl(i),null;case 13:return xp(n,i,a);case 4:return au(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ci(i,null,c,a):bt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:rn(c,f),hp(n,i,c,f,a);case 7:return bt(n,i,i.pendingProps,a),i.child;case 8:return bt(n,i,i.pendingProps.children,a),i.child;case 12:return bt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,g=i.memoizedProps,x=f.value,Ae(Vo,c._currentValue),c._currentValue=x,g!==null)if(tn(g.value,x)){if(g.children===f.children&&!jt.current){i=Ln(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){x=g.child;for(var j=E.firstContext;j!==null;){if(j.context===c){if(g.tag===1){j=In(-1,a&-a),j.tag=2;var N=g.updateQueue;if(N!==null){N=N.shared;var U=N.pending;U===null?j.next=j:(j.next=U.next,U.next=j),N.pending=j}}g.lanes|=a,j=g.alternate,j!==null&&(j.lanes|=a),iu(g.return,a,i),E.lanes|=a;break}j=j.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=a,E=x.alternate,E!==null&&(E.lanes|=a),iu(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}bt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,hi(i,a),f=Ht(f),c=c(f),i.flags|=1,bt(n,i,c,a),i.child;case 14:return c=i.type,f=rn(c,i.pendingProps),f=rn(c.type,f),fp(n,i,c,f,a);case 15:return pp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:rn(c,f),Zo(n,i),i.tag=1,Pt(c)?(n=!0,Do(i)):n=!1,hi(i,a),sp(i,c,f),xu(i,c,f,a),ku(null,i,c,!0,n,a);case 19:return Sp(n,i,a);case 22:return mp(n,i,a)}throw Error(r(156,i.tag))};function Hp(n,i){return kh(n,i)}function Fx(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,i,a,c){return new Fx(n,i,a,c)}function Wu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vx(n){if(typeof n=="function")return Wu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===we)return 11;if(n===Ye)return 14}return 2}function sr(n,i){var a=n.alternate;return a===null?(a=Jt(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ca(n,i,a,c,f,g){var x=2;if(c=n,typeof n=="function")Wu(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case q:return Ar(a.children,f,g,i);case W:x=8,f|=8;break;case M:return n=Jt(12,a,i,f|2),n.elementType=M,n.lanes=g,n;case xe:return n=Jt(13,a,i,f),n.elementType=xe,n.lanes=g,n;case Pe:return n=Jt(19,a,i,f),n.elementType=Pe,n.lanes=g,n;case he:return da(a,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:x=10;break e;case ce:x=9;break e;case we:x=11;break e;case Ye:x=14;break e;case Me:x=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Jt(x,a,i,f),i.elementType=n,i.type=c,i.lanes=g,i}function Ar(n,i,a,c){return n=Jt(7,n,c,i),n.lanes=a,n}function da(n,i,a,c){return n=Jt(22,n,c,i),n.elementType=he,n.lanes=a,n.stateNode={isHidden:!1},n}function qu(n,i,a){return n=Jt(6,n,null,i),n.lanes=a,n}function Hu(n,i,a){return i=Jt(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Ux(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ku(n,i,a,c,f,g,x,E,j){return n=new Ux(n,i,a,E,j),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Jt(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(g),n}function zx(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Kp(n){if(!n)return Yn;n=n._reactInternals;e:{if(wr(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(Pt(a))return _f(n,a,i)}return i}function Gp(n,i,a,c,f,g,x,E,j){return n=Ku(a,c,!0,n,f,g,x,E,j),n.context=Kp(null),a=n.current,c=kt(),f=rr(a),g=In(c,f),g.callback=i??null,Zn(a,g,f),n.current.lanes=f,Yi(n,f,c),Ot(n,c),n}function ha(n,i,a,c){var f=i.current,g=kt(),x=rr(f);return a=Kp(a),i.context===null?i.context=a:i.pendingContext=a,i=In(g,x),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Zn(f,i,x),n!==null&&(an(n,f,x,g),zo(n,f,x)),x}function fa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jp(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Gu(n,i){Jp(n,i),(n=n.alternate)&&Jp(n,i)}function Wx(){return null}var Yp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ju(n){this._internalRoot=n}pa.prototype.render=Ju.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));ha(n,i,null,null)},pa.prototype.unmount=Ju.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;jr(function(){ha(null,n,null,null)}),i[jn]=null}};function pa(n){this._internalRoot=n}pa.prototype.unstable_scheduleHydration=function(n){if(n){var i=Oh();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qn.length&&i!==0&&i<qn[a].priority;a++);qn.splice(a,0,n),a===0&&Dh(n)}};function Yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ma(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function qx(n,i,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var N=fa(x);g.call(N)}}var x=Gp(i,c,n,0,null,!1,!1,"",Qp);return n._reactRootContainer=x,n[jn]=x.current,cs(n.nodeType===8?n.parentNode:n),jr(),x}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var N=fa(j);E.call(N)}}var j=Ku(n,0,!1,null,null,!1,!1,"",Qp);return n._reactRootContainer=j,n[jn]=j.current,cs(n.nodeType===8?n.parentNode:n),jr(function(){ha(i,j,a,c)}),j}function ga(n,i,a,c,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var E=f;f=function(){var j=fa(x);E.call(j)}}ha(i,x,n,f)}else x=qx(a,i,n,f,c);return fa(x)}Rh=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ji(i.pendingLanes);a!==0&&(xl(i,a|1),Ot(i,He()),(Se&6)===0&&(yi=He()+500,Qn()))}break;case 13:jr(function(){var c=On(n,1);if(c!==null){var f=kt();an(c,n,1,f)}}),Gu(n,1)}},_l=function(n){if(n.tag===13){var i=On(n,134217728);if(i!==null){var a=kt();an(i,n,134217728,a)}Gu(n,134217728)}},Ah=function(n){if(n.tag===13){var i=rr(n),a=On(n,i);if(a!==null){var c=kt();an(a,n,i,c)}Gu(n,i)}},Oh=function(){return Ce},Ih=function(n,i){var a=Ce;try{return Ce=n,i()}finally{Ce=a}},fl=function(n,i,a){switch(i){case"input":if(mr(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Io(c);if(!f)throw Error(r(90));oo(c),mr(c,f)}}}break;case"textarea":nt(n,a);break;case"select":i=a.value,i!=null&&G(n,!!a.multiple,i,!1)}},yh=Vu,vh=jr;var Hx={usingClientEntryPoint:!1,Events:[fs,ii,Io,mh,gh,Vu]},Cs={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kx={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Sh(n),n===null?null:n.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{po=ya.inject(Kx),gn=ya}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx,It.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(i))throw Error(r(200));return zx(n,i,null,a)},It.createRoot=function(n,i){if(!Yu(n))throw Error(r(299));var a=!1,c="",f=Yp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Ku(n,1,!1,null,null,a,!1,c,f),n[jn]=i.current,cs(n.nodeType===8?n.parentNode:n),new Ju(i)},It.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Sh(i),n=n===null?null:n.stateNode,n},It.flushSync=function(n){return jr(n)},It.hydrate=function(n,i,a){if(!ma(i))throw Error(r(200));return ga(null,n,i,!0,a)},It.hydrateRoot=function(n,i,a){if(!Yu(n))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",x=Yp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Gp(i,null,n,1,a??null,f,!1,g,x),n[jn]=i.current,cs(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new pa(i)},It.render=function(n,i,a){if(!ma(i))throw Error(r(200));return ga(null,n,i,!1,a)},It.unmountComponentAtNode=function(n){if(!ma(n))throw Error(r(40));return n._reactRootContainer?(jr(function(){ga(null,null,n,!1,function(){n._reactRootContainer=null,n[jn]=null})}),!0):!1},It.unstable_batchedUpdates=Vu,It.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!ma(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return ga(n,i,a,!1,c)},It.version="18.3.1-next-f1338f8080-20240426",It}var sm;function t1(){if(sm)return Zu.exports;sm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zu.exports=e1(),Zu.exports}var om;function n1(){if(om)return va;om=1;var t=t1();return va.createRoot=t.createRoot,va.hydrateRoot=t.hydrateRoot,va}var r1=n1();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var am="popstate";function i1(t={}){function e(s,o){let{pathname:l,search:u,hash:d}=s.location;return Lc("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:Us(o)}return o1(e,r,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s1(){return Math.random().toString(36).substring(2,10)}function lm(t,e){return{usr:t.state,key:t.key,idx:e}}function Lc(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mi(e):e,state:r,key:e&&e.key||s||s1()}}function Us({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function o1(t,e,r,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,d="POP",h=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let T=m(),C=T==null?null:T-p;p=T,h&&h({action:d,location:b.location,delta:C})}function w(T,C){d="PUSH";let P=Lc(b.location,T,C);p=m()+1;let R=lm(P,p),B=b.createHref(P);try{u.pushState(R,"",B)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(B)}l&&h&&h({action:d,location:b.location,delta:1})}function _(T,C){d="REPLACE";let P=Lc(b.location,T,C);p=m();let R=lm(P,p),B=b.createHref(P);u.replaceState(R,"",B),l&&h&&h({action:d,location:b.location,delta:0})}function k(T){return a1(T)}let b={get action(){return d},get location(){return t(o,u)},listen(T){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(am,v),h=T,()=>{o.removeEventListener(am,v),h=null}},createHref(T){return e(o,T)},createURL:k,encodeLocation(T){let C=k(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:_,go(T){return u.go(T)}};return b}function a1(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ze(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Us(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function ay(t,e,r="/"){return l1(t,e,r,!1)}function l1(t,e,r,s){let o=typeof e=="string"?Mi(e):e,l=Bn(o.pathname||"/",r);if(l==null)return null;let u=ly(t);u1(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=x1(l);d=v1(u[h],p,s)}return d}function ly(t,e=[],r=[],s="",o=!1){let l=(u,d,h=o,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;ze(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let v=$n([s,m.relativePath]),w=r.concat(m);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ly(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:g1(v,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let h of uy(u.path))l(u,d,!0,h)}),e}function uy(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=uy(s.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function u1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:y1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var c1=/^:[\w-]+$/,d1=3,h1=2,f1=1,p1=10,m1=-2,um=t=>t==="*";function g1(t,e){let r=t.split("/"),s=r.length;return r.some(um)&&(s+=m1),e&&(s+=h1),r.filter(o=>!um(o)).reduce((o,l)=>o+(c1.test(l)?d1:l===""?f1:p1),s)}function y1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function v1(t,e,r=!1){let{routesMeta:s}=t,o={},l="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,m=l==="/"?e:e.slice(l.length)||"/",v=Fa({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),w=h.route;if(!v&&p&&r&&!s[s.length-1].route.index&&(v=Fa({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:$n([l,v.pathname]),pathnameBase:k1($n([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=$n([l,v.pathnameBase]))}return u}function Fa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=w1(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:v},w)=>{if(m==="*"){let k=d[w]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const _=d[w];return v&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function w1(t,e=!1,r=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function x1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function _1(t,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Mi(t):t;return{pathname:r?r.startsWith("/")?r:S1(r,e):e,search:E1(s),hash:T1(o)}}function S1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function nc(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cy(t){let e=b1(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function dy(t,e,r,s=!1){let o;typeof t=="string"?o=Mi(t):(o={...t},ze(!o.pathname||!o.pathname.includes("?"),nc("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),nc("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),nc("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let h=_1(o,d),p=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var $n=t=>t.join("/").replace(/\/\/+/g,"/"),k1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hy=["POST","PUT","PATCH","DELETE"];new Set(hy);var j1=["GET",...hy];new Set(j1);var $i=S.createContext(null);$i.displayName="DataRouter";var Za=S.createContext(null);Za.displayName="DataRouterState";S.createContext(!1);var fy=S.createContext({isTransitioning:!1});fy.displayName="ViewTransition";var P1=S.createContext(new Map);P1.displayName="Fetchers";var R1=S.createContext(null);R1.displayName="Await";var En=S.createContext(null);En.displayName="Navigation";var Xs=S.createContext(null);Xs.displayName="Location";var Tn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var yd=S.createContext(null);yd.displayName="RouteError";function A1(t,{relative:e}={}){ze(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=S.useContext(En),{hash:o,pathname:l,search:u}=eo(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:$n([r,l])),s.createHref({pathname:d,search:u,hash:o})}function Zs(){return S.useContext(Xs)!=null}function fn(){return ze(Zs(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Xs).location}var py="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function my(t){S.useContext(En).static||S.useLayoutEffect(t)}function Cn(){let{isDataRoute:t}=S.useContext(Tn);return t?W1():O1()}function O1(){ze(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext($i),{basename:e,navigator:r}=S.useContext(En),{matches:s}=S.useContext(Tn),{pathname:o}=fn(),l=JSON.stringify(cy(s)),u=S.useRef(!1);return my(()=>{u.current=!0}),S.useCallback((h,p={})=>{if(kn(u.current,py),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=dy(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:$n([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,l,o,t])}S.createContext(null);function gy(){let{matches:t}=S.useContext(Tn),e=t[t.length-1];return e?e.params:{}}function eo(t,{relative:e}={}){let{matches:r}=S.useContext(Tn),{pathname:s}=fn(),o=JSON.stringify(cy(r));return S.useMemo(()=>dy(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function I1(t,e){return yy(t,e)}function yy(t,e,r,s,o){ze(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(En),{matches:u}=S.useContext(Tn),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";vy(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=fn(),_;if(e){let P=typeof e=="string"?Mi(e):e;ze(m==="/"||P.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=w;let k=_.pathname||"/",b=k;if(m!=="/"){let P=m.replace(/^\//,"").split("/");b="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=ay(t,{pathname:b});kn(v||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),kn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=$1(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:$n([m,l.encodeLocation?l.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:$n([m,l.encodeLocation?l.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,r,s,o);return e&&C?S.createElement(Xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function L1(){let t=z1(),e=C1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:o},r):null,u)}var D1=S.createElement(L1,null),N1=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Tn.Provider,{value:this.props.routeContext},S.createElement(yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M1({routeContext:t,match:e,children:r}){let s=S.useContext($i);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Tn.Provider,{value:t},r)}function $1(t,e=[],r=null,s=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:v,errors:w}=r,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||_){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,v)=>{let w,_=!1,k=null,b=null;r&&(w=u&&m.route.id?u[m.route.id]:void 0,k=m.route.errorElement||D1,d&&(h<0&&v===0?(vy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):h===v&&(_=!0,b=m.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,v+1)),C=()=>{let P;return w?P=k:_?P=b:m.route.Component?P=S.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,S.createElement(M1,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:P})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?S.createElement(N1,{location:r.location,revalidation:r.revalidation,component:k,error:w,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:s}):C()},null)}function vd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(t){let e=S.useContext($i);return ze(e,vd(t)),e}function F1(t){let e=S.useContext(Za);return ze(e,vd(t)),e}function V1(t){let e=S.useContext(Tn);return ze(e,vd(t)),e}function wd(t){let e=V1(t),r=e.matches[e.matches.length-1];return ze(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function U1(){return wd("useRouteId")}function z1(){let t=S.useContext(yd),e=F1("useRouteError"),r=wd("useRouteError");return t!==void 0?t:e.errors?.[r]}function W1(){let{router:t}=B1("useNavigate"),e=wd("useNavigate"),r=S.useRef(!1);return my(()=>{r.current=!0}),S.useCallback(async(o,l={})=>{kn(r.current,py),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var cm={};function vy(t,e,r){!e&&!cm[t]&&(cm[t]=!0,kn(!1,r))}S.memo(q1);function q1({routes:t,future:e,state:r,unstable_onError:s}){return yy(t,void 0,r,s,e)}function _t(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:l=!1}){ze(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof r=="string"&&(r=Mi(r));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:w="default"}=r,_=S.useMemo(()=>{let k=Bn(h,u);return k==null?null:{location:{pathname:k,search:p,hash:m,state:v,key:w},navigationType:s}},[u,h,p,m,v,w,s]);return kn(_!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(En.Provider,{value:d},S.createElement(Xs.Provider,{children:e,value:_}))}function K1({children:t,location:e}){return I1(Dc(t),e)}function Dc(t,e=[]){let r=[];return S.Children.forEach(t,(s,o)=>{if(!S.isValidElement(s))return;let l=[...e,o];if(s.type===S.Fragment){r.push.apply(r,Dc(s.props.children,l));return}ze(s.type===_t,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Dc(s.props.children,l)),r.push(u)}),r}var La="get",Da="application/x-www-form-urlencoded";function el(t){return t!=null&&typeof t.tagName=="string"}function G1(t){return el(t)&&t.tagName.toLowerCase()==="button"}function J1(t){return el(t)&&t.tagName.toLowerCase()==="form"}function Y1(t){return el(t)&&t.tagName.toLowerCase()==="input"}function Q1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X1(t,e){return t.button===0&&(!e||e==="_self")&&!Q1(t)}var wa=null;function Z1(){if(wa===null)try{new FormData(document.createElement("form"),0),wa=!1}catch{wa=!0}return wa}var e_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rc(t){return t!=null&&!e_.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Da}"`),null):t}function t_(t,e){let r,s,o,l,u;if(J1(t)){let d=t.getAttribute("action");s=d?Bn(d,e):null,r=t.getAttribute("method")||La,o=rc(t.getAttribute("enctype"))||Da,l=new FormData(t)}else if(G1(t)||Y1(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?Bn(h,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||La,o=rc(t.getAttribute("formenctype"))||rc(d.getAttribute("enctype"))||Da,l=new FormData(d,t),!Z1()){let{name:p,type:m,value:v}=t;if(m==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(el(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=La,s=null,o=Da,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n_(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Bn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function r_(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s_(t,e,r){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await r_(l,r);return u.links?u.links():[]}return[]}));return u_(s.flat(1).filter(i_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dm(t,e,r,s,o,l){let u=(h,p)=>r[p]?h.route.id!==r[p].route.id:!0,d=(h,p)=>r[p].pathname!==h.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function o_(t,e,{includeHydrateFallback:r}={}){return a_(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function a_(t){return[...new Set(t)]}function l_(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function u_(t,e){let r=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(l_(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function wy(){let t=S.useContext($i);return xd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c_(){let t=S.useContext(Za);return xd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _d=S.createContext(void 0);_d.displayName="FrameworkContext";function xy(){let t=S.useContext(_d);return xd(t,"You must render this element inside a <HydratedRouter> element"),t}function d_(t,e){let r=S.useContext(_d),[s,o]=S.useState(!1),[l,u]=S.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,w=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let b=C=>{C.forEach(P=>{u(P.isIntersecting)})},T=new IntersectionObserver(b,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[t]),S.useEffect(()=>{if(s){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[s]);let _=()=>{o(!0)},k=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ps(d,_),onBlur:Ps(h,k),onMouseEnter:Ps(p,_),onMouseLeave:Ps(m,k),onTouchStart:Ps(v,_)}]:[!1,w,{}]}function Ps(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function h_({page:t,...e}){let{router:r}=wy(),s=S.useMemo(()=>ay(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?S.createElement(p_,{page:t,matches:s,...e}):null}function f_(t){let{manifest:e,routeModules:r}=xy(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return s_(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),s}function p_({page:t,matches:e,...r}){let s=fn(),{manifest:o,routeModules:l}=xy(),{basename:u}=wy(),{loaderData:d,matches:h}=c_(),p=S.useMemo(()=>dm(t,e,h,o,s,"data"),[t,e,h,o,s]),m=S.useMemo(()=>dm(t,e,h,o,s,"assets"),[t,e,h,o,s]),v=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,b=!1;if(e.forEach(C=>{let P=o.routes[C.route.id];!P||!P.hasLoader||(!p.some(R=>R.route.id===C.route.id)&&C.route.id in d&&l[C.route.id]?.shouldRevalidate||P.hasClientLoader?b=!0:k.add(C.route.id))}),k.size===0)return[];let T=n_(t,u,"data");return b&&k.size>0&&T.searchParams.set("_routes",e.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[u,d,s,o,p,e,t,l]),w=S.useMemo(()=>o_(m,o),[m,o]),_=f_(m);return S.createElement(S.Fragment,null,v.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),w.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),_.map(({key:k,link:b})=>S.createElement("link",{key:k,nonce:r.nonce,...b})))}function m_(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var _y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_y&&(window.__reactRouterVersion="7.9.4")}catch{}function g_({basename:t,children:e,window:r}){let s=S.useRef();s.current==null&&(s.current=i1({window:r,v5Compat:!0}));let o=s.current,[l,u]=S.useState({action:o.action,location:o.location}),d=S.useCallback(h=>{S.startTransition(()=>u(h))},[u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(H1,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=S.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:m,viewTransition:v,...w},_){let{basename:k}=S.useContext(En),b=typeof p=="string"&&Sy.test(p),T,C=!1;if(typeof p=="string"&&b&&(T=p,_y))try{let M=new URL(window.location.href),ne=p.startsWith("//")?new URL(M.protocol+p):new URL(p),ce=Bn(ne.pathname,k);ne.origin===M.origin&&ce!=null?p=ce+ne.search+ne.hash:C=!0}catch{kn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=A1(p,{relative:o}),[R,B,D]=d_(s,w),$=x_(p,{replace:u,state:d,target:h,preventScrollReset:m,relative:o,viewTransition:v});function q(M){e&&e(M),M.defaultPrevented||$(M)}let W=S.createElement("a",{...w,...D,href:T||P,onClick:C||l?e:q,ref:m_(_,B),target:h,"data-discover":!b&&r==="render"?"true":void 0});return R&&!b?S.createElement(S.Fragment,null,W,S.createElement(h_,{page:P})):W});at.displayName="Link";var y_=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},m){let v=eo(u,{relative:p.relative}),w=fn(),_=S.useContext(Za),{navigator:k,basename:b}=S.useContext(En),T=_!=null&&E_(v)&&d===!0,C=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,P=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(P=P.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&b&&(R=Bn(R,b)||R);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=P===C||!o&&P.startsWith(C)&&P.charAt(B)==="/",$=R!=null&&(R===C||!o&&R.startsWith(C)&&R.charAt(C.length)==="/"),q={isActive:D,isPending:$,isTransitioning:T},W=D?e:void 0,M;typeof s=="function"?M=s(q):M=[s,D?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l(q):l;return S.createElement(at,{...p,"aria-current":W,className:M,ref:m,style:ne,to:u,viewTransition:d},typeof h=="function"?h(q):h)});y_.displayName="NavLink";var v_=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:l,method:u=La,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...w},_)=>{let k=b_(),b=k_(d,{relative:p}),T=u.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&Sy.test(d),P=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let B=R.nativeEvent.submitter,D=B?.getAttribute("formmethod")||u;k(B||R.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:v})};return S.createElement("form",{ref:_,method:T,action:b,onSubmit:s?h:P,...w,"data-discover":!C&&t==="render"?"true":void 0})});v_.displayName="Form";function w_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function by(t){let e=S.useContext($i);return ze(e,w_(t)),e}function x_(t,{target:e,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=Cn(),h=fn(),p=eo(t,{relative:l});return S.useCallback(m=>{if(X1(m,e)){m.preventDefault();let v=r!==void 0?r:Us(h)===Us(p);d(t,{replace:v,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,r,s,e,t,o,l,u])}var __=0,S_=()=>`__${String(++__)}__`;function b_(){let{router:t}=by("useSubmit"),{basename:e}=S.useContext(En),r=U1();return S.useCallback(async(s,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=t_(s,e);if(o.navigate===!1){let m=o.fetcherKey||S_();await t.fetch(m,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function k_(t,{relative:e}={}){let{basename:r}=S.useContext(En),s=S.useContext(Tn);ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...eo(t||".",{relative:e})},u=fn();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:$n([r,l.pathname])),Us(l)}function E_(t,{relative:e}={}){let r=S.useContext(fy);ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=by("useViewTransitionState"),o=eo(t,{relative:e});if(!r.isTransitioning)return!1;let l=Bn(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=Bn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Fa(o.pathname,u)!=null||Fa(o.pathname,l)!=null}var ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hm=zr.createContext&&zr.createContext(ky),T_=["attr","size","title"];function C_(t,e){if(t==null)return{};var r=j_(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function j_(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Va.apply(this,arguments)}function fm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fm(Object(r),!0).forEach(function(s){P_(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function P_(t,e,r){return e=R_(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R_(t){var e=A_(t,"string");return typeof e=="symbol"?e:e+""}function A_(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ey(t){return t&&t.map((e,r)=>zr.createElement(e.tag,Ua({key:r},e.attr),Ey(e.child)))}function Ut(t){return e=>zr.createElement(O_,Va({attr:Ua({},t.attr)},e),Ey(t.child))}function O_(t){var e=r=>{var{attr:s,size:o,title:l}=t,u=C_(t,T_),d=o||r.size||"1em",h;return r.className&&(h=r.className),t.className&&(h=(h?h+" ":"")+t.className),zr.createElement("svg",Va({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:h,style:Ua(Ua({color:t.color||r.color},r.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&zr.createElement("title",null,l),t.children)};return hm!==void 0?zr.createElement(hm.Consumer,null,r=>e(r)):e(ky)}function I_(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function L_(t){return Ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function D_(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function pm(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Sd(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function ic(t){return Ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Ty(t){return Ut({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function N_(t){return Ut({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function M_(t){return Ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}var Nc=function(t,e){return Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Nc(t,e)};function Cy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var za=function(){return za=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},za.apply(this,arguments)};function Bi(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function jy(t,e,r,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function Py(t,e){return function(r,s){e(r,s,t)}}function Ry(t,e,r,s,o,l){function u(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,m=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),v,w=!1,_=r.length-1;_>=0;_--){var k={};for(var b in s)k[b]=b==="access"?{}:s[b];for(var b in s.access)k.access[b]=s.access[b];k.addInitializer=function(C){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(C||null))};var T=(0,r[_])(d==="accessor"?{get:m.get,set:m.set}:m[h],k);if(d==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(v=u(T.get))&&(m.get=v),(v=u(T.set))&&(m.set=v),(v=u(T.init))&&o.unshift(v)}else(v=u(T))&&(d==="field"?o.unshift(v):m[h]=v)}p&&Object.defineProperty(p,s.name,m),w=!0}function Ay(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function Oy(t){return typeof t=="symbol"?t:"".concat(t)}function Iy(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ly(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function te(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{p(s.next(m))}catch(v){u(v)}}function h(m){try{p(s.throw(m))}catch(v){u(v)}}function p(m){m.done?l(m.value):o(m.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}function Dy(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(m){return h([p,m])}}function h(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){r.label=p[1];break}if(p[0]===6&&r.label<l[1]){r.label=l[1],l=p;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(p);break}l[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(m){p=[6,m],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var tl=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function Ny(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tl(e,t,r)}function Wa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return l}function My(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bd(arguments[e]));return t}function $y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,o++)s[o]=l[u];return s}function By(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Ii(t){return this instanceof Ii?(this.v=t,this):new Ii(t)}function Fy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(k){return Promise.resolve(k).then(_,v)}}function d(_,k){s[_]&&(o[_]=function(b){return new Promise(function(T,C){l.push([_,b,T,C])>1||h(_,b)})},k&&(o[_]=k(o[_])))}function h(_,k){try{p(s[_](k))}catch(b){w(l[0][3],b)}}function p(_){_.value instanceof Ii?Promise.resolve(_.value.v).then(m,v):w(l[0][2],_)}function m(_){h("next",_)}function v(_){h("throw",_)}function w(_,k){_(k),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Vy(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Ii(t[o](u)),done:!1}:l?l(u):u}:l}}function Uy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wa=="function"?Wa(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(l){r[l]=t[l]&&function(u){return new Promise(function(d,h){u=t[l](u),o(d,h,u.done,u.value)})}}function o(l,u,d,h){Promise.resolve(h).then(function(p){l({value:p,done:d})},u)}}function zy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var $_=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Mc=function(t){return Mc=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Mc(t)};function Wy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Mc(t),s=0;s<r.length;s++)r[s]!=="default"&&tl(e,t,r[s]);return $_(e,t),e}function qy(t){return t&&t.__esModule?t:{default:t}}function Hy(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Ky(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Gy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Jy(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var B_=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Yy(t){function e(l){t.error=t.hasError?new B_(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Qy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,l,u){return s?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const F_={__extends:Cy,__assign:za,__rest:Bi,__decorate:jy,__param:Py,__esDecorate:Ry,__runInitializers:Ay,__propKey:Oy,__setFunctionName:Iy,__metadata:Ly,__awaiter:te,__generator:Dy,__createBinding:tl,__exportStar:Ny,__values:Wa,__read:bd,__spread:My,__spreadArrays:$y,__spreadArray:By,__await:Ii,__asyncGenerator:Fy,__asyncDelegator:Vy,__asyncValues:Uy,__makeTemplateObject:zy,__importStar:Wy,__importDefault:qy,__classPrivateFieldGet:Hy,__classPrivateFieldSet:Ky,__classPrivateFieldIn:Gy,__addDisposableResource:Jy,__disposeResources:Yy,__rewriteRelativeImportExtension:Qy},V_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Jy,get __assign(){return za},__asyncDelegator:Vy,__asyncGenerator:Fy,__asyncValues:Uy,__await:Ii,__awaiter:te,__classPrivateFieldGet:Hy,__classPrivateFieldIn:Gy,__classPrivateFieldSet:Ky,__createBinding:tl,__decorate:jy,__disposeResources:Yy,__esDecorate:Ry,__exportStar:Ny,__extends:Cy,__generator:Dy,__importDefault:qy,__importStar:Wy,__makeTemplateObject:zy,__metadata:Ly,__param:Py,__propKey:Oy,__read:bd,__rest:Bi,__rewriteRelativeImportExtension:Qy,__runInitializers:Ay,__setFunctionName:Iy,__spread:My,__spreadArray:By,__spreadArrays:$y,__values:Wa,default:F_},Symbol.toStringTag,{value:"Module"})),U_="modulepreload",z_=function(t){return"/"+t},mm={},Fi=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let p=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=p;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=p(r.map(m=>{if(m=z_(m),m in mm)return;mm[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":U_,v||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),v)return new Promise((k,b)=>{_.addEventListener("load",k),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},W_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Hr);return{default:s}},[]).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class kd extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class gm extends kd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ym extends kd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vm extends kd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $c;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($c||($c={}));class q_{constructor(e,{headers:r={},customFetch:s,region:o=$c.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=W_(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return te(this,arguments,void 0,function*(r,s={}){var o;try{const{headers:l,method:u,body:d,signal:h}=s;let p={},{region:m}=s;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(p["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(p["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:w,signal:h}).catch(C=>{throw C.name==="AbortError"?C:new gm(C)}),k=_.headers.get("x-relay-error");if(k&&k==="true")throw new ym(_);if(!_.ok)throw new vm(_);let b=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield _.json():b==="application/octet-stream"||b==="application/pdf"?T=yield _.blob():b==="text/event-stream"?T=_:b==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new gm(l)}:{data:null,error:l,response:l instanceof vm||l instanceof ym?l.context:void 0}}})}}var xt={};const Vi=oy(V_);var xa={},_a={},Sa={},ba={},ka={},H_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Li=H_();const K_=Li.fetch,Xy=Li.fetch.bind(Li),Zy=Li.Headers,G_=Li.Request,J_=Li.Response,Hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zy,Request:G_,Response:J_,default:Xy,fetch:K_},Symbol.toStringTag,{value:"Module"})),Y_=oy(Hr);var Ea={},wm;function ev(){if(wm)return Ea;wm=1,Object.defineProperty(Ea,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ea.default=t,Ea}var xm;function tv(){if(xm)return ka;xm=1,Object.defineProperty(ka,"__esModule",{value:!0});const t=Vi,e=t.__importDefault(Y_),r=t.__importDefault(ev());class s{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,v,w,_;let k=null,b=null,T=null,C=p.status,P=p.statusText;if(p.ok){if(this.method!=="HEAD"){const $=await p.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=$:b=JSON.parse($))}const B=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),D=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");B&&D&&D.length>1&&(T=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(k={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,C=406,P="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const B=await p.text();try{k=JSON.parse(B),Array.isArray(k)&&p.status===404&&(b=[],k=null,C=200,P="OK")}catch{p.status===404&&B===""?(C=204,P="No Content"):k={message:B}}if(k&&this.isMaybeSingle&&(!((_=k?.details)===null||_===void 0)&&_.includes("0 rows"))&&(k=null,C=200,P="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:b,count:T,status:C,statusText:P}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,v,w;return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:`${(v=p?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,u)}returns(){return this}overrideTypes(){return this}}return ka.default=s,ka}var _m;function nv(){if(_m)return ba;_m=1,Object.defineProperty(ba,"__esModule",{value:!0});const e=Vi.__importDefault(tv());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var m;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ba.default=r,ba}var Sm;function Ed(){if(Sm)return Sa;Sm=1,Object.defineProperty(Sa,"__esModule",{value:!0});const e=Vi.__importDefault(nv());class r extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return Sa.default=r,Sa}var bm;function rv(){if(bm)return _a;bm=1,Object.defineProperty(_a,"__esModule",{value:!0});const e=Vi.__importDefault(Ed());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,l){const{head:u=!1,count:d}=l??{},h=u?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(p.length>0){const m=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return _a.default=r,_a}var km;function Q_(){if(km)return xa;km=1,Object.defineProperty(xa,"__esModule",{value:!0});const t=Vi,e=t.__importDefault(rv()),r=t.__importDefault(Ed());class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:p}={}){var m;let v;const w=new URL(`${this.url}/rpc/${l}`);let _;d||h?(v=d?"HEAD":"GET",Object.entries(u).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{w.searchParams.append(b,T)})):(v="POST",_=u);const k=new Headers(this.headers);return p&&k.set("Prefer",`count=${p}`),new r.default({method:v,url:w,headers:k,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return xa.default=s,xa}var Em;function X_(){if(Em)return xt;Em=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const t=Vi,e=t.__importDefault(Q_());xt.PostgrestClient=e.default;const r=t.__importDefault(rv());xt.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Ed());xt.PostgrestFilterBuilder=s.default;const o=t.__importDefault(nv());xt.PostgrestTransformBuilder=o.default;const l=t.__importDefault(tv());xt.PostgrestBuilder=l.default;const u=t.__importDefault(ev());return xt.PostgrestError=u.default,xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},xt}var Z_=X_();const eS=sy(Z_),{PostgrestClient:tS,PostgrestQueryBuilder:zP,PostgrestFilterBuilder:WP,PostgrestTransformBuilder:qP,PostgrestBuilder:HP,PostgrestError:KP}=eS;class nS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rS="2.76.1",iS=`realtime-js/${rS}`,sS="1.0.0",Bc=1e4,oS=1e3,aS=100;var Is;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Is||(Is={}));var ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ot||(ot={}));var hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hn||(hn={}));var Fc;(function(t){t.websocket="websocket"})(Fc||(Fc={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class lS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+o));u=u+o;const h=s.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:h,payload:p}}}class iv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Oe||(Oe={}));const Tm=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=uS(u,t,e,o),l),{}):{}},uS=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=r[t];return l&&!s.includes(l)?sv(l,u):Vc(u)},sv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return fS(e,r)}switch(t){case Oe.bool:return cS(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return dS(e);case Oe.json:case Oe.jsonb:return hS(e);case Oe.timestamp:return pS(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Vc(e);default:return Vc(e)}},Vc=t=>t,cS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>sv(e,d))}return t},pS=t=>typeof t=="string"?t.replace(" ","T"):t,ov=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class sc{constructor(e,r,s={},o=Bc){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cm||(Cm={}));class Ls{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Ls.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ls.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const v=l[p];if(v){const w=m.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),k=m.filter(T=>_.indexOf(T.presence_ref)<0),b=v.filter(T=>w.indexOf(T.presence_ref)<0);k.length>0&&(d[p]=k),b.length>0&&(h[p]=b)}else d[p]=m}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),m.length>0){const v=e[d].map(_=>_.presence_ref),w=m.filter(_=>v.indexOf(_.presence_ref)<0);e[d].unshift(...w)}s(d,m,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const m=h.map(v=>v.presence_ref);p=p.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jm||(jm={}));var Ds;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ds||(Ds={}));var Nn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class Td{constructor(e,r={config:{}},s){var o,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,hn.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ls(this),this.broadcastEndpointURL=ov(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Nn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket.setAuth(),_===void 0){e?.(Nn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,T=(k=b?.length)!==null&&k!==void 0?k:0,C=[];for(let P=0;P<T;P++){const R=b[P],{filter:{event:B,schema:D,table:$,filter:q}}=R,W=_&&_[P];if(W&&W.event===B&&W.schema===D&&W.table===$&&W.filter===q)C.push(Object.assign(Object.assign({},R),{id:W.id}));else{this.unsubscribe(),this.state=ot.errored,e?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Nn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,e?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===ot.joined&&e===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new sc(this,hn.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new sc(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:m}=hn;if(s&&[d,h,p,m].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var k,b,T;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((T=(b=_.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var k,b,T,C,P,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const B=_.id,D=(k=_.filter)===null||k===void 0?void 0:k.event;return B&&((b=r.ids)===null||b===void 0?void 0:b.includes(B))&&(D==="*"||D?.toLocaleLowerCase()===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const B=(P=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return B==="*"||B===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:b,table:T,commit_timestamp:C,type:P,errors:R}=k;w=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:C,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(k))}_.callback(w,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Td.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hn.close,{},e)}_onError(e){this._on(hn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Tm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Tm(e.columns,e.old_record)),r}}const oc=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mS=[1e3,2e3,5e3,1e4],gS=1e4,yS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vS{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bc,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oc,this.ref=0,this.reconnectTimer=null,this.logger=oc,this.conn=null,this.sendBuffer=[],this.serializer=new lS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Fi(async()=>{const{default:d}=await Promise.resolve().then(()=>Hr);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Fc.websocket}`,this.httpEndpoint=ov(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sS}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return $r.Connecting;case Is.open:return $r.Open;case Is.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Td(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(oS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([yS],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:iS};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(hn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,u,d,h,p,m;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Bc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ta.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:oc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>mS[v-1]||gS),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((v,w)=>w(JSON.stringify(v))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Cd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wS extends Cd{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uc extends Cd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Hr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},xS=()=>te(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fi(()=>Promise.resolve().then(()=>Hr),void 0)).Response:Response}),zc=t=>{if(Array.isArray(t))return t.map(r=>zc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=zc(s)}),e},_S=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),SS=(t,e,r)=>te(void 0,void 0,void 0,function*(){const s=yield xS();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new wS(ac(o),l,u))}).catch(o=>{e(new Uc(ac(o),o))}):e(new Uc(ac(t),t))}),bS=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(_S(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function to(t,e,r,s,o,l){return te(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,bS(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>SS(h,d,s))})})}function zs(t,e,r,s){return te(this,void 0,void 0,function*(){return to(t,"GET",e,r,s)})}function dn(t,e,r,s,o){return te(this,void 0,void 0,function*(){return to(t,"POST",e,s,o,r)})}function Wc(t,e,r,s,o){return te(this,void 0,void 0,function*(){return to(t,"PUT",e,s,o,r)})}function kS(t,e,r,s){return te(this,void 0,void 0,function*(){return to(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Pd(t,e,r,s,o){return te(this,void 0,void 0,function*(){return to(t,"DELETE",e,s,o,r)})}class ES{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}var av;class TS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[av]="BlobDownloadBuilder",this.promise=null}asStream(){return new ES(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}av=Symbol.toStringTag;const CS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jS{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=jd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return te(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Pm),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),m=this._getFinalPath(p),v=yield(e=="PUT"?Wc:dn)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}upload(e,r,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return te(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:Pm.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const v=yield Wc(this.fetch,d.toString(),h,{headers:m});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Ve(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield dn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Cd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}update(e,r,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return te(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}copy(e,r,s){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return te(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield dn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return te(this,void 0,void 0,function*(){try{const o=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>zs(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new TS(h,this.shouldThrowOnError)}info(e){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield zs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}exists(e){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s)&&s instanceof Uc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}list(e,r,s){return te(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},CS),r),{prefix:e||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}listV2(e,r){return te(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const lv="2.76.1",uv={"X-Client-Info":`storage-js/${lv}`};class PS{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),r),this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return te(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}createBucket(e){return te(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return te(this,void 0,void 0,function*(){try{return{data:yield Wc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}emptyBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}}class RS{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),r),this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}listBuckets(e){return te(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,l=yield zs(this.fetch,o,{headers:this.headers});return{data:Array.isArray(l)?l.filter(d=>d.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}}const Rd={"X-Client-Info":`storage-js/${lv}`,"Content-Type":"application/json"};class cv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ft(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class lc extends cv{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class AS extends cv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Rm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Rm||(Rm={}));const Ad=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Hr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},OS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Am=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IS=(t,e,r)=>te(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new lc(Am(u),o,d))}).catch(()=>{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new lc(d,o,u))});else{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new lc(d,o,u))}}else e(new AS(Am(t),t))}),LS=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return s?(OS(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function DS(t,e,r,s,o,l){return te(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,LS(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>IS(h,d,s))})})}function Vt(t,e,r,s,o){return te(this,void 0,void 0,function*(){return DS(t,"POST",e,s,o,r)})}class NS{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rd),r),this.fetch=Ad(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getIndex(e,r){return te(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}listIndexes(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return te(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}}class MS{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rd),r),this.fetch=Ad(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return te(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listVectors(e){return te(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Vt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}queryVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteVectors(e){return te(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}}class $S{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rd),r),this.fetch=Ad(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listBuckets(){return te(this,arguments,void 0,function*(e={}){try{return{data:yield Vt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}}class BS extends $S{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new FS(this.url,this.headers,e,this.fetch)}}class FS extends NS{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new VS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class VS extends MS{constructor(e,r,s,o,l){super(e,r,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class US extends PS{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new jS(this.url,this.headers,e,this.fetch)}get vectors(){return new BS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RS(this.url+"/iceberg",this.headers,this.fetch)}}const zS="2.76.1";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const WS={"X-Client-Info":`supabase-js-${As}/${zS}`},qS={headers:WS},HS={schema:"public"},KS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GS={},JS=t=>{let e;return t?e=t:typeof fetch>"u"?e=Xy:e=fetch,(...r)=>e(...r)},YS=()=>typeof Headers>"u"?Zy:Headers,QS=(t,e,r)=>{const s=JS(r),o=YS();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},u),{headers:p}))}};function XS(t){return t.endsWith("/")?t:t+"/"}function ZS(t,e){var r,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:p,realtime:m,global:v}=e,w={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},m),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function eb(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dv="2.76.1",ki=30*1e3,qc=3,uc=qc*ki,tb="http://localhost:9999",nb="supabase.auth.token",rb={"X-Client-Info":`gotrue-js/${dv}`},Hc="X-Supabase-Api-Version",hv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ib=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sb=600*1e3;class Ws extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ob extends Ws{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function ab(t){return ae(t)&&t.name==="AuthApiError"}class Br extends Ws{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fr extends Ws{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class lr extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lb(t){return ae(t)&&t.name==="AuthSessionMissingError"}class wi extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends fr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ja extends fr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ub(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class Om extends fr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kc extends fr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function cc(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class Im extends fr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Gc extends fr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lm=` 	
\r=`.split(""),cb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lm.length;e+=1)t[Lm[e].charCodeAt(0)]=-2;for(let e=0;e<qa.length;e+=1)t[qa[e].charCodeAt(0)]=e;return t})();function Dm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(qa[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(qa[s]),e.queuedBits-=6}}function fv(t,e,r){const s=cb[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nm(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{fb(u,s,r)};for(let u=0;u<t.length;u+=1)fv(t.charCodeAt(u),o,l);return e.join("")}function db(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hb(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}db(s,e)}}function fb(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ai(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)fv(t.charCodeAt(o),r,s);return new Uint8Array(e)}function pb(t){const e=[];return hb(t,r=>e.push(r)),new Uint8Array(e)}function Fr(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Dm(o,r,s)),Dm(null,r,s),e.join("")}function mb(t){return Math.round(Date.now()/1e3)+t}function gb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",Or={tested:!1,writable:!1},pv=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Or.tested)return Or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Or.tested=!0,Or.writable=!0}catch{Or.tested=!0,Or.writable=!1}return Or.writable};function yb(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const mv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fi(async()=>{const{default:s}=await Promise.resolve().then(()=>Hr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},vb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ei=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ir=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(t,e)=>{await t.removeItem(e)};class nl{constructor(){this.promise=new nl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}nl.promiseConstructor=Promise;function dc(t){const e=t.split(".");if(e.length!==3)throw new Gc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ib.test(e[s]))throw new Gc("JWT not in base64url format");return{header:JSON.parse(Nm(e[0])),payload:JSON.parse(Nm(e[1])),signature:Ai(e[2]),raw:{header:e[0],payload:e[1]}}}async function wb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xb(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function _b(t){return("0"+t.toString(16)).substr(-2)}function Sb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,_b).join("")}async function bb(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function kb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await bb(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xi(t,e,r=!1){const s=Sb();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Ei(t,`${e}-code-verifier`,o);const l=await kb(s);return[l,s===l?"plain":"s256"]}const Eb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tb(t){const e=t.headers.get(Hc);if(!e||!e.match(Eb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _i(t){if(!Pb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mm(t){return JSON.parse(JSON.stringify(t))}const Nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rb=[502,503,504];async function $m(t){var e;if(!vb(t))throw new Kc(Nr(t),0);if(Rb.includes(t.status))throw new Kc(Nr(t),t.status);let r;try{r=await t.json()}catch(l){throw new Br(Nr(l),l)}let s;const o=Tb(t);if(o&&o.getTime()>=hv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Im(Nr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Im(Nr(r),t.status,r.weak_password.reasons);throw new ob(Nr(r),t.status||500,s)}const Ab=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,s){var o;const l=Object.assign({},s?.headers);l[Hc]||(l[Hc]=hv["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await Ob(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function Ob(t,e,r,s,o,l){const u=Ab(e,s,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Kc(Nr(h),0)}if(d.ok||await $m(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await $m(h)}}function un(t){var e;let r=null;Db(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=mb(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Bm(t){const e=un(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ib(t){return{data:t,error:null}}function Lb(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,u=Bi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Fm(t){return t}function Db(t){return t.access_token&&t.refresh_token&&t.expires_in}const fc=["global","local","others"];class Nb{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=mv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=fc[0]){if(fc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Bi(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Lb,redirectTo:r?.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Fm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);p[`${T}Page`]=b}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){_i(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_i(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){_i(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){_i(e.userId);try{const{data:r,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_i(e.userId),_i(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Fm});if(m.error)throw m.error;const v=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(k=>{const b=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);p[`${T}Page`]=b}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Vm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Si={debug:!!(globalThis&&pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mb extends gv{}async function $b(t,e,r){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Mb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Si.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Fb(t){return parseInt(t,16)}function Vb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Ub(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:m,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=yv(t.address),k=m?`${m}://${s}`:s,b=t.statement?`${t.statement}
`:"",T=`${k} wants you to sign in with your Ethereum account:
${_}

${b}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),p){let P=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}C+=P}return`${T}
${C}`}class et extends Error{constructor({message:e,code:r,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Ha extends et{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function zb({error:t,options:e}){var r,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(vv(u)){if(l.rp.id!==u)return new et({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Wb({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(vv(s)){if(r.rpId!==s)return new et({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hb=new qb;function Kb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=Bi(t,["challenge","user","excludeCredentials"]),l=Ai(e).buffer,u=Object.assign(Object.assign({},r),{id:Ai(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ai(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Gb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Bi(t,["challenge","allowCredentials"]),o=Ai(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ai(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Jb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fr(new Uint8Array(o.authenticatorData)),clientDataJSON:Fr(new Uint8Array(o.clientDataJSON)),signature:Fr(new Uint8Array(o.signature)),userHandle:o.userHandle?Fr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Um(){var t,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Qb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ha("Browser returned unexpected credential type",e)}:{data:null,error:new Ha("Empty credential response",e)}}catch(e){return{data:null,error:zb({error:e,options:t})}}}async function Xb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ha("Browser returned unexpected credential type",e)}:{data:null,error:new Ha("Empty credential response",e)}}catch(e){return{data:null,error:Wb({error:e,options:t})}}}const Zb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ek={userVerification:"preferred",hints:["security-key"]};function Ka(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(r(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=Ka(d,u):s[l]=Ka(u)}else s[l]=u}return s}function tk(t,e){return Ka(Zb,t,e||{})}function nk(t,e){return Ka(ek,t,e||{})}class rk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=o??Hb.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=tk(u.webauthn.credential_options.publicKey,l?.create),{data:m,error:v}=await Qb({publicKey:p,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const p=nk(u.webauthn.credential_options.publicKey,l?.request),{data:m,error:v}=await Xb(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Br("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new Ws("rpId is required for WebAuthn authentication")};try{if(!Um())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Br("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new Ws("rpId is required for WebAuthn registration")};try{if(!Um())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Br("Unexpected error in register",u)}}}}Bb();const ik={url:tb,storageKey:nb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zm(t,e,r){return await r()}const bi={};class qs{get jwks(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qs.nextInstanceID,qs.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},ik),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Nb({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=mv(o.fetch),this.lock=o.lock||zm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Bt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=$b:this.lock=zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rk(this)},this.persistSession?(o.storage?this.storage=o.storage:pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Vm(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=yb(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Bt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ub(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Br("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:un}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await xi(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:k},xform:un})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:un})}else throw new Ca("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Bm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Bm})}else throw new Ca("You must provide either an email or phone number and a password");const{data:s,error:o}=r;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new wi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,u,d,h,p,m,v,w;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:b,wallet:T,statement:C,options:P}=e;let R;if(Bt())if(typeof T=="object")R=T;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")R=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const B=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),D=await R.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=yv(D[0]);let q=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const M=await R.request({method:"eth_chainId"});q=Fb(M)}const W={domain:B.host,address:$,statement:C,uri:B.href,version:"1",chainId:q,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=Ub(W),k=await R.request({method:"personal_sign",params:[Vb(_),$]})}try{const{data:b,error:T}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:un});if(T)throw T;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new wi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:T})}catch(b){if(ae(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var r,s,o,l,u,d,h,p,m,v,w,_;let k,b;if("message"in e)k=e.message,b=e.signature;else{const{chain:T,wallet:C,statement:P,options:R}=e;let B;if(Bt())if(typeof C=="object")B=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))B=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}const D=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const $=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),P?{statement:P}:null));let q;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")q=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)q=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)k=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),b=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(s=R?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(m=R?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const $=await B.signMessage(new TextEncoder().encode(k),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=$}}try{const{data:T,error:C}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Fr(b)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:un});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new wi}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(ae(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:un});if(await ar(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new wi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:u}=e,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:un}),{data:h,error:p}=d;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new wi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await xi(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:m}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new Ca("You must provide either an email or phone number.")}catch(d){if(ae(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:un});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,s,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await xi(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Ib})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new lr;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Ca("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Ir(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=hc()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,m)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,m))})}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cr}):await this._useSession(async r=>{var s,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:cr})})}catch(r){if(ae(r))return lb(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new lr;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await xi(this.storage,this.storageKey));const{data:p,error:m}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:cr});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lr;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:u}=dc(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new lr;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Bt())throw new ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ja("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Om("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new ja("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let w=m+v;h&&(w=parseInt(h));const _=w-m;_*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const k=w-v;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,m);const{data:b,error:T}=await this._getUser(l);if(T)throw T;const C={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(s){if(ae(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{error:l};const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(ab(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=gb(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await xi(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,p,m;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(ae(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:m}=e,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:un}),{data:w,error:_}=v;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new wi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await xb(async o=>(o>0&&await wb(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:un})),(o,l)=>{const u=200*Math.pow(2,o);return l&&cc(l)&&Date.now()+u-s<ki})}catch(s){if(this._debug(r,"error",s),ae(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Bt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ir(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ei(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:hc()}else if(o&&!o.user&&!o.user){const u=await Ir(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await ar(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,o)):o.user=hc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${uc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),cc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new lr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return cc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Mm(o);await Ei(this.storage,this.storageKey,l)}else{const o=Mm(r);await Ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ki}ms, refresh threshold is ${qc} ticks`),o<=qc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await xi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?{data:null,error:l}:await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jb(e.webauthn.credential_response):Yb(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Kb(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Gb(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=dc(o.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((s=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+sb>o)return s;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:_,error:k}=await this.getSession();if(k||!_.session)return{data:null,error:k};s=_.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=dc(s);r?.allowExpired||Cb(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:l,header:o,signature:u},error:null}}const m=jb(o.alg),v=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,pb(`${d}.${h}`)))throw new Gc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}}qs.nextInstanceID=0;const sk=qs;class ok extends sk{constructor(e){super(e)}}class ak{constructor(e,r,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=eb(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:HS,realtime:GS,auth:Object.assign(Object.assign({},KS),{storageKey:h}),global:qS},m=ZS(s??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,m.global.fetch),this.fetch=QS(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new tS(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new US(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new q_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:p},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ok({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lk=(t,e,r)=>new ak(t,e,r);function uk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ck="https://nduipqbquhuheuvkmstz.supabase.co",dk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kdWlwcWJxdWh1aGV1dmttc3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MTgxMjYsImV4cCI6MjA3NjE5NDEyNn0.fMxocAnbbdWI2WwJ1CT9v8Skiu_p9pgGEczG49dfdtc",le=lk(ck,dk),wv=S.createContext();function hk({children:t}){const[e,r]=S.useState(null),[s,o]=S.useState(!0),l=async(p,m,v)=>{const{data:w,error:_}=await le.auth.signUp({email:p,password:m});if(_)throw _;const k=w.user,{error:b}=await le.from("customers").upsert([{id:k?.id,email:p,full_name:v}],{onConflict:"email"});if(b)throw b;return r(k),k},u=async(p,m)=>{const{data:v,error:w}=await le.auth.signInWithPassword({email:p,password:m});if(w)throw w;return r(v.user),v.user},d=async()=>{await le.auth.signOut(),r(null)};S.useEffect(()=>{(async()=>{const{data:{session:v}}=await le.auth.getSession();v?.user?r(v.user):r(null),o(!1)})();const{data:m}=le.auth.onAuthStateChange(async(v,w)=>{r(w?.user||null)});return()=>{m.subscription.unsubscribe()}},[]);const h={authUser:e,signup:l,login:u,logout:d,loading:s};return y.jsx(wv.Provider,{value:h,children:!s&&t})}function pn(){return S.useContext(wv)}const xv=S.createContext(),rl=()=>S.useContext(xv);function fk({children:t}){const{authUser:e}=pn(),[r,s]=S.useState([]),[o,l]=S.useState(null),[u,d]=S.useState(!1),h=S.useCallback(async()=>{if(!e){s([]),l(null);return}d(!0);try{let{data:_,error:k}=await le.from("cart").select("id").eq("user_id",e.id).maybeSingle();if(k)throw k;if(!_){const{data:C,error:P}=await le.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(P)throw P;_=C}l(_.id);const{data:b,error:T}=await le.from("cart_items").select(`
          id,
          quantity,
          product:product_id (
            id,
            name,
            price,
            discount_percent,
            stock_quantity,
            images
          )
        `).eq("cart_id",_.id);if(T)throw T;s(b||[])}catch(_){console.error("Cart load failed:",_),s([])}finally{d(!1)}},[e]);S.useEffect(()=>{h()},[e,h]);const p=S.useCallback(async(_,k=1)=>{if(!e)throw new Error("Login required");try{let b=o;if(!b){const{data:C,error:P}=await le.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(P)throw P;b=C.id,l(b)}const T=r.find(C=>C.product.id===_.id);if(T){const{error:C}=await le.from("cart_items").update({quantity:T.quantity+k}).eq("id",T.id);if(C)throw C;s(P=>P.map(R=>R.id===T.id?{...R,quantity:R.quantity+k}:R))}else{const{data:C,error:P}=await le.from("cart_items").insert([{cart_id:b,product_id:_.id,quantity:k}]).select(`
              id,
              quantity,
              product:product_id (
                id,
                name,
                price,
                discount_percent,
                stock_quantity,
                images
              )
            `).maybeSingle();if(P)throw P;s(R=>[...R,C])}}catch(b){throw console.error("Add to cart failed:",b),new Error("Failed to add to cart")}},[e,o,r]),m=S.useCallback(async(_,k)=>{if(!(k<1))try{const{error:b}=await le.from("cart_items").update({quantity:k}).eq("id",_);if(b)throw b;s(T=>T.map(C=>C.id===_?{...C,quantity:k}:C))}catch(b){console.error("Update quantity failed:",b)}},[]),v=S.useCallback(async _=>{try{const{error:k}=await le.from("cart_items").delete().eq("id",_);if(k)throw k;s(b=>b.filter(T=>T.id!==_))}catch(k){console.error("Remove from cart failed:",k)}},[]),w=S.useMemo(()=>r.reduce((_,k)=>_+(k.quantity||0),0),[r]);return y.jsx(xv.Provider,{value:{cartItems:r,cartId:o,loading:u,totalItems:w,addToCart:p,loadCart:h,updateQuantity:m,removeFromCart:v},children:t})}const Od=S.createContext({});function Id(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ld=typeof window<"u",_v=Ld?S.useLayoutEffect:S.useEffect,il=S.createContext(null);function Dd(t,e){t.indexOf(e)===-1&&t.push(e)}function Nd(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Fn=(t,e,r)=>r>e?e:r<t?t:r;let Md=()=>{};const Vn={},Sv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bv(t){return typeof t=="object"&&t!==null}const kv=t=>/^0[^.\s]+$/u.test(t);function $d(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zt=t=>t,pk=(t,e)=>r=>e(t(r)),no=(...t)=>t.reduce(pk),Hs=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Bd{constructor(){this.subscriptions=[]}add(e){return Dd(this.subscriptions,e),()=>Nd(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=t=>t*1e3,Xt=t=>t/1e3;function Ev(t,e){return e?t*(1e3/e):0}const Tv=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,mk=1e-7,gk=12;function yk(t,e,r,s,o){let l,u,d=0;do u=e+(r-e)/2,l=Tv(u,s,o)-t,l>0?r=u:e=u;while(Math.abs(l)>mk&&++d<gk);return u}function ro(t,e,r,s){if(t===e&&r===s)return Zt;const o=l=>yk(l,0,1,t,r);return l=>l===0||l===1?l:Tv(o(l),e,s)}const Cv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jv=t=>e=>1-t(1-e),Pv=ro(.33,1.53,.69,.99),Fd=jv(Pv),Rv=Cv(Fd),Av=t=>(t*=2)<1?.5*Fd(t):.5*(2-Math.pow(2,-10*(t-1))),Vd=t=>1-Math.sin(Math.acos(t)),Ov=jv(Vd),Iv=Cv(Vd),vk=ro(.42,0,1,1),wk=ro(0,0,.58,1),Lv=ro(.42,0,.58,1),xk=t=>Array.isArray(t)&&typeof t[0]!="number",Dv=t=>Array.isArray(t)&&typeof t[0]=="number",_k={linear:Zt,easeIn:vk,easeInOut:Lv,easeOut:wk,circIn:Vd,circInOut:Iv,circOut:Ov,backIn:Fd,backInOut:Rv,backOut:Pv,anticipate:Av},Sk=t=>typeof t=="string",Wm=t=>{if(Dv(t)){Md(t.length===4);const[e,r,s,o]=t;return ro(e,r,s,o)}else if(Sk(t))return _k[t];return t},Pa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bk(t,e){let r=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(m){u.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,v=!1,w=!1)=>{const k=w&&o?r:s;return v&&u.add(m),k.has(m)||k.add(m),m},cancel:m=>{s.delete(m),u.delete(m)},process:m=>{if(d=m,o){l=!0;return}o=!0,[r,s]=[s,r],r.forEach(h),r.clear(),o=!1,l&&(l=!1,p.process(m))}};return p}const kk=40;function Nv(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Pa.reduce((R,B)=>(R[B]=bk(l),R),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:w,render:_,postRender:k}=u,b=()=>{const R=Vn.useManualTiming?o.timestamp:performance.now();r=!1,Vn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(R-o.timestamp,kk),1)),o.timestamp=R,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),m.process(o),v.process(o),w.process(o),_.process(o),k.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(b))},T=()=>{r=!0,s=!0,o.isProcessing||t(b)};return{schedule:Pa.reduce((R,B)=>{const D=u[B];return R[B]=($,q=!1,W=!1)=>(r||T(),D.schedule($,q,W)),R},{}),cancel:R=>{for(let B=0;B<Pa.length;B++)u[Pa[B]].cancel(R)},state:o,steps:u}}const{schedule:Ne,cancel:dr,state:pt,steps:pc}=Nv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0);let Na;function Ek(){Na=void 0}const Lt={now:()=>(Na===void 0&&Lt.set(pt.isProcessing||Vn.useManualTiming?pt.timestamp:performance.now()),Na),set:t=>{Na=t,queueMicrotask(Ek)}},Mv=t=>e=>typeof e=="string"&&e.startsWith(t),Ud=Mv("--"),Tk=Mv("var(--"),zd=t=>Tk(t)?Ck.test(t.split("/*")[0].trim()):!1,Ck=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ui={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ks={...Ui,transform:t=>Fn(0,1,t)},Ra={...Ui,default:1},Ns=t=>Math.round(t*1e5)/1e5,Wd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jk(t){return t==null}const Pk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qd=(t,e)=>r=>!!(typeof r=="string"&&Pk.test(r)&&r.startsWith(t)||e&&!jk(r)&&Object.prototype.hasOwnProperty.call(r,e)),$v=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,l,u,d]=s.match(Wd);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},Rk=t=>Fn(0,255,t),mc={...Ui,transform:t=>Math.round(Rk(t))},Vr={test:qd("rgb","red"),parse:$v("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+mc.transform(t)+", "+mc.transform(e)+", "+mc.transform(r)+", "+Ns(Ks.transform(s))+")"};function Ak(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Jc={test:qd("#"),parse:Ak,transform:Vr.transform},io=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=io("deg"),bn=io("%"),ue=io("px"),Ok=io("vh"),Ik=io("vw"),qm={...bn,parse:t=>bn.parse(t)/100,transform:t=>bn.transform(t*100)},Ti={test:qd("hsl","hue"),parse:$v("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+bn.transform(Ns(e))+", "+bn.transform(Ns(r))+", "+Ns(Ks.transform(s))+")"},tt={test:t=>Vr.test(t)||Jc.test(t)||Ti.test(t),parse:t=>Vr.test(t)?Vr.parse(t):Ti.test(t)?Ti.parse(t):Jc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vr.transform(t):Ti.transform(t),getAnimatableNone:t=>{const e=tt.parse(t);return e.alpha=0,tt.transform(e)}},Lk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dk(t){return isNaN(t)&&typeof t=="string"&&(t.match(Wd)?.length||0)+(t.match(Lk)?.length||0)>0}const Bv="number",Fv="color",Nk="var",Mk="var(",Hm="${}",$k=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gs(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace($k,h=>(tt.test(h)?(s.color.push(l),o.push(Fv),r.push(tt.parse(h))):h.startsWith(Mk)?(s.var.push(l),o.push(Nk),r.push(h)):(s.number.push(l),o.push(Bv),r.push(parseFloat(h))),++l,Hm)).split(Hm);return{values:r,split:d,indexes:s,types:o}}function Vv(t){return Gs(t).values}function Uv(t){const{split:e,types:r}=Gs(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const d=r[u];d===Bv?l+=Ns(o[u]):d===Fv?l+=tt.transform(o[u]):l+=o[u]}return l}}const Bk=t=>typeof t=="number"?0:tt.test(t)?tt.getAnimatableNone(t):t;function Fk(t){const e=Vv(t);return Uv(t)(e.map(Bk))}const hr={test:Dk,parse:Vv,createTransformer:Uv,getAnimatableNone:Fk};function gc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Vk({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=gc(h,d,t+1/3),l=gc(h,d,t),u=gc(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Ga(t,e){return r=>r>0?e:t}const Ue=(t,e,r)=>t+(e-t)*r,yc=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Uk=[Jc,Vr,Ti],zk=t=>Uk.find(e=>e.test(t));function Km(t){const e=zk(t);if(!e)return!1;let r=e.parse(t);return e===Ti&&(r=Vk(r)),r}const Gm=(t,e)=>{const r=Km(t),s=Km(e);if(!r||!s)return Ga(t,e);const o={...r};return l=>(o.red=yc(r.red,s.red,l),o.green=yc(r.green,s.green,l),o.blue=yc(r.blue,s.blue,l),o.alpha=Ue(r.alpha,s.alpha,l),Vr.transform(o))},Yc=new Set(["none","hidden"]);function Wk(t,e){return Yc.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function qk(t,e){return r=>Ue(t,e,r)}function Hd(t){return typeof t=="number"?qk:typeof t=="string"?zd(t)?Ga:tt.test(t)?Gm:Gk:Array.isArray(t)?zv:typeof t=="object"?tt.test(t)?Gm:Hk:Ga}function zv(t,e){const r=[...t],s=r.length,o=t.map((l,u)=>Hd(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)r[u]=o[u](l);return r}}function Hk(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Hd(t[o])(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}}function Kk(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],d=t.values[u]??0;r[o]=d,s[l]++}return r}const Gk=(t,e)=>{const r=hr.createTransformer(e),s=Gs(t),o=Gs(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Yc.has(t)&&!o.values.length||Yc.has(e)&&!s.values.length?Wk(t,e):no(zv(Kk(s,o),o.values),r):Ga(t,e)};function Wv(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ue(t,e,r):Hd(t)(t,e)}const Jk=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Ne.update(e,r),stop:()=>dr(e),now:()=>pt.isProcessing?pt.timestamp:Lt.now()}},qv=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ja=2e4;function Kd(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Ja;)e+=r,s=t.next(e);return e>=Ja?1/0:e}function Yk(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(Kd(s),Ja);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:Xt(o)}}const Qk=5;function Hv(t,e,r){const s=Math.max(e-Qk,0);return Ev(r-t(s),e-s)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function Xk({duration:t=qe.duration,bounce:e=qe.bounce,velocity:r=qe.velocity,mass:s=qe.mass}){let o,l,u=1-e;u=Fn(qe.minDamping,qe.maxDamping,u),t=Fn(qe.minDuration,qe.maxDuration,Xt(t)),u<1?(o=p=>{const m=p*u,v=m*t,w=m-r,_=Qc(p,u),k=Math.exp(-v);return vc-w/_*k},l=p=>{const v=p*u*t,w=v*r+r,_=Math.pow(u,2)*Math.pow(p,2)*t,k=Math.exp(-v),b=Qc(Math.pow(p,2),u);return(-o(p)+vc>0?-1:1)*((w-_)*k)/b}):(o=p=>{const m=Math.exp(-p*t),v=(p-r)*t+1;return-vc+m*v},l=p=>{const m=Math.exp(-p*t),v=(r-p)*(t*t);return m*v});const d=5/t,h=eE(o,l,d);if(t=Sn(t),isNaN(h))return{stiffness:qe.stiffness,damping:qe.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const Zk=12;function eE(t,e,r){let s=r;for(let o=1;o<Zk;o++)s=s-t(s)/e(s);return s}function Qc(t,e){return t*Math.sqrt(1-e*e)}const tE=["duration","bounce"],nE=["stiffness","damping","mass"];function Jm(t,e){return e.some(r=>t[r]!==void 0)}function rE(t){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...t};if(!Jm(t,nE)&&Jm(t,tE))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,l=2*Fn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:qe.mass,stiffness:o,damping:l}}else{const r=Xk(t);e={...e,...r,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function Ya(t=qe.visualDuration,e=qe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:m,duration:v,velocity:w,isResolvedFromDuration:_}=rE({...r,velocity:-Xt(r.velocity||0)}),k=w||0,b=p/(2*Math.sqrt(h*m)),T=u-l,C=Xt(Math.sqrt(h/m)),P=Math.abs(T)<5;s||(s=P?qe.restSpeed.granular:qe.restSpeed.default),o||(o=P?qe.restDelta.granular:qe.restDelta.default);let R;if(b<1){const D=Qc(C,b);R=$=>{const q=Math.exp(-b*C*$);return u-q*((k+b*C*T)/D*Math.sin(D*$)+T*Math.cos(D*$))}}else if(b===1)R=D=>u-Math.exp(-C*D)*(T+(k+C*T)*D);else{const D=C*Math.sqrt(b*b-1);R=$=>{const q=Math.exp(-b*C*$),W=Math.min(D*$,300);return u-q*((k+b*C*T)*Math.sinh(W)+D*T*Math.cosh(W))/D}}const B={calculatedDuration:_&&v||null,next:D=>{const $=R(D);if(_)d.done=D>=v;else{let q=D===0?k:0;b<1&&(q=D===0?Sn(k):Hv(R,D,$));const W=Math.abs(q)<=s,M=Math.abs(u-$)<=o;d.done=W&&M}return d.value=d.done?u:$,d},toString:()=>{const D=Math.min(Kd(B),Ja),$=qv(q=>B.next(D*q).value,D,30);return D+"ms "+$},toTransition:()=>{}};return B}Ya.applyToOptions=t=>{const e=Yk(t,100,Ya);return t.ease=e.ease,t.duration=Sn(e.duration),t.type="keyframes",t};function Xc({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},_=W=>d!==void 0&&W<d||h!==void 0&&W>h,k=W=>d===void 0?h:h===void 0||Math.abs(d-W)<Math.abs(h-W)?d:h;let b=r*e;const T=v+b,C=u===void 0?T:u(T);C!==T&&(b=C-v);const P=W=>-b*Math.exp(-W/s),R=W=>C+P(W),B=W=>{const M=P(W),ne=R(W);w.done=Math.abs(M)<=p,w.value=w.done?C:ne};let D,$;const q=W=>{_(w.value)&&(D=W,$=Ya({keyframes:[w.value,k(w.value)],velocity:Hv(R,W,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:m}))};return q(0),{calculatedDuration:null,next:W=>{let M=!1;return!$&&D===void 0&&(M=!0,B(W),q(W)),D!==void 0&&W>=D?$.next(W-D):(!M&&B(W),w)}}}function iE(t,e,r){const s=[],o=r||Vn.mix||Wv,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Zt:e;d=no(h,d)}s.push(d)}return s}function sE(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(Md(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=iE(e,s,o),h=d.length,p=m=>{if(u&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=Hs(t[v],t[v+1],m);return d[v](w)};return r?m=>p(Fn(t[0],t[l-1],m)):p}function oE(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Hs(0,e,s);t.push(Ue(r,1,o))}}function aE(t){const e=[0];return oE(e,t.length-1),e}function lE(t,e){return t.map(r=>r*e)}function uE(t,e){return t.map(()=>e||Lv).splice(0,t.length-1)}function Ms({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=xk(s)?s.map(Wm):Wm(s),l={done:!1,value:e[0]},u=lE(r&&r.length===e.length?r:aE(e),t),d=sE(u,e,{ease:Array.isArray(o)?o:uE(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const cE=t=>t!==null;function Gd(t,{repeat:e,repeatType:r="loop"},s,o=1){const l=t.filter(cE),d=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const dE={decay:Xc,inertia:Xc,tween:Ms,keyframes:Ms,spring:Ya};function Kv(t){typeof t.type=="string"&&(t.type=dE[t.type])}class Jd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const hE=t=>t/100;class Yd extends Jd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Kv(e);const{type:r=Ms,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=r||Ms;h!==Ms&&typeof d[0]!="number"&&(this.mixKeyframes=no(hE,Wv(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Kd(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:_,type:k,onUpdate:b,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,B=s;if(v){const W=Math.min(this.currentTime,o)/d;let M=Math.floor(W),ne=W%1;!ne&&W>=1&&(ne=1),ne===1&&M--,M=Math.min(M,v+1),!!(M%2)&&(w==="reverse"?(ne=1-ne,_&&(ne-=_/d)):w==="mirror"&&(B=u)),R=Fn(0,1,ne)*d}const D=P?{done:!1,value:m[0]}:B.next(R);l&&(D.value=l(D.value));let{done:$}=D;!P&&h!==null&&($=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return q&&k!==Xc&&(D.value=Gd(m,this.options,T,this.speed)),b&&b(D.value),q&&this.finish(),D}then(e,r){return this.finished.then(e,r)}get duration(){return Xt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(this.currentTime)}set time(e){e=Sn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Xt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Jk,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ur=t=>t*180/Math.PI,Zc=t=>{const e=Ur(Math.atan2(t[1],t[0]));return ed(e)},pE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zc,rotateZ:Zc,skewX:t=>Ur(Math.atan(t[1])),skewY:t=>Ur(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ed=t=>(t=t%360,t<0&&(t+=360),t),Ym=Zc,Qm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qm,scaleY:Xm,scale:t=>(Qm(t)+Xm(t))/2,rotateX:t=>ed(Ur(Math.atan2(t[6],t[5]))),rotateY:t=>ed(Ur(Math.atan2(-t[2],t[0]))),rotateZ:Ym,rotate:Ym,skewX:t=>Ur(Math.atan(t[4])),skewY:t=>Ur(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function td(t){return t.includes("scale")?1:0}function nd(t,e){if(!t||t==="none")return td(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=mE,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pE,o=d}if(!o)return td(e);const l=s[e],u=o[1].split(",").map(yE);return typeof l=="function"?l(u):u[l]}const gE=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return nd(r,e)};function yE(t){return parseFloat(t.trim())}const zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(zi),Zm=t=>t===Ui||t===ue,vE=new Set(["x","y","z"]),wE=zi.filter(t=>!vE.has(t));function xE(t){const e=[];return wE.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Wr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nd(e,"x"),y:(t,{transform:e})=>nd(e,"y")};Wr.translateX=Wr.x;Wr.translateY=Wr.y;const qr=new Set;let rd=!1,id=!1,sd=!1;function Gv(){if(id){const t=Array.from(qr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=xE(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}id=!1,rd=!1,qr.forEach(t=>t.complete(sd)),qr.clear()}function Jv(){qr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(id=!0)})}function _E(){sd=!0,Jv(),Gv(),sd=!1}class Qd{constructor(e,r,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(qr.add(this),rd||(rd=!0,Ne.read(Jv),Ne.resolveKeyframes(Gv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&r){const d=s.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}fE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qr.delete(this)}cancel(){this.state==="scheduled"&&(qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SE=t=>t.startsWith("--");function bE(t,e,r){SE(e)?t.style.setProperty(e,r):t.style[e]=r}const kE=$d(()=>window.ScrollTimeline!==void 0),EE={};function TE(t,e){const r=$d(t);return()=>EE[e]??r()}const Yv=TE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Os=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,eg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Os([0,.65,.55,1]),circOut:Os([.55,0,1,.45]),backIn:Os([.31,.01,.66,-.59]),backOut:Os([.33,1.53,.69,.99])};function Qv(t,e){if(t)return typeof t=="function"?Yv()?qv(t,e):"ease-out":Dv(t)?Os(t):Array.isArray(t)?t.map(r=>Qv(r,e)||eg.easeOut):eg[t]}function CE(t,e,r,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},p=void 0){const m={[e]:r};h&&(m.offset=h);const v=Qv(d,o);Array.isArray(v)&&(m.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function Xv(t){return typeof t=="function"&&"applyToOptions"in t}function jE({type:t,...e}){return Xv(t)&&Yv()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PE extends Jd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Md(typeof e.type!="string");const p=jE(e);this.animation=CE(r,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=Gd(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):bE(r,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&kE()?(this.animation.timeline=e,Zt):r(this)}}const Zv={anticipate:Av,backInOut:Rv,circInOut:Iv};function RE(t){return t in Zv}function AE(t){typeof t.ease=="string"&&RE(t.ease)&&(t.ease=Zv[t.ease])}const tg=10;class OE extends PE{constructor(e){AE(e),Kv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new Yd({...u,autoplay:!1}),h=Sn(this.finishedTime??this.time);r.setWithVelocity(d.sample(h-tg).value,d.sample(h).value,tg),d.stop()}}const ng=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hr.test(t)||t==="0")&&!t.startsWith("url("));function IE(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function LE(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=ng(o,e),d=ng(l,e);return!u||!d?!1:IE(t)||(r==="spring"||Xv(r))&&s}function od(t){t.duration=0,t.type="keyframes"}const DE=new Set(["opacity","clipPath","filter","transform"]),NE=$d(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ME(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return NE()&&r&&DE.has(r)&&(r!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const $E=40;class BE extends Jd{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:p,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lt.now();const w={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:m,...v},_=m?.KeyframeResolver||Qd;this.keyframeResolver=new _(d,(k,b,T)=>this.onKeyframesResolved(k,b,w,!T),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:p,onUpdate:m}=s;this.resolvedAt=Lt.now(),LE(e,l,u,d)||((Vn.instantAnimations||!h)&&m?.(Gd(e,s,r)),e[0]=e[e.length-1],od(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>$E?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},_=!p&&ME(w)?new OE({...w,element:w.motionValue.owner.current}):new Yd(w);_.finished.then(()=>this.notifyFinished()).catch(Zt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_E()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const FE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VE(t){const e=FE.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function e0(t,e,r=1){const[s,o]=VE(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Sv(u)?parseFloat(u):u}return zd(o)?e0(o,e,r+1):o}function Xd(t,e){return t?.[e]??t?.default??t}const t0=new Set(["width","height","top","left","right","bottom",...zi]),UE={test:t=>t==="auto",parse:t=>t},n0=t=>e=>e.test(t),r0=[Ui,ue,bn,ur,Ik,Ok,UE],rg=t=>r0.find(n0(t));function zE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kv(t):!0}const WE=new Set(["brightness","contrast","saturate","opacity"]);function qE(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(Wd)||[];if(!s)return t;const o=r.replace(s,"");let l=WE.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const HE=/\b([a-z-]*)\(.*?\)/gu,ad={...hr,getAnimatableNone:t=>{const e=t.match(HE);return e?e.map(qE).join(" "):t}},ig={...Ui,transform:Math.round},KE={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Ra,scaleX:Ra,scaleY:Ra,scaleZ:Ra,skew:ur,skewX:ur,skewY:ur,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Ks,originX:qm,originY:qm,originZ:ue},Zd={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...KE,zIndex:ig,fillOpacity:Ks,strokeOpacity:Ks,numOctaves:ig},GE={...Zd,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:ad,WebkitFilter:ad},i0=t=>GE[t];function s0(t,e){let r=i0(t);return r!==ad&&(r=hr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const JE=new Set(["auto","none","0"]);function YE(t,e,r){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!JE.has(l)&&Gs(l).values.length&&(o=t[s]),s++}if(o&&r)for(const l of e)t[l]=s0(r,o)}class QE extends Qd{constructor(e,r,s,o,l){super(e,r,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),zd(p))){const m=e0(p,r.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!t0.has(s)||e.length!==2)return;const[o,l]=e,u=rg(o),d=rg(l);if(u!==d)if(Zm(u)&&Zm(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Wr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||zE(e[o]))&&s.push(o);s.length&&YE(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Wr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function XE(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=r?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const o0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function a0(t){return bv(t)&&"offsetHeight"in t}const sg=30,ZE=t=>!isNaN(parseFloat(t));class eT{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Lt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Bd);const s=this.events[e].add(r);return e==="change"?()=>{s(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,sg);return Ev(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(t,e){return new eT(t,e)}const{schedule:eh}=Nv(queueMicrotask,!1),cn={x:!1,y:!1};function l0(){return cn.x||cn.y}function tT(t){return t==="x"||t==="y"?cn[t]?null:(cn[t]=!0,()=>{cn[t]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}function u0(t,e){const r=XE(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function og(t){return!(t.pointerType==="touch"||l0())}function nT(t,e,r={}){const[s,o,l]=u0(t,r),u=d=>{if(!og(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const m=v=>{og(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const c0=(t,e)=>e?t===e?!0:c0(t,e.parentElement):!1,th=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iT(t){return rT.has(t.tagName)||t.tabIndex!==-1}const Ma=new WeakSet;function ag(t){return e=>{e.key==="Enter"&&t(e)}}function wc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sT=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=ag(()=>{if(Ma.has(r))return;wc(r,"down");const o=ag(()=>{wc(r,"up")}),l=()=>wc(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function lg(t){return th(t)&&!l0()}function oT(t,e,r={}){const[s,o,l]=u0(t,r),u=d=>{const h=d.currentTarget;if(!lg(d))return;Ma.add(h);const p=e(h,d),m=(_,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Ma.has(h)&&Ma.delete(h),lg(_)&&typeof p=="function"&&p(_,{success:k})},v=_=>{m(_,h===window||h===document||r.useGlobalTarget||c0(h,_.target))},w=_=>{m(_,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),a0(d)&&(d.addEventListener("focus",p=>sT(p,o)),!iT(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function d0(t){return bv(t)&&"ownerSVGElement"in t}function aT(t){return d0(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),lT=[...r0,tt,hr],uT=t=>lT.find(n0(t)),nh=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ug(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cT(...t){return e=>{let r=!1;const s=t.map(o=>{const l=ug(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():ug(t[o],null)}}}}function dT(...t){return S.useCallback(cT(...t),t)}class hT extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=a0(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fT({children:t,isPresent:e,anchorX:r,root:s}){const o=S.useId(),l=S.useRef(null),u=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=S.useContext(nh),h=dT(l,t?.ref);return S.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:w,right:_}=u.current;if(e||!l.current||!p||!m)return;const k=r==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=o;const b=document.createElement("style");d&&(b.nonce=d);const T=s??document.head;return T.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${k}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(b)&&T.removeChild(b)}},[e]),y.jsx(hT,{isPresent:e,childRef:l,sizeRef:u,children:S.cloneElement(t,{ref:h})})}const pT=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:h})=>{const p=Id(mT),m=S.useId();let v=!0,w=S.useMemo(()=>(v=!1,{id:m,initial:e,isPresent:r,custom:o,onExitComplete:_=>{p.set(_,!0);for(const k of p.values())if(!k)return;s&&s()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[r,p,s]);return l&&v&&(w={...w}),S.useMemo(()=>{p.forEach((_,k)=>p.set(k,!1))},[r]),S.useEffect(()=>{!r&&!p.size&&s&&s()},[r]),u==="popLayout"&&(t=y.jsx(fT,{isPresent:r,anchorX:d,root:h,children:t})),y.jsx(il.Provider,{value:w,children:t})};function mT(){return new Map}function h0(t=!0){const e=S.useContext(il);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,l=S.useId();S.useEffect(()=>{if(t)return o(l)},[t]);const u=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!r&&s?[!1,u]:[!0]}const Aa=t=>t.key||"";function cg(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const $s=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:h})=>{const[p,m]=h0(u),v=S.useMemo(()=>cg(t),[t]),w=u&&!p?[]:v.map(Aa),_=S.useRef(!0),k=S.useRef(v),b=Id(()=>new Map),[T,C]=S.useState(v),[P,R]=S.useState(v);_v(()=>{_.current=!1,k.current=v;for(let $=0;$<P.length;$++){const q=Aa(P[$]);w.includes(q)?b.delete(q):b.get(q)!==!0&&b.set(q,!1)}},[P,w.length,w.join("-")]);const B=[];if(v!==T){let $=[...v];for(let q=0;q<P.length;q++){const W=P[q],M=Aa(W);w.includes(M)||($.splice(q,0,W),B.push(W))}return l==="wait"&&B.length&&($=B),R(cg($)),C(v),null}const{forceRender:D}=S.useContext(Od);return y.jsx(y.Fragment,{children:P.map($=>{const q=Aa($),W=u&&!p?!1:v===P||w.includes(q),M=()=>{if(b.has(q))b.set(q,!0);else return;let ne=!0;b.forEach(ce=>{ce||(ne=!1)}),ne&&(D?.(),R(k.current),u&&m?.(),s&&s())};return y.jsx(pT,{isPresent:W,initial:!_.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:W?void 0:M,anchorX:d,children:$},q)})})},f0=S.createContext({strict:!1}),dg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const t in dg)Ni[t]={isEnabled:e=>dg[t].some(r=>!!e[r])};function gT(t){for(const e in t)Ni[e]={...Ni[e],...t[e]}}const yT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yT.has(t)}let p0=t=>!Qa(t);function vT(t){typeof t=="function"&&(p0=e=>e.startsWith("on")?!Qa(e):t(e))}try{vT(require("@emotion/is-prop-valid").default)}catch{}function wT(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(p0(o)||r===!0&&Qa(o)||!e&&!Qa(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const sl=S.createContext({});function ol(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Js(t){return typeof t=="string"||Array.isArray(t)}const rh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ih=["initial",...rh];function al(t){return ol(t.animate)||ih.some(e=>Js(t[e]))}function m0(t){return!!(al(t)||t.variants)}function xT(t,e){if(al(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Js(r)?r:void 0,animate:Js(s)?s:void 0}}return t.inherit!==!1?e:{}}function _T(t){const{initial:e,animate:r}=xT(t,S.useContext(sl));return S.useMemo(()=>({initial:e,animate:r}),[hg(e),hg(r)])}function hg(t){return Array.isArray(t)?t.join(" "):t}const Ys={};function ST(t){for(const e in t)Ys[e]=t[e],Ud(e)&&(Ys[e].isCSSVariable=!0)}function g0(t,{layout:e,layoutId:r}){return Wi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ys[t]||t==="opacity")}const bT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kT=zi.length;function ET(t,e,r){let s="",o=!0;for(let l=0;l<kT;l++){const u=zi[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const p=o0(d,Zd[u]);if(!h){o=!1;const m=bT[u]||u;s+=`${m}(${p}) `}r&&(e[u]=p)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function sh(t,e,r){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const p=e[h];if(Wi.has(h)){u=!0;continue}else if(Ud(h)){o[h]=p;continue}else{const m=o0(p,Zd[h]);h.startsWith("origin")?(d=!0,l[h]=m):s[h]=m}}if(e.transform||(u||r?s.transform=ET(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${p} ${m}`}}const oh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y0(t,e,r){for(const s in e)!St(e[s])&&!g0(s,r)&&(t[s]=e[s])}function TT({transformTemplate:t},e){return S.useMemo(()=>{const r=oh();return sh(r,e,t),Object.assign({},r.vars,r.style)},[e])}function CT(t,e){const r=t.style||{},s={};return y0(s,r,t),Object.assign(s,TT(t,e)),s}function jT(t,e){const r={},s=CT(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const PT={offset:"stroke-dashoffset",array:"stroke-dasharray"},RT={offset:"strokeDashoffset",array:"strokeDasharray"};function AT(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?PT:RT;t[l.offset]=ue.transform(-s);const u=ue.transform(e),d=ue.transform(r);t[l.array]=`${u} ${d}`}function v0(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,m){if(sh(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),s!==void 0&&(v.scale=s),o!==void 0&&AT(v,o,l,u,!1)}const w0=()=>({...oh(),attrs:{}}),x0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OT(t,e,r,s){const o=S.useMemo(()=>{const l=w0();return v0(l,e,x0(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};y0(l,t.style,t),o.style={...l,...o.style}}return o}const IT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ah(t){return typeof t!="string"||t.includes("-")?!1:!!(IT.indexOf(t)>-1||/[A-Z]/u.test(t))}function LT(t,e,r,{latestValues:s},o,l=!1){const d=(ah(t)?OT:jT)(e,s,o,t),h=wT(e,typeof t=="string",l),p=t!==S.Fragment?{...h,...d,ref:r}:{},{children:m}=e,v=S.useMemo(()=>St(m)?m.get():m,[m]);return S.createElement(t,{...p,children:v})}function fg(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function lh(t,e,r,s){if(typeof e=="function"){const[o,l]=fg(s);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=fg(s);e=e(r!==void 0?r:t.custom,o,l)}return e}function $a(t){return St(t)?t.get():t}function DT({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:NT(r,s,o,t),renderState:e()}}function NT(t,e,r,s){const o={},l=s(t,{});for(const w in l)o[w]=$a(l[w]);let{initial:u,animate:d}=t;const h=al(t),p=m0(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let m=r?r.initial===!1:!1;m=m||u===!1;const v=m?d:u;if(v&&typeof v!="boolean"&&!ol(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const k=lh(t,w[_]);if(k){const{transitionEnd:b,transition:T,...C}=k;for(const P in C){let R=C[P];if(Array.isArray(R)){const B=m?R.length-1:0;R=R[B]}R!==null&&(o[P]=R)}for(const P in b)o[P]=b[P]}}}return o}const _0=t=>(e,r)=>{const s=S.useContext(sl),o=S.useContext(il),l=()=>DT(t,e,s,o);return r?l():Id(l)};function uh(t,e,r){const{style:s}=t,o={};for(const l in s)(St(s[l])||e.style&&St(e.style[l])||g0(l,t)||r?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const MT=_0({scrapeMotionValuesFromProps:uh,createRenderState:oh});function S0(t,e,r){const s=uh(t,e,r);for(const o in t)if(St(t[o])||St(e[o])){const l=zi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const $T=_0({scrapeMotionValuesFromProps:S0,createRenderState:w0}),BT=Symbol.for("motionComponentSymbol");function Ci(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FT(t,e,r){return S.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):Ci(r)&&(r.current=s))},[e])}const ch=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VT="framerAppearId",b0="data-"+ch(VT),k0=S.createContext({});function UT(t,e,r,s,o){const{visualElement:l}=S.useContext(sl),u=S.useContext(f0),d=S.useContext(il),h=S.useContext(nh).reducedMotion,p=S.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=S.useContext(k0);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&zT(p.current,r,o,v);const w=S.useRef(!1);S.useInsertionEffect(()=>{m&&w.current&&m.update(r,d)});const _=r[b0],k=S.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return _v(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),S.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),k.current=!1),m.enteringChildren=void 0)}),m}function zT(t,e,r,s){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:E0(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Ci(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:p})}function E0(t){if(t)return t.options.allowProjection!==!1?t.projection:E0(t.parent)}function xc(t,{forwardMotionProps:e=!1}={},r,s){r&&gT(r);const o=ah(t)?$T:MT;function l(d,h){let p;const m={...S.useContext(nh),...d,layoutId:WT(d)},{isStatic:v}=m,w=_T(d),_=o(d,v);if(!v&&Ld){qT();const k=HT(m);p=k.MeasureLayout,w.visualElement=UT(t,_,m,s,k.ProjectionNode)}return y.jsxs(sl.Provider,{value:w,children:[p&&w.visualElement?y.jsx(p,{visualElement:w.visualElement,...m}):null,LT(t,d,FT(_,w.visualElement,h),_,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=S.forwardRef(l);return u[BT]=t,u}function WT({layoutId:t}){const e=S.useContext(Od).id;return e&&t!==void 0?e+"-"+t:t}function qT(t,e){S.useContext(f0).strict}function HT(t){const{drag:e,layout:r}=Ni;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function KT(t,e){if(typeof Proxy>"u")return xc;const r=new Map,s=(l,u)=>xc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(r.has(u)||r.set(u,xc(u,void 0,t,e)),r.get(u))})}function T0({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function GT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JT(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function _c(t){return t===void 0||t===1}function ld({scale:t,scaleX:e,scaleY:r}){return!_c(t)||!_c(e)||!_c(r)}function Mr(t){return ld(t)||C0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C0(t){return pg(t.x)||pg(t.y)}function pg(t){return t&&t!=="0%"}function Xa(t,e,r){const s=t-r,o=e*s;return r+o}function mg(t,e,r,s,o){return o!==void 0&&(t=Xa(t,o,s)),Xa(t,r,s)+e}function ud(t,e=0,r=1,s,o){t.min=mg(t.min,e,r,s,o),t.max=mg(t.max,e,r,s,o)}function j0(t,{x:e,y:r}){ud(t.x,e.translate,e.scale,e.originPoint),ud(t.y,r.translate,r.scale,r.originPoint)}const gg=.999999999999,yg=1.0000000000001;function YT(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Pi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,j0(t,u)),s&&Mr(l.latestValues)&&Pi(t,l.latestValues))}e.x<yg&&e.x>gg&&(e.x=1),e.y<yg&&e.y>gg&&(e.y=1)}function ji(t,e){t.min=t.min+e,t.max=t.max+e}function vg(t,e,r,s,o=.5){const l=Ue(t.min,t.max,o);ud(t,e,r,l,s)}function Pi(t,e){vg(t.x,e.x,e.scaleX,e.scale,e.originX),vg(t.y,e.y,e.scaleY,e.scale,e.originY)}function P0(t,e){return T0(JT(t.getBoundingClientRect(),e))}function QT(t,e,r){const s=P0(t,r),{scroll:o}=e;return o&&(ji(s.x,o.offset.x),ji(s.y,o.offset.y)),s}const wg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:wg(),y:wg()}),xg=()=>({min:0,max:0}),Je=()=>({x:xg(),y:xg()}),cd={current:null},R0={current:!1};function XT(){if(R0.current=!0,!!Ld)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cd.current=t.matches;t.addEventListener("change",e),e()}else cd.current=!1}const ZT=new WeakMap;function eC(t,e,r){for(const s in e){const o=e[s],l=r[s];if(St(o))t.addValue(s,o);else if(St(l))t.addValue(s,Di(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,Di(u!==void 0?u:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const _g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tC{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Lt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ne.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=al(r),this.isVariantNode=m0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const _=v[w];h[w]!==void 0&&St(_)&&_.set(h[w])}}mount(e){this.current=e,ZT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),R0.current||XT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Wi.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ni){const r=Ni[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<_g.length;s++){const o=_g[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=eC(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Di(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Sv(s)||kv(s))?s=parseFloat(s):!uT(s)&&hr.test(r)&&(s=s0(e,r)),this.setBaseTarget(e,St(s)?s.get():s)),St(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=lh(this.props,r,this.presenceContext?.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!St(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Bd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){eh.render(this.render)}}class A0 extends tC{constructor(){super(...arguments),this.KeyframeResolver=QE}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function O0(t,{style:e,vars:r},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in r)l.setProperty(u,r[u])}function nC(t){return window.getComputedStyle(t)}class rC extends A0{constructor(){super(...arguments),this.type="html",this.renderInstance=O0}readValueFromInstance(e,r){if(Wi.has(r))return this.projection?.isProjecting?td(r):gE(e,r);{const s=nC(e),o=(Ud(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return P0(e,r)}build(e,r,s){sh(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return uh(e,r,s)}}const I0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iC(t,e,r,s){O0(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(I0.has(o)?o:ch(o),e.attrs[o])}class sC extends A0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Wi.has(r)){const s=i0(r);return s&&s.default||0}return r=I0.has(r)?r:ch(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return S0(e,r,s)}build(e,r,s){v0(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){iC(e,r,s,o)}mount(e){this.isSVGTag=x0(e.tagName),super.mount(e)}}const oC=(t,e)=>ah(t)?new sC(e):new rC(e,{allowProjection:t!==S.Fragment});function Oi(t,e,r){const s=t.getProps();return lh(s,e,r!==void 0?r:s.custom,t)}const dd=t=>Array.isArray(t);function aC(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Di(r))}function lC(t){return dd(t)?t[t.length-1]||0:t}function uC(t,e){const r=Oi(t,e);let{transitionEnd:s={},transition:o={},...l}=r||{};l={...l,...s};for(const u in l){const d=lC(l[u]);aC(t,u,d)}}function cC(t){return!!(St(t)&&t.add)}function hd(t,e){const r=t.getValue("willChange");if(cC(r))return r.add(e);if(!r&&Vn.WillChange){const s=new Vn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function L0(t){return t.props[b0]}const dC=t=>t!==null;function hC(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(dC),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const fC={type:"spring",stiffness:500,damping:25,restSpeed:10},pC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mC={type:"keyframes",duration:.8},gC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yC=(t,{keyframes:e})=>e.length>2?mC:Wi.has(t)?t.startsWith("scale")?pC(e[1]):fC:gC;function vC({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const dh=(t,e,r,s={},o,l)=>u=>{const d=Xd(s,t)||{},h=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Sn(h);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};vC(d)||Object.assign(m,yC(t,m)),m.duration&&(m.duration=Sn(m.duration)),m.repeatDelay&&(m.repeatDelay=Sn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(od(m),m.delay===0&&(v=!0)),(Vn.instantAnimations||Vn.skipAnimations)&&(v=!0,od(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const w=hC(m.keyframes,d);if(w!==void 0){Ne.update(()=>{m.onUpdate(w),m.onComplete()});return}}return d.isSync?new Yd(m):new BE(m)};function wC({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function D0(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in d){const v=t.getValue(m,t.latestValues[m]??null),w=d[m];if(w===void 0||p&&wC(p,m))continue;const _={delay:r,...Xd(l||{},m)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!_.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=L0(t);if(C){const P=window.MotionHandoffAnimation(C,m,Ne);P!==null&&(_.startTime=P,b=!0)}}hd(t,m),v.start(dh(m,v,w,t.shouldReduceMotion&&t0.has(m)?{type:!1}:_,t,b));const T=v.animation;T&&h.push(T)}return u&&Promise.all(h).then(()=>{Ne.update(()=>{u&&uC(t,u)})}),h}function N0(t,e,r,s=0,o=1){const l=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),u=t.size,d=(u-1)*s;return typeof r=="function"?r(l,u):o===1?l*s:d-l*s}function fd(t,e,r={}){const s=Oi(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all(D0(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=o;return xC(t,e,h,p,m,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(r.delay)])}function xC(t,e,r=0,s=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(fd(h,e,{...u,delay:r+(typeof s=="function"?0:s)+N0(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function _C(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>fd(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=fd(t,e,r);else{const o=typeof e=="function"?Oi(t,e,r.custom):e;s=Promise.all(D0(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function M0(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const SC=ih.length;function $0(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?$0(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<SC;r++){const s=ih[r],o=t.props[s];(Js(o)||o===!1)&&(e[s]=o)}return e}const bC=[...rh].reverse(),kC=rh.length;function EC(t){return e=>Promise.all(e.map(({animation:r,options:s})=>_C(t,r,s)))}function TC(t){let e=EC(t),r=Sg(),s=!0;const o=h=>(p,m)=>{const v=Oi(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:_,...k}=v;p={...p,...k,..._}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,m=$0(t.parent)||{},v=[],w=new Set;let _={},k=1/0;for(let T=0;T<kC;T++){const C=bC[T],P=r[C],R=p[C]!==void 0?p[C]:m[C],B=Js(R),D=C===h?P.isActive:null;D===!1&&(k=T);let $=R===m[C]&&R!==p[C]&&B;if($&&s&&t.manuallyAnimateOnMount&&($=!1),P.protectedKeys={..._},!P.isActive&&D===null||!R&&!P.prevProp||ol(R)||typeof R=="boolean")continue;const q=CC(P.prevProp,R);let W=q||C===h&&P.isActive&&!$&&B||T>k&&B,M=!1;const ne=Array.isArray(R)?R:[R];let ce=ne.reduce(o(C),{});D===!1&&(ce={});const{prevResolvedValues:we={}}=P,xe={...we,...ce},Pe=he=>{W=!0,w.has(he)&&(M=!0,w.delete(he)),P.needsAnimating[he]=!0;const K=t.getValue(he);K&&(K.liveStyle=!1)};for(const he in xe){const K=ce[he],re=we[he];if(_.hasOwnProperty(he))continue;let J=!1;dd(K)&&dd(re)?J=!M0(K,re):J=K!==re,J?K!=null?Pe(he):w.add(he):K!==void 0&&w.has(he)?Pe(he):P.protectedKeys[he]=!0}P.prevProp=R,P.prevResolvedValues=ce,P.isActive&&(_={..._,...ce}),s&&t.blockInitialAnimation&&(W=!1);const Ye=$&&q;W&&(!Ye||M)&&v.push(...ne.map(he=>{const K={type:C};if(typeof he=="string"&&s&&!Ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,J=Oi(re,he);if(re.enteringChildren&&J){const{delayChildren:O}=J.transition||{};K.delay=N0(re.enteringChildren,t,O)}}return{animation:he,options:K}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const C=Oi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(T.transition=C.transition)}w.forEach(C=>{const P=t.getBaseTarget(C),R=t.getValue(C);R&&(R.liveStyle=!0),T[C]=P??null}),v.push({animation:T})}let b=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(v):Promise.resolve()}function d(h,p){if(r[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),r[h].isActive=p;const m=u(h);for(const v in r)r[v].protectedKeys={};return m}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Sg()}}}function CC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M0(e,t):!1}function Lr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sg(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jC extends pr{constructor(e){super(e),e.animationState||(e.animationState=TC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ol(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PC=0;class RC extends pr{constructor(){super(...arguments),this.id=PC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const AC={animation:{Feature:jC},exit:{Feature:RC}};function Qs(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function so(t){return{point:{x:t.pageX,y:t.pageY}}}const OC=t=>e=>th(e)&&t(e,so(e));function Bs(t,e,r,s){return Qs(t,e,OC(r),s)}const B0=1e-4,IC=1-B0,LC=1+B0,F0=.01,DC=0-F0,NC=0+F0;function Et(t){return t.max-t.min}function MC(t,e,r){return Math.abs(t-e)<=r}function bg(t,e,r,s=.5){t.origin=s,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=Et(r)/Et(e),t.translate=Ue(r.min,r.max,t.origin)-t.originPoint,(t.scale>=IC&&t.scale<=LC||isNaN(t.scale))&&(t.scale=1),(t.translate>=DC&&t.translate<=NC||isNaN(t.translate))&&(t.translate=0)}function Fs(t,e,r,s){bg(t.x,e.x,r.x,s?s.originX:void 0),bg(t.y,e.y,r.y,s?s.originY:void 0)}function kg(t,e,r){t.min=r.min+e.min,t.max=t.min+Et(e)}function $C(t,e,r){kg(t.x,e.x,r.x),kg(t.y,e.y,r.y)}function Eg(t,e,r){t.min=e.min-r.min,t.max=t.min+Et(e)}function Vs(t,e,r){Eg(t.x,e.x,r.x),Eg(t.y,e.y,r.y)}function Qt(t){return[t("x"),t("y")]}const V0=({current:t})=>t?t.ownerDocument.defaultView:null,Tg=(t,e)=>Math.abs(t-e);function BC(t,e){const r=Tg(t.x,e.x),s=Tg(t.y,e.y);return Math.sqrt(r**2+s**2)}class U0{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=bc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,k=BC(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!k)return;const{point:b}=w,{timestamp:T}=pt;this.history.push({...b,timestamp:T});const{onStart:C,onMove:P}=this.handlers;_||(C&&C(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Sc(_,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:k,onSessionEnd:b,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=bc(w.type==="pointercancel"?this.lastMoveEventInfo:Sc(_,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,C),b&&b(w,C)},!th(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=so(e),h=Sc(d,this.transformPagePoint),{point:p}=h,{timestamp:m}=pt;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=r;v&&v(e,bc(h,this.history)),this.removeListeners=no(Bs(this.contextWindow,"pointermove",this.handlePointerMove),Bs(this.contextWindow,"pointerup",this.handlePointerUp),Bs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Sc(t,e){return e?{point:e(t.point)}:t}function Cg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bc({point:t},e){return{point:t,delta:Cg(t,z0(e)),offset:Cg(t,FC(e)),velocity:VC(e,.1)}}function FC(t){return t[0]}function z0(t){return t[t.length-1]}function VC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=z0(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>Sn(e)));)r--;if(!s)return{x:0,y:0};const l=Xt(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function UC(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ue(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ue(r,t,s.max):Math.min(t,r)),t}function jg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function zC(t,{top:e,left:r,bottom:s,right:o}){return{x:jg(t.x,r,o),y:jg(t.y,e,s)}}function Pg(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function WC(t,e){return{x:Pg(t.x,e.x),y:Pg(t.y,e.y)}}function qC(t,e){let r=.5;const s=Et(t),o=Et(e);return o>s?r=Hs(e.min,e.max-s,t.min):s>o&&(r=Hs(t.min,t.max-o,e.min)),Fn(0,1,r)}function HC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const pd=.35;function KC(t=pd){return t===!1?t=0:t===!0&&(t=pd),{x:Rg(t,"left","right"),y:Rg(t,"top","bottom")}}function Rg(t,e,r){return{min:Ag(t,e),max:Ag(t,r)}}function Ag(t,e){return typeof t=="number"?t:t[e]||0}const GC=new WeakMap;class JC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(so(v).point)},u=(v,w)=>{const{drag:_,dragPropagation:k,onDragStart:b}=this.getProps();if(_&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tT(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(C=>{let P=this.getAxisMotionValue(C).get()||0;if(bn.test(P)){const{projection:R}=this.visualElement;if(R&&R.layout){const B=R.layout.layoutBox[C];B&&(P=Et(B)*(parseFloat(P)/100))}}this.originPoint[C]=P}),b&&Ne.postRender(()=>b(v,w)),hd(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:k,onDirectionLock:b,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=w;if(k&&this.currentDirection===null){this.currentDirection=YC(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),T&&T(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new U0(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:V0(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ne.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Oa(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=UC(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Ci(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=zC(s.layoutBox,e):this.constraints=!1,this.elastic=KC(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HC(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ci(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=QT(s,o.root,this.visualElement.getTransformPagePoint());let u=WC(o.layout.layoutBox,l);if(r){const d=r(GT(u));this.hasMutatedConstraints=!!d,d&&(u=T0(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Qt(m=>{if(!Oa(m,r,this.currentDirection))return;let v=h&&h[m]||{};u&&(v={min:0,max:0});const w=o?200:1e6,_=o?40:1e7,k={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return hd(this.visualElement,e),s.start(dh(e,s,0,r,this.visualElement,!1))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qt(r=>{const{drag:s}=this.getProps();if(!Oa(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-Ue(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Ci(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qt(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=qC({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qt(u=>{if(!Oa(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(Ue(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;GC.set(this.visualElement,this);const e=this.visualElement.current,r=Bs(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Ci(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ne.read(s);const u=Qs(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qt(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=pd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Oa(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function YC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class QC extends pr{constructor(e){super(e),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new JC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Og=t=>(e,r)=>{t&&Ne.postRender(()=>t(e,r))};class XC extends pr{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(e){this.session=new U0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Og(e),onStart:Og(r),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ne.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Bs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ba={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ig(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const r=Ig(t,e.target.x),s=Ig(t,e.target.y);return`${r}% ${s}%`}},ZC={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=hr.parse(t);if(o.length>5)return s;const l=hr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const p=Ue(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}};let kc=!1;class ej extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;ST(tj),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),kc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ba.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,kc=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ne.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;kc=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W0(t){const[e,r]=h0(),s=S.useContext(Od);return y.jsx(ej,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(k0),isPresent:e,safeToRemove:r})}const tj={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:ZC};function nj(t,e,r){const s=St(t)?t:Di(t);return s.start(dh("",s,e,r)),s.animation}const rj=(t,e)=>t.depth-e.depth;class ij{constructor(){this.children=[],this.isDirty=!1}add(e){Dd(this.children,e),this.isDirty=!0}remove(e){Nd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rj),this.isDirty=!1,this.children.forEach(e)}}function sj(t,e){const r=Lt.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(dr(s),t(l-e))};return Ne.setup(s,!0),()=>dr(s)}const q0=["TopLeft","TopRight","BottomLeft","BottomRight"],oj=q0.length,Lg=t=>typeof t=="string"?parseFloat(t):t,Dg=t=>typeof t=="number"||ue.test(t);function aj(t,e,r,s,o,l){o?(t.opacity=Ue(0,r.opacity??1,lj(s)),t.opacityExit=Ue(e.opacity??1,0,uj(s))):l&&(t.opacity=Ue(e.opacity??1,r.opacity??1,s));for(let u=0;u<oj;u++){const d=`border${q0[u]}Radius`;let h=Ng(e,d),p=Ng(r,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Dg(h)===Dg(p)?(t[d]=Math.max(Ue(Lg(h),Lg(p),s),0),(bn.test(p)||bn.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=Ue(e.rotate||0,r.rotate||0,s))}function Ng(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lj=H0(0,.5,Ov),uj=H0(.5,.95,Zt);function H0(t,e,r){return s=>s<t?0:s>e?1:r(Hs(t,e,s))}function Mg(t,e){t.min=e.min,t.max=e.max}function Yt(t,e){Mg(t.x,e.x),Mg(t.y,e.y)}function $g(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Bg(t,e,r,s,o){return t-=e,t=Xa(t,1/r,s),o!==void 0&&(t=Xa(t,1/o,s)),t}function cj(t,e=0,r=1,s=.5,o,l=t,u=t){if(bn.test(e)&&(e=parseFloat(e),e=Ue(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ue(l.min,l.max,s);t===l&&(d-=e),t.min=Bg(t.min,e,r,d,o),t.max=Bg(t.max,e,r,d,o)}function Fg(t,e,[r,s,o],l,u){cj(t,e[r],e[s],e[o],e.scale,l,u)}const dj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function Vg(t,e,r,s){Fg(t.x,e,dj,r?r.x:void 0,s?s.x:void 0),Fg(t.y,e,hj,r?r.y:void 0,s?s.y:void 0)}function Ug(t){return t.translate===0&&t.scale===1}function K0(t){return Ug(t.x)&&Ug(t.y)}function zg(t,e){return t.min===e.min&&t.max===e.max}function fj(t,e){return zg(t.x,e.x)&&zg(t.y,e.y)}function Wg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function G0(t,e){return Wg(t.x,e.x)&&Wg(t.y,e.y)}function qg(t){return Et(t.x)/Et(t.y)}function Hg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pj{constructor(){this.members=[]}add(e){Dd(this.members,e),e.scheduleRender()}remove(e){if(Nd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mj(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=r?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:w,skewX:_,skewY:k}=r;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),_&&(s+=`skewX(${_}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const Ec=["","X","Y","Z"],gj=1e3;let yj=0;function Tc(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function J0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=L0(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ne,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&J0(s)}function Y0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=yj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xj),this.nodes.forEach(kj),this.nodes.forEach(Ej),this.nodes.forEach(_j)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ij)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Bd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=d0(u)&&!aT(u),this.instance=u;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ne.read(()=>{v=window.innerWidth}),t(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=sj(w,250),Ba.hasAnimatedSinceResize&&(Ba.hasAnimatedSinceResize=!1,this.nodes.forEach(Jg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||Rj,{onLayoutAnimationStart:b,onLayoutAnimationComplete:T}=p.getProps(),C=!this.targetLayout||!G0(this.targetLayout,_),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Xd(k,"layout"),onPlay:b,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,P)}else v||Jg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bj),this.nodes.forEach(vj),this.nodes.forEach(wj)):this.nodes.forEach(Gg),this.clearAllSnapshots();const d=Lt.now();pt.delta=Fn(0,1e3/60,d-pt.timestamp),pt.timestamp=d,pt.isProcessing=!0,pc.update.process(pt),pc.preRender.process(pt),pc.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sj),this.sharedNodes.forEach(Cj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Et(this.snapshot.measuredBox.x)&&!Et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!K0(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Mr(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),Aj(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Je();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Oj))){const{scroll:p}=this.root;p&&(ji(d.x,p.offset.x),ji(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Je();if(Yt(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:v}=p;p!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&Yt(d,u),ji(d.x,m.offset.x),ji(d.y,m.offset.y))}return d}applyTransform(u,d=!1){const h=Je();Yt(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Pi(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Mr(m.latestValues)&&Pi(h,m.latestValues)}return Mr(this.latestValues)&&Pi(h,this.latestValues),h}removeTransform(u){const d=Je();Yt(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Mr(p.latestValues))continue;ld(p.latestValues)&&p.updateSnapshot();const m=Je(),v=p.measurePageBox();Yt(m,v),Vg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Mr(this.latestValues)&&Vg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Vs(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$C(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),j0(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Vs(this.relativeTargetOrigin,this.target,w.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ld(this.parent.latestValues)||C0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Yt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;YT(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Je());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($g(this.prevProjectionDelta.x,this.projectionDelta.x),$g(this.prevProjectionDelta.y,this.projectionDelta.y)),Fs(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Hg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ri(),this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri()}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Je(),_=h?h.source:void 0,k=this.layout?this.layout.source:void 0,b=_!==k,T=this.getStack(),C=!T||T.members.length<=1,P=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(Pj));this.animationProgress=0;let R;this.mixTargetDelta=B=>{const D=B/1e3;Yg(v.x,u.x,D),Yg(v.y,u.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vs(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jj(this.relativeTarget,this.relativeTargetOrigin,w,D),R&&fj(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Je()),Yt(R,this.relativeTarget)),b&&(this.animationValues=m,aj(m,p,this.latestValues,D,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Ba.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Di(0)),this.currentAnimation=nj(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:m}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&Q0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Je();const v=Et(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Et(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}Yt(d,h),Pi(d,m),Fs(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new pj),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Tc("z",u,p,this.animationValues);for(let m=0;m<Ec.length;m++)Tc(`rotate${Ec[m]}`,u,p,this.animationValues),Tc(`skew${Ec[m]}`,u,p,this.animationValues);u.render();for(const m in p)u.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=$a(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=$a(d?.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=mj(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),u.transform=v;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in Ys){if(m[k]===void 0)continue;const{correct:b,applyTo:T,isCSSVariable:C}=Ys[k],P=v==="none"?m[k]:b(m[k],p);if(T){const R=T.length;for(let B=0;B<R;B++)u[T[B]]=P}else C?this.options.visualElement.renderState.vars[k]=P:u[k]=P}this.options.layoutId&&(u.pointerEvents=p===this?$a(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Kg),this.root.sharedNodes.clear()}}}function vj(t){t.updateLayout()}function wj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Qt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Et(v);v.min=r[m].min,v.max=v.min+w}):Q0(o,e.layoutBox,r)&&Qt(m=>{const v=l?e.measuredBox[m]:e.layoutBox[m],w=Et(r[m]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const u=Ri();Fs(u,r,e.layoutBox);const d=Ri();l?Fs(d,t.applyTransform(s,!0),e.measuredBox):Fs(d,r,e.layoutBox);const h=!K0(u);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:w}=m;if(v&&w){const _=Je();Vs(_,e.layoutBox,v.layoutBox);const k=Je();Vs(k,r,w.layoutBox),G0(_,k)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _j(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Sj(t){t.clearSnapshot()}function Kg(t){t.clearMeasurements()}function Gg(t){t.isLayoutDirty=!1}function bj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kj(t){t.resolveTargetDelta()}function Ej(t){t.calcProjection()}function Tj(t){t.resetSkewAndRotation()}function Cj(t){t.removeLeadSnapshot()}function Yg(t,e,r){t.translate=Ue(e.translate,0,r),t.scale=Ue(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Qg(t,e,r,s){t.min=Ue(e.min,r.min,s),t.max=Ue(e.max,r.max,s)}function jj(t,e,r,s){Qg(t.x,e.x,r.x,s),Qg(t.y,e.y,r.y,s)}function Pj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rj={duration:.45,ease:[.4,0,.1,1]},Xg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zg=Xg("applewebkit/")&&!Xg("chrome/")?Math.round:Zt;function ey(t){t.min=Zg(t.min),t.max=Zg(t.max)}function Aj(t){ey(t.x),ey(t.y)}function Q0(t,e,r){return t==="position"||t==="preserve-aspect"&&!MC(qg(e),qg(r),.2)}function Oj(t){return t!==t.root&&t.scroll?.wasRoot}const Ij=Y0({attachResizeListener:(t,e)=>Qs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cc={current:void 0},X0=Y0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cc.current){const t=new Ij({});t.mount(window),t.setOptions({layoutScroll:!0}),Cc.current=t}return Cc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Lj={pan:{Feature:XC},drag:{Feature:QC,ProjectionNode:X0,MeasureLayout:W0}};function ty(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=s[o];l&&Ne.postRender(()=>l(e,so(e)))}class Dj extends pr{mount(){const{current:e}=this.node;e&&(this.unmount=nT(e,(r,s)=>(ty(this.node,s,"Start"),o=>ty(this.node,o,"End"))))}unmount(){}}class Nj extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=no(Qs(this.node.current,"focus",()=>this.onFocus()),Qs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ny(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=s[o];l&&Ne.postRender(()=>l(e,so(e)))}class Mj extends pr{mount(){const{current:e}=this.node;e&&(this.unmount=oT(e,(r,s)=>(ny(this.node,s,"Start"),(o,{success:l})=>ny(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const md=new WeakMap,jc=new WeakMap,$j=t=>{const e=md.get(t.target);e&&e(t)},Bj=t=>{t.forEach($j)};function Fj({root:t,...e}){const r=t||document;jc.has(r)||jc.set(r,{});const s=jc.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Bj,{root:t,...e})),s[o]}function Vj(t,e,r){const s=Fj(e);return md.set(t,r),s.observe(t),()=>{md.delete(t),s.unobserve(t)}}const Uj={some:0,all:1};class zj extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Uj[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=p?m:v;w&&w(h)};return Vj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Wj(e,r))&&this.startObserver()}unmount(){}}function Wj({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const qj={inView:{Feature:zj},tap:{Feature:Mj},focus:{Feature:Nj},hover:{Feature:Dj}},Hj={layout:{ProjectionNode:X0,MeasureLayout:W0}},Kj={...AC,...qj,...Lj,...Hj},Mn=KT(Kj,oC),Gj="/assets/fetop_logo-CEosw_QK.png";function Jj(){const{totalItems:t}=rl(),{authUser:e}=pn(),r=Cn(),s=fn(),[o,l]=S.useState(!1),[u,d]=S.useState(!1),[h,p]=S.useState(""),[m,v]=S.useState([]),[w,_]=S.useState(!1);s.pathname,S.useEffect(()=>{if(!h.trim()){v([]);return}const b=setTimeout(async()=>{try{_(!0);const[T,C]=await Promise.all([le.from("products").select("id, name, images").ilike("name",`%${h}%`).limit(5),le.from("categories").select("id, name").ilike("name",`%${h}%`).limit(3)]),P=[...C.data?.map(R=>({...R,type:"category"}))||[],...T.data?.map(R=>({...R,type:"product"}))||[]];v(P)}catch(T){console.error("Search failed:",T.message)}finally{_(!1)}},400);return()=>clearTimeout(b)},[h]);const k=b=>{p(""),v([]),l(!1),b.type==="category"?r(`/shop?category=${b.name}`):r(`/product/${b.id}`)};return S.useEffect(()=>{const b=document.createElement("style");return b.innerHTML=`
      @media (max-width: 900px) {
        .nav-links { display: none !important; }
        .search-box { display: none !important; }
        .hamburger { display: block !important; }
      }
      @media (max-width: 600px) {
        nav { padding: 10px 16px !important; }
        .mobile-menu { width: 80% !important; }
        .mobile-link { font-size: 16px !important; }
      }
    `,document.head.appendChild(b),()=>document.head.removeChild(b)},[]),y.jsxs(y.Fragment,{children:[y.jsxs("nav",{style:{position:"fixed",top:0,left:0,width:"100%",height:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 40px",zIndex:1e3,background:"#ffffff",color:"#111",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",transition:"all 0.3s ease"},children:[y.jsx(at,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px"},children:y.jsx("img",{src:Gj,alt:"Fetop",style:{height:"42px",width:"auto",objectFit:"contain"}})}),y.jsxs("div",{className:"nav-links",style:Yj,children:[y.jsx(at,{to:"/",style:Ia(s.pathname==="/"),children:"Home"}),y.jsx(at,{to:"/shop",style:Ia(s.pathname==="/shop"),children:"Shop"}),y.jsx(at,{to:"/about",style:Ia(s.pathname==="/about"),children:"About"}),y.jsx(at,{to:"/contact",style:Ia(s.pathname==="/contact"),children:"Contact"})]}),y.jsxs("div",{className:"search-box",style:{position:"relative",flex:1,maxWidth:"350px"},children:[y.jsxs("div",{style:Qj,children:[y.jsx(pm,{style:{color:"#555"}}),y.jsx("input",{type:"text",placeholder:"Search products or categories...",value:h,onChange:b=>p(b.target.value),style:Xj})]}),y.jsx($s,{children:m.length>0&&y.jsx(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},style:Zj,children:m.map(b=>y.jsxs("div",{onClick:()=>k(b),style:eP,children:[b.type==="product"?y.jsx("img",{src:b.images?.[0]||"https://via.placeholder.com/40",alt:b.name,style:{width:"38px",height:"38px",borderRadius:"6px",objectFit:"cover"}}):y.jsx(pm,{color:"#aaa"}),y.jsxs("span",{style:{fontSize:"15px",color:"#333"},children:[b.name," ",b.type==="category"&&y.jsx("span",{style:{color:"#888",fontSize:"13px"},children:"(Category)"})]})]},b.id))})})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"22px"},children:[e?y.jsxs(y.Fragment,{children:[y.jsxs(at,{to:"/cart",style:{position:"relative",color:"inherit"},children:[y.jsx(Sd,{size:21}),t>0&&y.jsx("span",{style:nP,children:t})]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("button",{onClick:()=>d(b=>!b),style:ry,children:y.jsx(N_,{size:25})}),y.jsx($s,{children:u&&y.jsxs(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},style:rP,children:[y.jsx(at,{to:"/profile",style:Pc,children:"Profile"}),y.jsx(at,{to:"/orders",style:Pc,children:"Orders"}),y.jsx(at,{to:"/logout",style:Pc,children:"Logout"})]})})]})]}):y.jsx(at,{to:"/login",style:tP,children:"Login"}),y.jsx("button",{onClick:()=>l(b=>!b),style:{...ry,display:"none"},className:"hamburger",children:o?y.jsx(Ty,{size:24}):y.jsx(L_,{size:24})})]}),y.jsx($s,{children:o&&y.jsxs(y.Fragment,{children:[y.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},style:iP,onClick:()=>l(!1)}),y.jsxs(Mn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"mobile-menu",style:sP,children:[["Home","Shop","About","Contact"].map(b=>y.jsx(at,{to:`/${b.toLowerCase()==="home"?"":b.toLowerCase()}`,className:"mobile-link",style:Rc,onClick:()=>l(!1),children:b},b)),e?y.jsx(at,{to:"/logout",className:"mobile-link",style:Rc,onClick:()=>l(!1),children:"Logout"}):y.jsx(at,{to:"/login",className:"mobile-link",style:Rc,onClick:()=>l(!1),children:"Login"})]})]})})]}),y.jsx("div",{style:{height:"64px"}})]})}const Yj={display:"flex",gap:"22px"},Ia=t=>({textDecoration:"none",color:t?"#000":"#444",fontWeight:t?600:500,fontSize:"15.5px"}),Qj={display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:"20px",background:"#fff",padding:"6px 12px"},Xj={flex:1,border:"none",outline:"none",marginLeft:"8px",fontSize:"14.5px",background:"transparent"},Zj={position:"absolute",top:"42px",left:0,right:0,background:"#fff",borderRadius:"8px",boxShadow:"0 3px 12px rgba(0,0,0,0.1)",zIndex:1001,overflow:"hidden"},eP={display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #eee"},tP={padding:"7px 16px",borderRadius:"20px",background:"#2563eb",color:"#fff",textDecoration:"none",fontWeight:600,fontSize:"14.5px"},nP={position:"absolute",top:"-7px",right:"-10px",background:"#2563eb",color:"#fff",fontSize:"11px",borderRadius:"50%",padding:"2px 6px",fontWeight:600},ry={background:"none",border:"none",cursor:"pointer",color:"inherit"},rP={position:"absolute",top:"110%",right:0,background:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:"8px",overflow:"hidden",zIndex:1001},Pc={display:"block",padding:"10px 18px",textDecoration:"none",color:"#111",fontSize:"14.5px",borderBottom:"1px solid #eee"},iP={position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:998,opacity:.5},sP={position:"fixed",top:0,right:0,width:"70%",height:"100%",background:"#fff",zIndex:999,display:"flex",flexDirection:"column",padding:"20px",gap:"16px"},Rc={textDecoration:"none",color:"#111",fontSize:"17px",fontWeight:500};function Z0(t){return Ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41a1.42 1.42 0 0 1-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"},child:[]}]})(t)}const oP="https://via.placeholder.com/400x300?text=Product+Image";function aP(){const{authUser:t}=pn(),e=Cn(),[r,s]=S.useState([]),[o,l]=S.useState(!0),[u,d]=S.useState(null);S.useEffect(()=>{async function m(){l(!0);try{const{data:v,error:w}=await le.from("products").select("id, name, description, price, discount_percent, images, stock_quantity").eq("is_active",!0).limit(4);if(w)throw w;s(v||[])}catch(v){d(v.message||String(v))}finally{l(!1)}}m()},[]);const h=async(m,v)=>{if(v.stopPropagation(),!t)return alert("Login to add to cart");try{let{data:w}=await le.from("cart").select("id").eq("user_id",t.id).single(),_=w?.id;if(!_){const{data:b}=await le.from("cart").insert({user_id:t.id}).select().single();_=b.id}const{data:k}=await le.from("cart_items").select("id, quantity").eq("cart_id",_).eq("product_id",m.id).single();k?await le.from("cart_items").update({quantity:k.quantity+1}).eq("id",k.id):await le.from("cart_items").insert({cart_id:_,product_id:m.id,quantity:1}),alert(`Added ${m.name} to cart!`)}catch(w){console.error("Add to cart failed:",w),alert("Failed to add to cart.")}},p=m=>e(`/product/${m}`);return o?y.jsx("div",{style:Fe.loadingWrap,children:"Loading featured products..."}):u?y.jsxs("div",{style:Fe.errorWrap,children:["Error: ",String(u)]}):y.jsxs("div",{style:Fe.container,children:[y.jsx("div",{style:Fe.hero,children:y.jsxs("div",{style:Fe.heroContent,children:[y.jsx("h1",{style:Fe.heroTitle,children:"Your Next Favorite Find Is Here."}),y.jsx("p",{style:Fe.heroSubTitle,children:"Discover our curated collection of quality products, designed just for you."}),y.jsxs("button",{style:Fe.heroBtn,onClick:()=>e("/shop"),children:[y.jsx(Z0,{style:{marginRight:8},size:20}),"Shop All Products"]})]})}),y.jsx("h2",{style:Fe.sectionTitle,children:" Featured Products"}),y.jsx("div",{style:Fe.grid,children:r.length===0?y.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center"},children:"No featured products currently available."}):r.map(m=>{const v=m.images?.[0]||oP,w=m.discount_percent?(m.price*(1-m.discount_percent/100)).toFixed(2):m.price.toFixed(2),_=m.stock_quantity===0;return y.jsxs("div",{style:Fe.card,onClick:()=>p(m.id),children:[y.jsx("img",{src:v,alt:m.name,style:Fe.image}),y.jsxs("div",{style:Fe.cardBody,children:[y.jsx("h3",{style:Fe.productName,children:m.name}),y.jsxs("p",{style:Fe.desc,children:[m.description.substring(0,60),"..."]}),y.jsxs("div",{style:Fe.priceRow,children:[y.jsxs("span",{style:Fe.price,children:["Ksh ",w.toLocaleString()]}),m.discount_percent>0&&y.jsxs("span",{style:Fe.oldPrice,children:["Ksh ",m.price.toLocaleString()]})]}),y.jsx("button",{onClick:k=>h(m,k),disabled:_,style:Fe.addBtn(_),children:_?"Out of Stock":y.jsxs(y.Fragment,{children:[y.jsx(Sd,{style:{marginRight:8},size:16}),"Add to Cart"]})})]})]},m.id)})}),y.jsxs("div",{style:Fe.ctaBanner,children:[y.jsxs("div",{style:Fe.ctaText,children:[y.jsx("h3",{style:Fe.ctaTitle,children:"Ready to explore more?"}),y.jsx("p",{children:"Find thousands of items across all our categories."})]}),y.jsxs("button",{style:Fe.ctaBtn,onClick:()=>e("/shop"),children:["View All Collections",y.jsx(I_,{style:{marginLeft:8},size:16})]})]})]})}const Fe={container:{padding:"30px 5%",maxWidth:"1200px",margin:"0 auto",fontFamily:"Inter, sans-serif"},hero:{background:"linear-gradient(135deg, #4f46e5, #6366f1)",color:"#fff",padding:"60px 40px",borderRadius:"16px",textAlign:"center",marginBottom:"40px",boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},heroContent:{maxWidth:"700px",margin:"0 auto"},heroTitle:{fontSize:"2.5rem",fontWeight:800,marginBottom:"15px"},heroSubTitle:{fontSize:"1.2rem",marginBottom:"30px",opacity:.9},heroBtn:{display:"flex",alignItems:"center",justifyContent:"center",padding:"12px 25px",borderRadius:"8px",background:"#ff8c00",color:"#fff",fontWeight:700,border:"none",cursor:"pointer",margin:"0 auto",transition:"background 0.3s"},sectionTitle:{fontSize:"1.8rem",fontWeight:700,marginBottom:"25px",color:"#1f2937",textAlign:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:30,marginBottom:"40px"},card:{background:"#fff",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease"},image:{width:"100%",height:180,objectFit:"cover"},cardBody:{padding:15},productName:{fontSize:18,fontWeight:700,marginBottom:5,color:"#333"},desc:{fontSize:14,color:"#666",marginBottom:10,minHeight:40,overflow:"hidden"},priceRow:{display:"flex",gap:10,alignItems:"baseline",marginBottom:15},price:{fontWeight:700,fontSize:18,color:"#4f46e5"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:14},addBtn:t=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:8,background:t?"#ccc":"#059669",color:"#fff",fontWeight:600,border:"none",cursor:t?"not-allowed":"pointer",width:"100%",transition:"background 0.2s ease"}),ctaBanner:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#eef2ff",padding:"30px",borderRadius:12,marginTop:20,flexWrap:"wrap",gap:20},ctaText:{flex:1},ctaTitle:{fontSize:"1.5rem",fontWeight:700,marginBottom:5,color:"#4f46e5"},ctaBtn:{display:"flex",alignItems:"center",padding:"10px 20px",borderRadius:8,background:"#4f46e5",color:"#fff",fontWeight:600,border:"none",cursor:"pointer",transition:"background 0.3s"},loadingWrap:{textAlign:"center",padding:60,fontSize:"1.2rem"},errorWrap:{textAlign:"center",padding:60,color:"crimson"}},je={container:{padding:"30px 5%",maxWidth:"1400px",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16,marginBottom:30},title:{fontSize:32,fontWeight:700,color:"#222"},search:{flex:1,minWidth:260,padding:"12px 16px",borderRadius:10,border:"1px solid #ddd",fontSize:16,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",transition:"border-color 0.2s"},categoriesWrapper:{display:"flex",gap:12,overflowX:"auto",paddingBottom:15,marginBottom:30,borderBottom:"1px solid #eee",whiteSpace:"nowrap"},catBtn:{flexShrink:0,padding:"10px 18px",borderRadius:20,fontWeight:600,border:"1px solid transparent",cursor:"pointer",transition:"all 0.25s",minWidth:"100px",textAlign:"center"},catBtnDefault:{background:"#f5f5f5",color:"#333"},catBtnActive:{background:"#111",color:"#fff"},catBtnImage(t,e){return{backgroundImage:`linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.6)),url(${t})`,backgroundSize:"cover",backgroundPosition:"center",color:"#fff",fontWeight:700,border:e?"3px solid #ff8c00":"none"}},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:30},card:{background:"#fff",borderRadius:14,boxShadow:"0 4px 18px rgba(0,0,0,0.08)",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease, box-shadow 0.3s ease"},imgWrap:{position:"relative",overflow:"hidden",height:220,borderBottom:"1px solid #eee"},image:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"},discountBadge:{position:"absolute",top:12,right:12,background:"#e11d48",color:"#fff",padding:"6px 10px",borderRadius:"999px",fontSize:13,fontWeight:700,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},cardBody:{padding:16},productName:{fontSize:18,fontWeight:700,marginBottom:6,color:"#333"},desc:{fontSize:14,color:"#666",marginBottom:10,height:40,overflow:"hidden",textOverflow:"ellipsis"},priceRow:{display:"flex",gap:12,alignItems:"baseline",marginBottom:10},price:{fontWeight:700,fontSize:18,color:"#1f6feb"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:14},stock:{fontSize:13,color:"#22c55e",fontWeight:600,display:"block"},stockOut:{color:"#ef4444"},addBtn:t=>({marginTop:15,padding:"12px",borderRadius:10,background:t?"#ccc":"#ff8c00",color:"#fff",fontWeight:700,border:"none",cursor:t?"not-allowed":"pointer",width:"100%",transition:"background 0.3s ease",":hover":{background:t?"#ccc":"#e07b00"}}),loadingWrap:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",fontFamily:"Inter, sans-serif"},errorWrap:{textAlign:"center",padding:60,color:"crimson"}};function lP(){const{authUser:t}=pn(),[e,r]=S.useState([]),[s,o]=S.useState([]),[l,u]=S.useState(!0),[d,h]=S.useState(null),[p,m]=S.useState(null),[v,w]=S.useState(""),[_,k]=S.useState(""),b=S.useRef(null),T=Cn(),C=fn(),R=S.useMemo(()=>new URLSearchParams(C.search),[C.search]).get("category")||"",B=S.useCallback(M=>{if(!M)return null;const ne=M.toLowerCase().trim();return s.find(we=>we.name.toLowerCase().trim()===ne)?.id??null},[s]);S.useEffect(()=>{const M=setTimeout(()=>k(v.trim()),320);return()=>clearTimeout(M)},[v]),S.useEffect(()=>{(async()=>{try{const{data:M,error:ne}=await le.from("categories").select("id, name").order("name",{ascending:!0});if(ne)throw ne;o(M||[])}catch(M){h(M.message||String(M))}})()},[]),S.useEffect(()=>{async function M(){u(!0),h(null);try{const ne=B(R);if(R&&!ne&&s.length>0){r([]),u(!1);return}let ce=le.from("products").select("id, name, description, price, discount_percent, images, stock_quantity, category_id").eq("is_active",!0).order("created_at",{ascending:!1});ne&&(ce=ce.eq("category_id",ne)),_&&(ce=ce.ilike("name",`%${_}%`));const{data:we,error:xe}=await ce;if(xe)throw xe;r(we||[])}catch(ne){h(ne.message||String(ne))}finally{u(!1)}}(s.length>0||!R)&&M()},[R,_,s,B]),S.useEffect(()=>{const M=document.querySelectorAll("img[data-src]");if(!M.length)return;const ne=new IntersectionObserver((ce,we)=>{ce.forEach(xe=>{if(xe.isIntersecting){const Pe=xe.target;Pe.src=Pe.dataset.src,we.unobserve(Pe)}})});return M.forEach(ce=>ne.observe(ce)),()=>ne.disconnect()},[e]);const D=M=>{T(M?`/shop?category=${encodeURIComponent(M)}`:"/shop")},$=M=>T(`/product/${M}`),q=async(M,ne)=>{if(ne.stopPropagation(),!t)return alert("Login to add to cart");try{let{data:ce,error:we}=await le.from("cart").select("id").eq("user_id",t.id).single();if(we&&we.code!=="PGRST116")throw we;let xe=ce?.id;if(!xe){const{data:Ye,error:Me}=await le.from("cart").insert({user_id:t.id}).select().single();if(Me)throw Me;xe=Ye.id}const{data:Pe}=await le.from("cart_items").select("id, quantity").eq("cart_id",xe).eq("product_id",M).single();Pe?await le.from("cart_items").update({quantity:Pe.quantity+1}).eq("id",Pe.id):await le.from("cart_items").insert({cart_id:xe,product_id:M,quantity:1}),alert("Added to cart!")}catch(ce){console.error("Add to cart failed:",ce),alert("Failed to add to cart.")}},W=S.useMemo(()=>{const M={};return s.forEach(ne=>{const ce=e.find(xe=>xe.category_id===ne.id),we=ce&&Array.isArray(ce.images)&&ce.images.length?ce.images[0]:"https://via.placeholder.com/250x150?text=Category+Image";M[ne.id]=we}),M},[s,e]);return l?y.jsxs("div",{style:je.loadingWrap,children:[y.jsx("p",{style:{...je.title,fontSize:40,animation:"spin 1.5s linear infinite",marginBottom:16},children:""}),y.jsx("p",{children:"Loading products..."})]}):d?y.jsxs("div",{style:je.errorWrap,children:[y.jsx("h2",{children:"Error loading shop"}),y.jsx("p",{children:String(d)})]}):y.jsxs("div",{style:je.container,children:[y.jsxs("div",{style:je.header,children:[y.jsx("h1",{style:je.title,children:R?`${R} Collection`:"Shop All"}),y.jsx("input",{ref:b,value:v,onChange:M=>w(M.target.value),placeholder:" Search products...",style:je.search})]}),y.jsxs("div",{style:je.categoriesWrapper,children:[y.jsx("button",{onClick:()=>D(null),style:{...je.catBtn,...R?je.catBtnDefault:je.catBtnActive},children:"All"}),s.map(M=>{const ne=M.name===R,ce=!!W[M.id];return y.jsx("button",{onClick:()=>D(M.name),style:{...je.catBtn,...ce?je.catBtnImage(W[M.id],ne):ne?je.catBtnActive:je.catBtnDefault},children:M.name},M.id)})]}),y.jsxs("div",{style:je.grid,children:[e.length===0&&y.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#555"},children:"No products found matching your criteria."}),e.map(M=>{const ne=Array.isArray(M.images)&&M.images.length?M.images[0]:"https://via.placeholder.com/400x300?text=No+Image",ce=M.discount_percent>0?M.price-M.price*M.discount_percent/100:M.price,we=M.stock_quantity===0,xe=M.id===p,Pe={...je.card,...xe&&{transform:"translateY(-5px)",boxShadow:"0 8px 25px rgba(0,0,0,0.15)"}},Ye={...je.image,...xe&&{transform:"scale(1.08)"}};return y.jsxs("div",{style:Pe,onClick:()=>$(M.id),onMouseEnter:()=>m(M.id),onMouseLeave:()=>m(null),children:[y.jsxs("div",{style:je.imgWrap,children:[y.jsx("img",{"data-src":ne,alt:M.name,style:Ye}),M.discount_percent>0&&y.jsxs("div",{style:je.discountBadge,children:["-",M.discount_percent,"%"]})]}),y.jsxs("div",{style:je.cardBody,children:[y.jsx("h3",{style:je.productName,children:M.name}),y.jsx("p",{style:je.desc,children:M.description||""}),y.jsxs("div",{style:je.priceRow,children:[y.jsxs("span",{style:je.price,children:["Ksh ",ce.toLocaleString()]}),M.discount_percent>0&&y.jsxs("span",{style:je.oldPrice,children:["Ksh ",M.price.toLocaleString()]})]}),y.jsx("span",{style:{...je.stock,...we&&je.stockOut},children:we?"Out of stock":`${M.stock_quantity} in stock`}),y.jsxs("button",{onClick:Me=>q(M.id,Me),disabled:we,style:je.addBtn(we),children:[" ",we?"Unavailable":"Add to Cart"]})]})]},M.id)})]})]})}if(typeof document<"u"){const t=document.createElement("style");t.innerHTML=`
 @keyframes spin { to { transform: rotate(360deg); } }
 `,document.head.appendChild(t)}function uP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function cP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function dP(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const hP="https://via.placeholder.com/60x60?text=No+Image";function fP(){const{authUser:t}=pn(),{cartItems:e,updateQuantity:r,removeFromCart:s}=rl(),o=Cn(),[l,u]=S.useState(null);if(!t)return y.jsx("div",{style:Te.message,children:"Please log in to view your cart."});if(!e)return y.jsx("div",{style:Te.message,children:"Loading cart"});if(e.length===0)return y.jsxs("div",{style:Te.message,children:[y.jsx("h2",{children:"Your cart is empty."}),y.jsxs("button",{style:Te.shopBtn,onClick:()=>o("/shop"),children:[y.jsx(Z0,{style:{marginRight:8},size:18}),"Continue Shopping"]})]});const d=e.reduce((C,P)=>{const R=P.product.discount_percent?P.product.price*(1-P.product.discount_percent/100):P.product.price;return C+R*P.quantity},0),h=35,p=.1,m=d*p,v=d+h+m,w=e.some(C=>C.quantity>C.product.stock_quantity),_=C=>{const P=C.quantity+1;if(P>C.product.stock_quantity){alert(`Max stock reached. You can only have ${C.product.stock_quantity} of ${C.product.name}.`);return}r(C.id,P)},k=C=>{C.quantity>1&&r(C.id,C.quantity-1)},b=(C,P)=>{let R=parseInt(P,10);(isNaN(R)||R<1)&&(R=1),R>C.product.stock_quantity&&(alert(`Maximum stock for ${C.product.name} is ${C.product.stock_quantity}.`),R=C.product.stock_quantity),r(C.id,R)},T=()=>{if(w){alert("Please adjust the quantity of items exceeding available stock before checking out.");return}o("/checkout")};return y.jsxs("div",{style:Te.container,children:[y.jsxs("h1",{style:Te.title,children:[y.jsx(Sd,{style:{marginRight:10}})," Shopping Cart"]}),y.jsxs("div",{style:Te.cartGrid,children:[y.jsxs("div",{style:Te.items,children:[y.jsxs("div",{style:Te.headerRow,children:[y.jsx("span",{style:{gridColumn:"2 / span 1"},children:"Product"}),y.jsx("span",{style:{gridColumn:"3 / span 1",textAlign:"right"},children:"Price"}),y.jsx("span",{style:{gridColumn:"4 / span 1",textAlign:"center"},children:"Quantity"}),y.jsx("span",{style:{gridColumn:"5 / span 1",textAlign:"right"},children:"Total"})]}),e.map(C=>{const P=C.product.discount_percent?C.product.price*(1-C.product.discount_percent/100):C.product.price,R=P*C.quantity,B=C.quantity>C.product.stock_quantity,D=C.id===l,$=C.quantity>=C.product.stock_quantity,q={...Te.itemRow,background:B?"#fef2f2":"#fff",border:B?"1px solid #dc2626":D?"1px solid #9ca3af":"1px solid #e5e7eb",boxShadow:D?"0 4px 10px rgba(0,0,0,0.05)":"none"};return y.jsxs("div",{style:q,onMouseEnter:()=>u(C.id),onMouseLeave:()=>u(null),children:[y.jsx("img",{src:C.product.images?.[0]||hP,alt:C.product.name,style:Te.image}),y.jsxs("div",{children:[y.jsx("div",{style:Te.name,children:C.product.name}),B&&y.jsxs("div",{style:Te.stockAlert,children:["Stock Error: Max in stock is ",C.product.stock_quantity]}),C.product.discount_percent>0&&y.jsxs("div",{style:Te.discountBadge,children:[C.product.discount_percent,"% OFF"]})]}),y.jsxs("div",{style:Te.price,children:["Ksh ",P.toFixed(2).toLocaleString()]}),y.jsxs("div",{style:Te.qtyWrapper,children:[y.jsx("button",{onClick:()=>k(C),style:Te.qtyBtn(C.quantity<=1),disabled:C.quantity<=1,"aria-label":"Decrease quantity",children:y.jsx(uP,{size:14})}),y.jsx("input",{type:"number",value:C.quantity,min:1,onChange:W=>b(C,W.target.value),style:{...Te.qtyInput,border:B?"1px solid #dc2626":"1px solid #ccc"}}),y.jsx("button",{onClick:()=>_(C),style:Te.qtyBtn($),disabled:$,"aria-label":"Increase quantity",children:y.jsx(cP,{size:14})})]}),y.jsxs("div",{style:Te.lineTotal,children:["Ksh ",R.toFixed(2).toLocaleString()]}),y.jsx("button",{onClick:()=>s(C.id),style:Te.removeBtn,title:"Remove Item","aria-label":"Remove item from cart",children:y.jsx(dP,{size:16})})]},C.id)})]}),y.jsxs("div",{style:Te.summary,children:[y.jsx("h2",{style:Te.summaryTitle,children:"Order Summary"}),y.jsxs("div",{style:Te.summaryRow,children:[y.jsx("span",{children:"Subtotal"}),y.jsxs("span",{children:["Ksh ",d.toFixed(2).toLocaleString()]})]}),y.jsxs("div",{style:Te.summaryRow,children:[y.jsx("span",{children:"Shipping Fee"}),y.jsxs("span",{children:["Ksh ",h.toFixed(2)]})]}),y.jsxs("div",{style:{...Te.summaryRow,borderBottom:"1px solid #e5e7eb",paddingBottom:"10px"},children:[y.jsxs("span",{children:["Tax (",p*100,"%)"]}),y.jsxs("span",{children:["Ksh ",m.toFixed(2).toLocaleString()]})]}),y.jsxs("div",{style:{...Te.summaryRow,...Te.totalRow},children:[y.jsx("span",{children:"Order Total"}),y.jsxs("span",{children:["Ksh ",v.toFixed(2).toLocaleString()]})]}),y.jsx("button",{style:Te.checkoutBtn(w),onClick:T,disabled:e.length===0||w,children:w?" Fix Stock Errors":"Proceed to Checkout"}),w&&y.jsx("p",{style:Te.errorText,children:"Please reduce the quantity of highlighted items."})]})]})]})}const Te={container:{maxWidth:"1100px",margin:"40px auto",padding:"0 20px",fontFamily:"'Inter', sans-serif",fontSize:"1rem"},title:{display:"flex",alignItems:"center",fontSize:"2rem",fontWeight:700,marginBottom:"30px",textAlign:"left",color:"#1f2937",borderBottom:"2px solid #4f46e5",paddingBottom:"10px"},cartGrid:{display:"flex",gap:"30px",flexWrap:"wrap"},items:{flex:3,minWidth:"550px"},headerRow:{display:"grid",gridTemplateColumns:"70px 1fr 90px 120px 90px 30px",gap:"8px",padding:"0 12px 10px 12px",fontWeight:600,color:"#4b5563",borderBottom:"1px solid #d1d5db",marginBottom:"10px"},itemRow:{display:"grid",gridTemplateColumns:"70px 1fr 90px 120px 90px 30px",alignItems:"center",gap:"8px",padding:"12px",marginBottom:"12px",borderRadius:"8px",transition:"all 0.2s ease-in-out"},image:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"6px"},name:{fontWeight:600,fontSize:"1rem",color:"#1f2937"},price:{color:"#4b5563",fontWeight:500,textAlign:"right"},discountBadge:{fontSize:"0.75rem",fontWeight:700,color:"#dc2626",background:"#fee2e2",borderRadius:"4px",padding:"2px 6px",display:"inline-block",marginTop:"4px"},qtyWrapper:{display:"flex",alignItems:"center",gap:"4px",justifySelf:"center"},qtyInput:{width:"50px",padding:"6px 4px",borderRadius:"6px",border:"1px solid #ccc",textAlign:"center",fontSize:"1rem"},qtyBtn:t=>({display:"flex",alignItems:"center",justifyContent:"center",background:t?"#e5e7eb":"#4f46e5",color:t?"#9ca3af":"#fff",border:"none",borderRadius:"6px",width:"28px",height:"28px",cursor:t?"not-allowed":"pointer",transition:"background 0.2s",padding:0}),lineTotal:{fontWeight:700,color:"#1f2937",textAlign:"right"},removeBtn:{display:"flex",alignItems:"center",justifyContent:"center",background:"#fecaca",color:"#dc2626",border:"none",borderRadius:"6px",width:"28px",height:"28px",cursor:"pointer",transition:"background 0.2s",justifySelf:"end",padding:0},stockAlert:{color:"#dc2626",fontSize:"0.85rem",fontWeight:600,marginTop:"4px"},summary:{flex:1,minWidth:"300px",background:"#f9fafb",padding:"20px",borderRadius:"10px",height:"fit-content",border:"1px solid #e5e7eb"},summaryTitle:{fontSize:"1.25rem",fontWeight:700,marginBottom:"20px",borderBottom:"1px solid #e5e7eb",paddingBottom:"10px",color:"#1f2937"},summaryRow:{display:"flex",justifyContent:"space-between",marginBottom:"10px",fontSize:"1rem",color:"#4b5563"},totalRow:{fontWeight:700,fontSize:"1.2rem",color:"#1f2937",paddingTop:"15px",marginTop:"15px"},checkoutBtn:t=>({marginTop:"20px",width:"100%",background:t?"#dc2626":"#4f46e5",color:"#fff",padding:"12px",borderRadius:"8px",fontWeight:700,fontSize:"1rem",cursor:t?"not-allowed":"pointer",transition:"background 0.2s"}),errorText:{color:"#dc2626",fontSize:"0.85rem",textAlign:"center",marginTop:"10px"},message:{textAlign:"center",marginTop:"100px",fontSize:"1.2rem",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},shopBtn:{marginTop:"20px",background:"#4f46e5",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:600,fontSize:"1rem",display:"flex",alignItems:"center"}},pP=()=>y.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:y.jsxs("div",{style:{maxWidth:980,margin:"0 auto"},children:[y.jsx("h1",{children:"About Fetop"}),y.jsx("p",{children:"Fetop is a curated clothing brand focused on quality essentials and everyday style. We design and source durable, high-quality garments and accessories at honest prices."}),y.jsx("h3",{children:"Our Mission"}),y.jsx("p",{children:"To make premium basics accessible while keeping ethical production and great customer service at the core of everything we do."}),y.jsx("h3",{children:"Contact & Support"}),y.jsx("p",{children:"For support, please use the Contact page. If you're a retailer or influencer interested in partnering with us, email partnerships@fetop.com (replace with real address later)."})]})}),mP=()=>{const[t,e]=S.useState({name:"",email:"",message:""}),r=o=>e(l=>({...l,[o.target.name]:o.target.value})),s=o=>{o.preventDefault(),alert("Thanks  message sent (demo)."),e({name:"",email:"",message:""})};return y.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:y.jsxs("div",{style:{maxWidth:720,margin:"0 auto"},children:[y.jsx("h1",{children:"Contact Us"}),y.jsx("p",{children:"Have questions? Fill the form and well get back to you within 24-48 hours."}),y.jsxs("form",{onSubmit:s,style:{marginTop:20,display:"grid",gap:12},children:[y.jsx("input",{name:"name",placeholder:"Your name",value:t.name,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),y.jsx("input",{name:"email",type:"email",placeholder:"Your email",value:t.email,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),y.jsx("textarea",{name:"message",placeholder:"Message",value:t.message,onChange:r,required:!0,rows:6,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),y.jsx("button",{type:"submit",style:{padding:"10px 16px",borderRadius:8,cursor:"pointer",background:"#15273f",color:"#fff",border:"none"},children:"Send Message"})]})]})})},st={center:{textAlign:"center",marginTop:"60px",fontSize:"18px",fontFamily:"Arial, sans-serif"},container:{maxWidth:"1200px",margin:"0 auto",padding:"32px"},heading:{fontSize:"28px",fontWeight:"600",marginBottom:"24px",textAlign:"center",color:"#333"},tableWrapper:{overflowX:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"8px"},table:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff"},th:{textAlign:"left",padding:"16px 24px",backgroundColor:"#f7f7f7",fontWeight:"700",color:"#555",borderBottom:"2px solid #ddd",fontSize:"14px",textTransform:"uppercase"},td:{padding:"16px 24px",borderBottom:"1px solid #eee",fontSize:"14px",cursor:"pointer",transition:"background-color 0.2s"},tr:{":hover":{backgroundColor:"#f0f8ff"}},status:t=>{let e,r;switch(t){case"completed":e="#155724",r="#d4edda";break;case"pending":e="#856404",r="#fff3cd";break;case"shipped":case"processing":e="#004085",r="#cce5ff";break;default:e="#383d41",r="#e2e3e5"}return{padding:"4px 8px",borderRadius:"4px",fontWeight:"600",color:e,backgroundColor:r,display:"inline-block",textTransform:"capitalize"}}};function gP(){const{authUser:t}=pn(),[e,r]=S.useState([]),[s,o]=S.useState(!0),[l,u]=S.useState(""),d=Cn();S.useEffect(()=>{t&&h()},[t]);async function h(){o(!0),u("");try{const{data:p,error:m}=await le.from("orders").select(`
          id,
          total_amount,
          status,
          created_at,
          addresses:address_id(
            city,
            country
          )
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(m)throw m;r(p||[])}catch(p){console.error("Error fetching orders:",p),u(p.message||"Failed to fetch orders.")}finally{o(!1)}}return t?s?y.jsx("p",{style:st.center,children:" Loading your orders..."}):l?y.jsxs("p",{style:{...st.center,color:"red"},children:[" ",l]}):e.length===0?y.jsx("p",{style:st.center,children:"No orders placed yet."}):y.jsxs("div",{style:st.container,children:[y.jsx("h2",{style:st.heading,children:"My Orders"}),y.jsx("div",{style:st.tableWrapper,children:y.jsxs("table",{style:st.table,children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{style:{...st.th,width:"15%"},children:"Order ID"}),y.jsx("th",{style:{...st.th,width:"20%"},children:"Date"}),y.jsx("th",{style:{...st.th,width:"20%"},children:"Status"}),y.jsx("th",{style:{...st.th,width:"25%",textAlign:"right"},children:"Total"}),y.jsx("th",{style:{...st.th,width:"20%"},children:"Shipping To"})]})}),y.jsx("tbody",{children:e.map(p=>y.jsxs("tr",{onClick:()=>d(`/orders/${p.id}`),children:[y.jsxs("td",{style:st.td,children:[p.id.slice(0,8),"..."]}),y.jsx("td",{style:st.td,children:new Date(p.created_at).toLocaleDateString()}),y.jsx("td",{style:st.td,children:y.jsx("span",{style:st.status(p.status),children:p.status})}),y.jsxs("td",{style:{...st.td,fontWeight:"600",textAlign:"right"},children:["Ksh ",Number(p.total_amount).toLocaleString()]}),y.jsx("td",{style:st.td,children:p.addresses?`${p.addresses.city}, ${p.addresses.country}`:"-"})]},p.id))})]})})]}):y.jsx("p",{style:st.center,children:"Please log in to view your orders."})}const yP=t=>{switch(t){case"completed":return"text-green-600 font-semibold";case"pending":return"text-yellow-600 font-semibold";case"shipped":case"processing":return"text-blue-600 font-semibold";default:return"text-gray-600"}};function vP(){const{orderId:t}=gy(),[e,r]=S.useState(null),[s,o]=S.useState(!0),[l,u]=S.useState("");S.useEffect(()=>{t&&d()},[t]);async function d(){o(!0),u("");try{const{data:v,error:w}=await le.from("orders").select(`
          id,
          created_at,
          total_amount,
          status,
          users:user_id(full_name, email),
          addresses:address_id(address_line_1, address_line_2, city, state, country),
          order_items(
            quantity,
            price, 
            subtotal,
            products:product_id(name, sku) // Only fetch name and sku, current price is redundant here
          )
        `).eq("id",t).single();if(w)throw w;r(v)}catch(v){console.error("Order detail fetch failed:",v),u(v.message||"Failed to fetch order details.")}finally{o(!1)}}if(s)return y.jsx("p",{className:"text-center mt-16 text-lg",children:" Loading order details..."});if(l)return y.jsxs("p",{className:"text-center mt-16 text-lg text-red-600",children:[" ",l]});if(!e)return y.jsx("p",{className:"text-center mt-16 text-lg",children:"Order not found."});const{users:h,addresses:p,order_items:m}=e;return y.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-xl my-10",children:[y.jsxs("h1",{className:"text-3xl font-bold mb-6 text-gray-800 border-b pb-2",children:["Order #",e.id.slice(0,8),"..."]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[y.jsxs(Ac,{title:"Order Info",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Date:"})," ",new Date(e.created_at).toLocaleDateString()]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," ",y.jsx("span",{className:yP(e.status),children:e.status})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Total:"})," Ksh"," ",y.jsx("span",{className:"font-bold",children:Number(e.total_amount).toLocaleString()})]})]}),y.jsxs(Ac,{title:"Shipping Address",children:[y.jsx("p",{children:p?.address_line_1}),p?.address_line_2&&y.jsx("p",{children:p.address_line_2}),y.jsxs("p",{children:[p?.city,", ",p?.state&&p.state+","," ",p?.country]})]}),y.jsxs(Ac,{title:"Customer",children:[y.jsx("p",{children:h?.full_name}),y.jsx("p",{className:"text-sm text-gray-500",children:h?.email})]})]}),y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Order Items"}),y.jsx("div",{className:"overflow-x-auto shadow rounded-lg",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/Unit"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtotal"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((v,w)=>y.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.products?.name||"Product Not Found"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.products?.sku||"N/A"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:v.quantity}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:["Ksh ",Number(v.price).toFixed(2)]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-700 text-right",children:["Ksh ",Number(v.subtotal).toFixed(2)]})]},w))})]})})]})}const Ac=({title:t,children:e})=>y.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-200 rounded-lg shadow-sm",children:[y.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800 border-b pb-2",children:t}),y.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:e})]}),wP=()=>y.jsxs("main",{style:{padding:"120px 20px",textAlign:"center"},children:[y.jsx("h1",{children:"404  Page Not Found"}),y.jsx("p",{children:"The page you're looking for doesn't exist. Try going back home."}),y.jsx("div",{style:{marginTop:20},children:y.jsx(at,{to:"/",style:{padding:"10px 14px",background:"#ff8c00",color:"#fff",borderRadius:8,textDecoration:"none"},children:"Go to Home"})})]}),xP=(()=>y.jsx("div",{className:"container",style:{height:"23vh"}})),_P="_footer_1f9wv_35",SP="_container_1f9wv_53",bP="_brand_1f9wv_73",kP="_logo_1f9wv_87",EP="_links_1f9wv_131",TP="_bottom_1f9wv_197",CP="_socials_1f9wv_223",Dr={footer:_P,container:SP,brand:bP,logo:kP,links:EP,bottom:TP,socials:CP};function jP(){return y.jsxs("footer",{className:Dr.footer,children:[y.jsxs("div",{className:Dr.container,children:[y.jsxs("div",{className:Dr.brand,children:[y.jsx("img",{src:"/src/customer/assets/fetop_logo.png",alt:"Fetop Logo",className:Dr.logo}),y.jsxs("div",{children:[y.jsx("h2",{children:"Fetop"}),y.jsx("p",{children:"Quality essentials  Everyday style"})]})]}),y.jsxs("div",{className:Dr.links,children:[y.jsxs("div",{children:[y.jsx("h4",{children:"Shop"}),y.jsx("a",{href:"/shop",children:"All Products"}),y.jsx("a",{href:"/shop?category=men",children:"Men"}),y.jsx("a",{href:"/shop?category=women",children:"Women"})]}),y.jsxs("div",{children:[y.jsx("h4",{children:"Company"}),y.jsx("a",{href:"/about",children:"About"}),y.jsx("a",{href:"/contact",children:"Contact"}),y.jsx("a",{href:"/careers",children:"Careers"})]}),y.jsxs("div",{children:[y.jsx("h4",{children:"Legal"}),y.jsx("a",{href:"/terms",children:"Terms"}),y.jsx("a",{href:"/policy",children:"Privacy"})]})]})]}),y.jsxs("div",{className:Dr.bottom,children:[y.jsxs("p",{children:[" ",new Date().getFullYear()," Fetop. All rights reserved."]}),y.jsxs("div",{className:Dr.socials,children:[y.jsx("a",{href:"#","aria-label":"Facebook",children:y.jsx("i",{className:"fa-brands fa-facebook"})}),y.jsx("a",{href:"#","aria-label":"Instagram",children:y.jsx("i",{className:"fa-brands fa-instagram"})}),y.jsx("a",{href:"#","aria-label":"Twitter",children:y.jsx("i",{className:"fa-brands fa-x-twitter"})})]})]})]})}const PP=S.createContext(),RP=({children:t})=>{const[e,r]=S.useState(()=>{const o=localStorage.getItem("fetop_orders");return o?JSON.parse(o):[]});S.useEffect(()=>{localStorage.setItem("fetop_orders",JSON.stringify(e))},[e]);const s=o=>{const l={id:`ORD-${Date.now()}`,items:o,date:new Date().toLocaleString()};r(u=>[...u,l])};return y.jsx(PP.Provider,{value:{orders:e,addOrder:s},children:t})};function AP(){const{id:t}=gy(),e=Cn(),{addToCart:r}=rl(),{authUser:s}=pn(),[o,l]=S.useState(null),[u,d]=S.useState([]),[h,p]=S.useState(""),[m,v]=S.useState(!1),w=S.useRef(null),[_,k]=S.useState(1),[b,T]=S.useState(!1),[C,P]=S.useState(!1),[R,B]=S.useState(""),[D,$]=S.useState(!1),[q,W]=S.useState(!1),[M,ne]=S.useState([]),[ce,we]=S.useState(null),[xe,Pe]=S.useState(!0),[Ye,Me]=S.useState([]),[he,K]=S.useState(6),[re,J]=S.useState(!1),[O,F]=S.useState(!1),[pe,me]=S.useState(!1),[ge,ve]=S.useState(0),[ke,_e]=S.useState(""),[Re,mt]=S.useState(!1),Tt=S.useRef(!0);S.useEffect(()=>(Tt.current=!0,(async()=>await oo())(),()=>{Tt.current=!1}),[t,he,s]);async function oo(){Pe(!0);try{const{data:G,error:Ee}=await le.from("products").select("*, categories(name)").eq("id",t).single();if(Ee)throw Ee;if(!Tt.current)return;l(G);const dt=Array.isArray(G?.images)?G.images:[];d(dt),p(dt[0]||Oc);const{data:nt,error:mn}=await le.from("reviews").select("id, rating, comment, created_at, users(full_name)").eq("product_id",t).order("created_at",{ascending:!1}).limit(50);if(mn)throw mn;if(!Tt.current)return;if(ne(nt||[]),nt&&nt.length>0){const Ct=nt.reduce((Xe,zt)=>Xe+Number(zt.rating||0),0)/nt.length;we(Number(Ct.toFixed(2)))}else we(null);if(G?.category_id){const{data:Ct,error:Xe}=await le.from("products").select("id, name, price, discount_percent, images, stock_quantity").eq("category_id",G.category_id).neq("id",t).eq("is_active",!0).limit(he);if(Xe)throw Xe;if(!Tt.current)return;Me(Ct||[])}else Me([]);if(s){const{data:Ct,error:Xe}=await le.from("wishlist").select("id").eq("user_id",s.id).eq("product_id",t).maybeSingle();!Xe&&Tt.current&&$(!!Ct?.id)}else $(!1);if(s){const{data:Ct,error:Xe}=await le.from("orders").select("id, order_items(product_id)").eq("user_id",s.id).eq("status","completed").limit(200);if(!Xe&&Tt.current){const yr=(Ct||[]).some(vr=>(vr.order_items||[]).some(ll=>String(ll.product_id)===String(t)));J(!!yr)}else J(!1);const{data:zt,error:uo}=await le.from("reviews").select("id").eq("product_id",t).eq("user_id",s.id).limit(1).maybeSingle();!uo&&Tt.current?F(!!zt?.id):F(!1)}else J(!1),F(!1)}catch(G){console.error("ProductDetail load error:",G)}finally{Tt.current&&Pe(!1)}}S.useEffect(()=>{if(!m||!w.current)return;const G=w.current;function Ee(dt){const nt=G.getBoundingClientRect(),mn=(dt.clientX-nt.left)/nt.width,Ct=(dt.clientY-nt.top)/nt.height,Xe=Math.max(0,Math.min(100,mn*100)),zt=Math.max(0,Math.min(100,Ct*100));G.style.transformOrigin=`${Xe}% ${zt}%`}return window.addEventListener("mousemove",Ee),()=>window.removeEventListener("mousemove",Ee)},[m]);async function Kr(){if(o){if(o.stock_quantity<=0){Qe("Out of stock");return}if(!(_<1)){T(!0);try{const{data:G,error:Ee}=await le.from("products").select("stock_quantity").eq("id",o.id).single();if(Ee)throw Ee;if(!G||G.stock_quantity<_){Qe("Not enough stock"),T(!1);return}try{await r(o,_)}catch{try{await r(o)}catch(nt){throw console.error("addToCart fallback failed",nt),nt}}Qe("Added to cart")}catch(G){console.error("Add to cart error:",G),Qe(G?.message||"Could not add to cart")}finally{T(!1)}}}}async function qi(){if(!s){Qe("Please log in to use wishlist");return}W(!0);try{if(D){if(!window.confirm("Remove from wishlist?")){W(!1);return}const{error:Ee}=await le.from("wishlist").delete().eq("user_id",s.id).eq("product_id",t);if(Ee)throw Ee;$(!1),Qe("Removed from wishlist")}else{const{error:G}=await le.from("wishlist").insert([{user_id:s.id,product_id:t}]);if(G)throw G;$(!0),Qe("Added to wishlist")}}catch(G){console.error("Wishlist toggle failed",G),Qe("Wishlist error")}finally{W(!1)}}async function ao(G){if(G?.preventDefault(),!s){Qe("Login to post review");return}if(!re){Qe("You can only review products you've purchased");return}if(O){Qe("You already reviewed this product");return}if(!ge||ge<1){Qe("Please select a rating");return}if(!ke.trim()){Qe("Please write a short comment");return}mt(!0);try{const{data:Ee,error:dt}=await le.from("reviews").insert([{user_id:s.id,product_id:t,rating:ge,comment:ke.trim()}]).select("id, rating, comment, created_at, users(full_name)").maybeSingle();if(dt)throw dt;const nt=Ee||{id:`local-${Date.now()}`,rating:ge,comment:ke.trim(),created_at:new Date().toISOString(),users:{full_name:s.full_name||"You"}};ne(Xe=>[nt,...Xe]);const mn=[nt.rating,...M.map(Xe=>Number(Xe.rating||0))],Ct=mn.reduce((Xe,zt)=>Xe+Number(zt),0)/mn.length;we(Number(Ct.toFixed(2))),F(!0),me(!1),ve(0),_e(""),Qe("Review submitted  thanks!")}catch(Ee){console.error("Review submit error",Ee),Qe("Failed to submit review")}finally{mt(!1)}}function Qe(G){B(G),P(!0),setTimeout(()=>{P(!1)},1800)}function mr(G){return G==null?"-":Number(G).toLocaleString()}function lo(G="C"){return(G||"C").split(" ").map(Ee=>Ee[0]).join("").slice(0,2).toUpperCase()}if(!o)return y.jsxs("div",{style:Q.container,children:[y.jsx("div",{style:Q.skelHeader}),y.jsxs("div",{style:Q.skelGrid,children:[y.jsx("div",{style:Q.skelImage}),y.jsx("div",{style:Q.skelDetails})]})]});const Gr=h||(u.length>0?u[0]:Oc),gr=o.discount_percent>0?Number(o.price)-Number(o.price)*Number(o.discount_percent)/100:Number(o.price);return y.jsxs("div",{style:Q.container,children:[y.jsxs("nav",{style:Q.breadcrumb,children:[y.jsx(at,{to:"/",children:"Home"}),y.jsx("span",{style:Q.breadcrumbSep,children:"/"}),y.jsx(at,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"All")}`,children:o.categories?.name||"All"}),y.jsx("span",{style:Q.breadcrumbSep,children:"/"}),y.jsx("span",{style:Q.breadcrumbCurrent,children:o.name})]}),y.jsxs("div",{style:Q.grid,children:[y.jsxs("section",{style:Q.gallery,children:[y.jsx("div",{style:Q.mainImageWrap,children:y.jsx(Mn.img,{ref:w,src:Gr,alt:o.name,loading:"lazy",onClick:()=>v(G=>!G),initial:{opacity:.98},animate:{scale:m?1.6:1,transition:{duration:.28}},style:{...Q.mainImage,cursor:m?"zoom-out":"zoom-in"}})}),y.jsxs("div",{style:Q.thumbs,children:[u.length===0&&y.jsx("div",{style:Q.thumbEmpty,children:"No images"}),u.map((G,Ee)=>y.jsx("img",{src:G,alt:`thumb-${Ee}`,loading:"lazy",onClick:()=>{p(G),v(!1),window.scrollTo({top:120,behavior:"smooth"})},style:{...Q.thumb,border:G===Gr?"2px solid #111":"1px solid #ddd"}},Ee))]})]}),y.jsxs("aside",{style:Q.details,children:[y.jsx("h1",{style:Q.title,children:o.name}),y.jsxs("div",{style:Q.metaRow,children:[y.jsxs("div",{style:Q.priceWrap,children:[y.jsxs("div",{style:Q.price,children:["Ksh ",mr(gr)]}),o.discount_percent>0&&y.jsxs("div",{style:Q.oldPrice,children:["Ksh ",mr(o.price)]})]}),y.jsx("div",{style:Q.rating,children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("div",{style:{display:"flex",gap:4},children:Array.from({length:5}).map((G,Ee)=>y.jsx(ic,{size:14,color:Ee<Math.round(ce||0)?"#FFD700":"#ddd"},Ee))}),y.jsx("div",{style:Q.ratingText,children:ce?`${ce.toFixed(1)} / 5`:"No reviews"})]})})]}),y.jsxs("p",{style:Q.categoryLine,children:["Category:"," ",y.jsx(at,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"")}`,style:{color:"#111",textDecoration:"underline"},children:o.categories?.name||"Uncategorized"})]}),y.jsx("p",{style:Q.desc,children:o.description}),y.jsxs("div",{style:Q.stockRow,children:[o.stock_quantity>0?y.jsxs("span",{style:Q.inStock,children:[o.stock_quantity," in stock"]}):y.jsx("span",{style:Q.outStock,children:"Out of stock"}),y.jsxs("div",{style:Q.qtyBox,children:[y.jsx("button",{onClick:()=>k(G=>Math.max(1,G-1)),style:Q.qtyBtn,children:""}),y.jsx("div",{style:Q.qtyVal,children:_}),y.jsx("button",{onClick:()=>k(G=>Math.min(G+1,o.stock_quantity||G+1)),style:Q.qtyBtn,children:"+"})]})]}),y.jsxs("div",{style:Q.actions,children:[y.jsx(Mn.button,{whileTap:{scale:.97},whileHover:{scale:1.02},onClick:Kr,disabled:b||o.stock_quantity<=0,style:{...Q.addBtn,opacity:o.stock_quantity<=0?.6:1,background:b?"#16a34a":"#111"},children:b?"Adding":"Add to cart"}),y.jsxs("button",{onClick:qi,style:Q.wishBtn,disabled:q,children:[D?y.jsx(D_,{color:"#e11"}):y.jsx(M_,{color:"#444"})," ",y.jsx("span",{style:{marginLeft:8},children:D?"Wishlisted":"Add to wishlist"})]})]}),y.jsxs("div",{style:Q.infoGrid,children:[y.jsxs("div",{style:Q.infoCard,children:[y.jsx("strong",{children:"Delivery"}),y.jsx("p",{style:Q.small,children:"Free within Nairobi. Standard outside Nairobi."})]}),y.jsxs("div",{style:Q.infoCard,children:[y.jsx("strong",{children:"Returns"}),y.jsx("p",{style:Q.small,children:"7-day return on unworn items."})]}),y.jsxs("div",{style:Q.infoCard,children:[y.jsx("strong",{children:"Payment"}),y.jsx("p",{style:Q.small,children:"COD, Card & mobile payments supported."})]})]}),y.jsx("div",{style:{marginTop:12},children:re&&!O?y.jsx("button",{onClick:()=>me(!0),style:Q.reviewOpenBtn,children:"Write a verified review"}):O?y.jsx("div",{style:{color:"#444",fontSize:13},children:"Thanks for reviewing this product."}):y.jsx("div",{style:{color:"#666",fontSize:13},children:"Only verified buyers can leave reviews."})})]})]}),y.jsxs("div",{style:Q.bottomRow,children:[y.jsxs("section",{style:Q.reviews,children:[y.jsxs("div",{style:Q.reviewsHeader,children:[y.jsx("h3",{style:{margin:0},children:"Customer reviews"}),y.jsxs("div",{style:{color:"#666"},children:[M.length," reviews"]})]}),xe?y.jsx("div",{style:{color:"#666"},children:"Loading reviews"}):M.length===0?y.jsx("div",{style:{color:"#666"},children:"No reviews yet."}):M.slice(0,3).map(G=>y.jsxs("div",{style:Q.reviewItem,children:[y.jsxs("div",{style:Q.reviewMeta,children:[y.jsx("div",{style:Q.avatar,children:lo(G.users?.full_name||"C")}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:700},children:G.users?.full_name||"Customer"}),y.jsx("div",{style:{fontSize:12,color:"#888"},children:new Date(G.created_at).toLocaleDateString()})]}),y.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:4},children:Array.from({length:5}).map((Ee,dt)=>y.jsx(ic,{size:14,color:dt<G.rating?"#FFD700":"#ddd"},dt))})]}),y.jsx("p",{style:{marginTop:8},children:G.comment})]},G.id)),M.length>3&&y.jsx("button",{onClick:()=>alert("Load more reviews - future feature"),style:Q.loadMoreReviews,children:"Load more reviews"})]}),y.jsxs("aside",{style:Q.related,children:[y.jsx("h3",{style:{marginTop:0},children:"Related products"}),y.jsx("div",{style:Q.carouselWrap,children:y.jsx("div",{style:Q.carousel,children:Ye.map(G=>{const Ee=Array.isArray(G.images)&&G.images.length?G.images[0]:Oc,dt=G.discount_percent>0?Number(G.price)-Number(G.price)*Number(G.discount_percent)/100:Number(G.price);return y.jsxs("article",{style:Q.relatedCard,children:[y.jsx("img",{src:Ee,alt:G.name,loading:"lazy",style:Q.relatedImg}),y.jsxs("div",{style:Q.relatedBody,children:[y.jsx("div",{style:{fontWeight:700},children:G.name}),y.jsxs("div",{style:{color:"#1f6feb",fontWeight:700},children:["Ksh ",mr(dt)]}),y.jsxs("div",{style:{display:"flex",gap:6,marginTop:6},children:[y.jsx("button",{onClick:()=>e(`/product/${G.id}`),style:Q.relatedBtn,children:"View"}),y.jsx("button",{onClick:async()=>{try{await r(G,1),Qe("Added to cart")}catch{await r(G),Qe("Added to cart")}},style:Q.cartBtn,children:"Add"})]})]})]},G.id)})})}),Ye.length>=he&&y.jsx("button",{onClick:()=>K(G=>G+6),style:Q.loadMore,children:"Load more related"})]})]}),y.jsx($s,{children:pe&&y.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:Q.modalBackdrop,children:y.jsxs(Mn.div,{initial:{y:24},animate:{y:0},exit:{y:24},style:Q.modal,children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsx("h3",{style:{margin:0},children:"Write a verified review"}),y.jsx("button",{onClick:()=>me(!1),style:Q.modalClose,children:y.jsx(Ty,{})})]}),y.jsxs("div",{style:{marginTop:12},children:[y.jsx("div",{style:{display:"flex",gap:8},children:[1,2,3,4,5].map(G=>y.jsx(ic,{size:26,color:G<=ge?"#FFD700":"#ddd",style:{cursor:"pointer"},onClick:()=>ve(G)},G))}),y.jsx("textarea",{value:ke,onChange:G=>_e(G.target.value),placeholder:"Share your experience...",style:Q.modalTextarea}),y.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[y.jsx("button",{onClick:ao,disabled:Re,style:Q.submitReviewBtn,children:Re?"Posting":"Post review"}),y.jsx("button",{onClick:()=>{ve(0),_e("")},style:Q.cancelReviewBtn,children:"Clear"})]})]})]})})}),y.jsx($s,{children:C&&y.jsx(Mn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},style:Q.toast,children:R})})]})}const Oc="https://via.placeholder.com/900x700?text=No+Image",Q={container:{padding:"20px 5%",maxWidth:1200,margin:"auto",fontFamily:"Inter, system-ui, -apple-system, 'Segoe UI', Roboto",background:"#fafafa",minHeight:"100vh"},breadcrumb:{display:"flex",gap:8,alignItems:"center",marginBottom:12,fontSize:14},breadcrumbSep:{color:"#bbb"},breadcrumbCurrent:{color:"#111",fontWeight:700},grid:{display:"flex",gap:24,alignItems:"flex-start",flexWrap:"wrap"},gallery:{flex:"1 1 420px",maxWidth:720},mainImageWrap:{width:"100%",borderRadius:12,overflow:"hidden",background:"#fff",boxShadow:"0 6px 18px rgba(0,0,0,0.06)"},mainImage:{width:"100%",height:480,objectFit:"cover",display:"block",transition:"transform 0.28s ease"},thumbs:{display:"flex",gap:8,marginTop:12,flexWrap:"wrap",alignItems:"center"},thumb:{width:64,height:64,objectFit:"cover",borderRadius:8,cursor:"pointer"},thumbEmpty:{color:"#666",padding:10},details:{flex:"1 1 360px",maxWidth:520,background:"#fff",padding:18,borderRadius:12,boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},title:{fontSize:22,margin:0},metaRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:8},priceWrap:{display:"flex",gap:12,alignItems:"center"},price:{fontSize:20,fontWeight:800,color:"#111"},oldPrice:{textDecoration:"line-through",color:"#888",fontSize:14},rating:{},ratingText:{color:"#444"},categoryLine:{color:"#666",marginTop:6,marginBottom:6},desc:{color:"#333",marginTop:12,lineHeight:1.6},stockRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:14},inStock:{color:"#16a34a",fontWeight:700},outStock:{color:"#dc2626",fontWeight:700},qtyBox:{display:"flex",alignItems:"center",gap:8},qtyBtn:{background:"#f3f4f6",border:"none",padding:"6px 10px",borderRadius:8,cursor:"pointer"},qtyVal:{minWidth:30,textAlign:"center",fontWeight:700},actions:{display:"flex",gap:12,marginTop:16},addBtn:{padding:"10px 18px",borderRadius:10,border:"none",color:"#fff",cursor:"pointer",fontWeight:700,background:"#111"},wishBtn:{padding:"8px 12px",borderRadius:10,border:"1px solid #eee",background:"#fff",cursor:"pointer",display:"inline-flex",alignItems:"center"},infoGrid:{display:"flex",gap:12,marginTop:18,flexWrap:"wrap"},infoCard:{background:"#f8fafc",padding:12,borderRadius:10,minWidth:160},small:{color:"#555",fontSize:13},reviewOpenBtn:{marginTop:6,padding:"8px 12px",background:"#111",color:"#fff",border:"none",borderRadius:8,cursor:"pointer"},bottomRow:{display:"flex",gap:18,marginTop:28,flexWrap:"wrap"},reviews:{flex:"1 1 520px",background:"#fff",padding:14,borderRadius:12,boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},reviewsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},reviewItem:{borderTop:"1px solid #f1f1f1",paddingTop:12,marginTop:12},reviewMeta:{display:"flex",gap:10,alignItems:"center"},avatar:{width:40,height:40,borderRadius:999,background:"#1f2937",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},loadMoreReviews:{marginTop:10,padding:"8px 10px",borderRadius:8,border:"none",background:"#111",color:"#fff",cursor:"pointer"},related:{flex:"0 1 340px"},carouselWrap:{overflowX:"auto",padding:"8px 2px"},carousel:{display:"flex",gap:12,alignItems:"stretch"},relatedCard:{minWidth:220,background:"#fff",borderRadius:10,padding:8,boxShadow:"0 6px 18px rgba(0,0,0,0.03)",display:"flex",gap:8,alignItems:"center"},relatedImg:{width:86,height:66,objectFit:"cover",borderRadius:8},relatedBody:{display:"flex",flexDirection:"column",gap:6},relatedBtn:{padding:"6px 8px",borderRadius:8,border:"none",background:"#111",color:"#fff",cursor:"pointer"},cartBtn:{padding:"6px 8px",borderRadius:8,border:"1px solid #ddd",background:"#fff",cursor:"pointer"},loadMore:{marginTop:12,padding:"8px 12px",borderRadius:8,background:"#111",color:"#fff",border:"none",cursor:"pointer"},modalBackdrop:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},modal:{width:"min(800px, 94%)",background:"#fff",borderRadius:12,padding:18,boxShadow:"0 8px 32px rgba(0,0,0,0.18)"},modalClose:{background:"transparent",border:"none",cursor:"pointer",fontSize:18},modalTextarea:{width:"100%",minHeight:100,marginTop:12,padding:10,borderRadius:8,border:"1px solid #ddd"},submitReviewBtn:{padding:"8px 12px",background:"#111",color:"#fff",borderRadius:8,border:"none",cursor:"pointer"},cancelReviewBtn:{padding:"8px 12px",background:"#fff",border:"1px solid #ddd",borderRadius:8,cursor:"pointer"},toast:{position:"fixed",right:20,bottom:22,background:"#111",color:"#fff",padding:"10px 14px",borderRadius:10,zIndex:9999},skelHeader:{height:16,width:"40%",background:"#eee",marginBottom:12,borderRadius:8},skelGrid:{display:"flex",gap:18},skelImage:{width:520,height:420,background:"#eee",borderRadius:12},skelDetails:{flex:1,minWidth:360,background:"#fff",borderRadius:12,padding:12}};if(typeof document<"u"&&!document.getElementById("pd-responsive-styles")){const t=document.createElement("style");t.id="pd-responsive-styles",t.innerHTML=`
    @media (max-width: 980px) {
      img[loading="lazy"] { max-width: 100%; height: auto; }
      /* stack the grid */
      .pd-grid { flex-direction: column; }
    }
    @media (max-width: 720px) {
      body { font-size: 15px; }
    }
  `,document.head.appendChild(t)}const Ic={from:t=>({select:(e,r)=>({eq:async(s,o)=>t==="orders"&&r?.count==="exact"?{count:7,error:null}:{data:null,error:null},maybeSingle:async()=>t==="profiles"?{data:{full_name:"Mock User",phone:"555-123-4567",address:"123 Mock Street, React City"},error:null}:{data:null,error:null}}),upsert:async(e,r)=>(console.log("Mock Supabase UPSERT called with data:",e),{error:null})})},OP=()=>({authUser:{id:"user-abc-123-mock",email:"mock.user@example.com"}}),IP=()=>({totalItems:3}),iy=({to:t,className:e,children:r})=>y.jsx("a",{href:"#",className:e,onClick:s=>{s.preventDefault(),console.log(`Navigating to ${t}`)},children:r});function LP(){const{authUser:t}=OP(),{totalItems:e}=IP(),[r,s]=S.useState({full_name:"",phone:"",address:""}),[o,l]=S.useState(0),[u,d]=S.useState(!0),[h,p]=S.useState(!1),[m,v]=S.useState({show:!1,text:"",type:""});S.useEffect(()=>{async function _(){if(t){d(!0);try{const{data:k,error:b}=await Ic.from("profiles").select("full_name, phone, address").eq("id",t.id).maybeSingle();if(b)throw b;k&&s(k);const{count:T,error:C}=await Ic.from("orders").select("*",{count:"exact",head:!0}).eq("user_id",t.id);if(C)throw C;l(T||0)}catch(k){console.error("Profile load failed:",k)}finally{d(!1)}}}_()},[t]);const w=async()=>{if(t){p(!0),v({show:!1,text:"",type:""});try{const{error:_}=await Ic.from("profiles").upsert({id:t.id,full_name:r.full_name,phone:r.phone,address:r.address,updated_at:new Date},{onConflict:"id"});if(_)throw _;v({show:!0,text:"Profile updated successfully!",type:"success"}),console.log("Profile updated successfully!")}catch(_){console.error("Update failed:",_),v({show:!0,text:"Error updating profile.",type:"error"})}finally{p(!1),setTimeout(()=>v({show:!1,text:"",type:""}),3e3)}}};return t?u?y.jsx("div",{className:"flex justify-center items-center h-[60vh] text-gray-500",children:"Loading profile..."}):y.jsxs(y.Fragment,{children:[y.jsx("style",{children:`
        body {
          background-color: #f4f7f9; /* Light, soft background for the whole page */
          font-family: 'Inter', sans-serif; /* Ensuring Inter font is used */
        }
        /* Simple scrollbar styling for better aesthetics */
        ::-webkit-scrollbar {
          width: 8px;
        }
        ::-webkit-scrollbar-thumb {
          background-color: #a0aec0; /* Gray-400 equivalent */
          border-radius: 10px;
        }
        ::-webkit-scrollbar-track {
          background: #edf2f7; /* Gray-100 equivalent */
        }
      `}),y.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-10 mt-6 bg-white shadow-2xl rounded-2xl border border-gray-100",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"My Profile"}),m.show&&y.jsx("div",{className:`p-4 mb-6 rounded-xl text-center font-medium ${m.type==="success"?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:m.text}),y.jsx("div",{className:"text-center mb-8",children:y.jsxs("p",{className:"text-sm text-gray-500",children:["User ID:"," ",y.jsx("span",{className:"font-mono text-xs bg-gray-100 p-1 rounded-md text-gray-700 break-all",children:t.id})]})}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),y.jsx("input",{type:"text",value:r.full_name||"",onChange:_=>s({...r,full_name:_.target.value}),placeholder:"Enter your full name",className:"w-full rounded-xl border border-gray-300 px-4 py-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition shadow-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Phone"}),y.jsx("input",{type:"text",value:r.phone||"",onChange:_=>s({...r,phone:_.target.value}),placeholder:"Enter phone number",className:"w-full rounded-xl border border-gray-300 px-4 py-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition shadow-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Address"}),y.jsx("textarea",{rows:"3",value:r.address||"",onChange:_=>s({...r,address:_.target.value}),placeholder:"Shipping address",className:"w-full rounded-xl border border-gray-300 px-4 py-2.5 text-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition resize-none shadow-sm"})]}),y.jsx("button",{onClick:w,disabled:h,className:"w-full px-6 py-2.5 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition disabled:opacity-50 shadow-lg flex items-center justify-center",children:h?y.jsxs("span",{className:"flex items-center",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]}),y.jsx("hr",{className:"my-10 border-gray-200"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"p-6 rounded-2xl bg-indigo-50 border border-indigo-100 text-center shadow-md transition transform hover:scale-[1.02] duration-300",children:[y.jsx("h3",{className:"text-indigo-600 text-sm mb-2 font-semibold",children:"Orders Placed (Mock)"}),y.jsx("p",{className:"text-3xl font-bold text-indigo-900",children:o})]}),y.jsxs("div",{className:"p-6 rounded-2xl bg-teal-50 border border-teal-100 text-center shadow-md transition transform hover:scale-[1.02] duration-300",children:[y.jsx("h3",{className:"text-teal-600 text-sm mb-2 font-semibold",children:"Cart Items (Mock)"}),y.jsx("p",{className:"text-3xl font-bold text-teal-900",children:e})]})]}),y.jsx("div",{className:"text-center mt-10",children:y.jsxs(iy,{to:"/orders",className:"text-indigo-600 text-base font-medium hover:underline flex items-center justify-center",children:["View Order History",y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-gray-700",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Youre not logged in"}),y.jsx(iy,{to:"/login",className:"px-6 py-2 bg-black text-white rounded-full hover:bg-gray-800 transition",children:"Go to Login"})]})}function DP(){const{login:t,authUser:e}=pn(),r=Cn(),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState("");S.useEffect(()=>{e&&r("/")},[e,r]);const p=async m=>{m.preventDefault(),h("");try{await t(s,l)}catch(v){h(v.message||"Login failed")}};return y.jsx("div",{style:_n.page,children:y.jsxs("div",{style:_n.container,children:[y.jsx("h2",{style:_n.title,children:"Login"}),d&&y.jsx("p",{style:_n.error,children:d}),y.jsxs("form",{style:_n.form,onSubmit:p,children:[y.jsx("input",{type:"email",placeholder:"Email address",value:s,onChange:m=>o(m.target.value),required:!0,style:_n.input}),y.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:m=>u(m.target.value),required:!0,style:_n.input}),y.jsx("button",{type:"submit",style:_n.button,children:"Login"})]}),y.jsxs("p",{style:_n.switchText,children:["Dont have an account?"," ",y.jsx("span",{style:_n.switchLink,onClick:()=>r("/register"),children:"Register"})]})]})})}const _n={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"25px",color:"#2563eb",fontSize:"28px",fontWeight:"700"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 15px",fontSize:"16px",backgroundColor:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},error:{color:"red",marginBottom:"15px",fontSize:"14px"},switchText:{marginTop:"20px",fontSize:"14px",color:"#555"},switchLink:{color:"#007bff",cursor:"pointer",fontWeight:"600"}};function NP(){const{signup:t,authUser:e}=pn(),r=Cn(),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(""),[p,m]=S.useState("");S.useEffect(()=>{e&&r("/")},[e,r]);const v=async w=>{w.preventDefault(),m("");try{await t(l,d,s)}catch(_){m(_.message||"Registration failed")}};return y.jsx("div",{style:ln.page,children:y.jsxs("div",{style:ln.container,children:[y.jsx("h2",{style:ln.title,children:"Create Account"}),p&&y.jsx("p",{style:ln.error,children:p}),y.jsxs("form",{style:ln.form,onSubmit:v,children:[y.jsx("input",{type:"text",placeholder:"Full name",value:s,onChange:w=>o(w.target.value),required:!0,style:ln.input}),y.jsx("input",{type:"email",placeholder:"Email address",value:l,onChange:w=>u(w.target.value),required:!0,style:ln.input}),y.jsx("input",{type:"password",placeholder:"Password (min 6 chars)",value:d,onChange:w=>h(w.target.value),required:!0,style:ln.input}),y.jsx("button",{type:"submit",style:ln.button,children:"Register"})]}),y.jsxs("p",{style:ln.switchText,children:["Already have an account?"," ",y.jsx("span",{style:ln.switchLink,onClick:()=>r("/login"),children:"Login"})]})]})})}const ln={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"25px",color:"#2563eb",fontSize:"28px",fontWeight:"700"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 15px",fontSize:"16px",backgroundColor:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},error:{color:"red",marginBottom:"15px",fontSize:"14px"},switchText:{marginTop:"20px",fontSize:"14px",color:"#555"},switchLink:{color:"#007bff",cursor:"pointer",fontWeight:"600"}};function MP(){return S.useEffect(()=>{(async()=>{const{data:t,error:e,status:r}=await le.from("products").select("id, name, price, stock_quantity, product_images (id, image_url, is_primary)").eq("is_active",!0).limit(10);console.log("TEST PRODUCTS:",{status:r,data:t,error:e})})()},[]),y.jsx("div",{children:"Check console for TEST PRODUCTS output"})}function $P(){const{authUser:t}=pn(),{cartItems:e,cartId:r,setCartItems:s}=rl(),[o,l]=S.useState([]),[u,d]=S.useState(null),[h,p]=S.useState({address_line_1:"",city:"",country:""}),[m,v]=S.useState("cod"),[w,_]=S.useState(!1);S.useEffect(()=>{if(!t)return;async function D(){try{const{data:$,error:q}=await le.from("addresses").select("*").eq("user_id",t.id);if(q)throw q;if(!$||$.length===0){const{data:W,error:M}=await le.from("addresses").insert({user_id:t.id,address_line_1:"Default Address",city:"City",country:"Country",is_default:!0}).select().single();if(M)throw M;l([W]),d(W)}else{l($);const W=$.find(M=>M.is_default);d(W||$[0])}}catch($){console.error("Address load failed:",$)}}D()},[t]);const k=e.reduce((D,$)=>D+$.product.price*$.quantity,0),b=35,T=k*.1,C=k+b+T,P=async()=>{if(!h.address_line_1||!h.city||!h.country){alert("Please fill in all fields for the new address.");return}try{const{data:D,error:$}=await le.from("addresses").insert({...h,user_id:t.id}).select().single();if($)throw $;l(q=>[...q,D]),d(D),p({address_line_1:"",city:"",country:""})}catch(D){console.error(D),alert("Failed to create address.")}},R=S.useCallback(async()=>{if(r)try{const{error:D}=await le.from("cart_items").delete().eq("cart_id",r);if(D)throw D;s([])}catch(D){console.error("Failed to clear cart:",D)}},[r,s]),B=async()=>{if(!u)return alert("Please select an address.");if(e.length===0)return alert("Cart is empty.");_(!0);try{for(let W of e)if(W.quantity>W.product.stock_quantity)throw new Error(`Insufficient stock for ${W.product.name}`);const{data:D,error:$}=await le.from("orders").insert({user_id:t.id,total_amount:C,address_id:u.id,status:"pending"}).select().single();if($)throw $;const{error:q}=await le.from("order_items").insert(e.map(W=>({order_id:D.id,product_id:W.product.id,quantity:W.quantity,price:W.product.price})));if(q)throw q;await le.from("payments").insert({order_id:D.id,payment_method:m,amount:C,payment_status:m==="cod"?"pending":"completed"}),await le.from("shipping").insert({order_id:D.id,delivery_status:"processing"}),await R(),alert("Order placed successfully!")}catch(D){console.error("Failed to place order:",D),alert(D.message||"Failed to place order")}finally{_(!1)}};return y.jsxs("div",{style:Ge.container,children:[y.jsx("h1",{style:Ge.title,children:"Checkout"}),y.jsxs("section",{style:Ge.section,children:[y.jsx("h2",{style:Ge.sectionTitle,children:"Select or Add Address"}),o.map(D=>y.jsxs("div",{style:{...Ge.addressBox,borderColor:u?.id===D.id?"#4f46e5":"#ccc"},onClick:()=>d(D),children:[y.jsx("p",{children:D.address_line_1}),D.address_line_2&&y.jsx("p",{children:D.address_line_2}),y.jsxs("p",{children:[D.city," ",D.state?", "+D.state:"",", ",D.country]})]},D.id)),y.jsxs("div",{style:Ge.newAddressForm,children:[y.jsx("input",{placeholder:"Address line 1",value:h.address_line_1,onChange:D=>p({...h,address_line_1:D.target.value}),style:Ge.input}),y.jsx("input",{placeholder:"City",value:h.city,onChange:D=>p({...h,city:D.target.value}),style:Ge.input}),y.jsx("input",{placeholder:"Country",value:h.country,onChange:D=>p({...h,country:D.target.value}),style:Ge.input}),y.jsx("button",{onClick:P,style:Ge.button,children:"Add Address"})]})]}),y.jsxs("section",{style:Ge.section,children:[y.jsx("h2",{style:Ge.sectionTitle,children:"Order Summary"}),e.map(D=>y.jsxs("div",{style:Ge.itemRow,children:[y.jsxs("span",{children:[D.product.name," x ",D.quantity]}),y.jsxs("span",{children:["Ksh ",(D.product.price*D.quantity).toLocaleString()]})]},D.id)),y.jsx("hr",{}),y.jsxs("div",{style:Ge.summaryRow,children:[y.jsx("span",{children:"Subtotal:"}),y.jsxs("span",{children:["Ksh ",k.toLocaleString()]})]}),y.jsxs("div",{style:Ge.summaryRow,children:[y.jsx("span",{children:"Shipping:"}),y.jsxs("span",{children:["Ksh ",b]})]}),y.jsxs("div",{style:Ge.summaryRow,children:[y.jsx("span",{children:"Tax (10%):"}),y.jsxs("span",{children:["Ksh ",T.toLocaleString()]})]}),y.jsxs("div",{style:{...Ge.summaryRow,fontWeight:"bold",fontSize:"1.1rem"},children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["Ksh ",C.toLocaleString()]})]})]}),y.jsxs("section",{style:Ge.section,children:[y.jsx("h2",{style:Ge.sectionTitle,children:"Payment Method"}),y.jsxs("select",{value:m,onChange:D=>v(D.target.value),style:Ge.select,children:[y.jsx("option",{value:"cod",children:"Cash on Delivery"}),y.jsx("option",{value:"card",children:"Credit/Debit Card"}),y.jsx("option",{value:"mobile",children:"Mobile Payment"})]})]}),y.jsx("button",{onClick:B,disabled:w||e.length===0,style:Ge.checkoutBtn,children:w?"Placing Order...":"Place Order"})]})}const Ge={container:{maxWidth:"700px",margin:"40px auto",padding:"0 15px",fontFamily:"sans-serif"},title:{textAlign:"center",fontSize:"2rem",fontWeight:"bold",marginBottom:"30px"},section:{marginBottom:"30px"},sectionTitle:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"15px"},addressBox:{padding:"12px",border:"2px solid #ccc",borderRadius:"8px",marginBottom:"10px",cursor:"pointer"},newAddressForm:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px"},input:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc"},button:{padding:"10px",background:"#4f46e5",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer"},itemRow:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},summaryRow:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},select:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc",width:"100%"},checkoutBtn:{width:"100%",padding:"12px",background:"#4f46e5",color:"#fff",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",cursor:"pointer"}},BP=()=>{const{logout:t}=pn(),e=Cn();return S.useEffect(()=>{(async()=>{await t(),e("/",{replace:!0})})()},[t,e]),y.jsx("p",{children:"Logging out..."})};function FP(){const{pathname:t}=fn();return S.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function VP({children:t}){const e=fn(),r=e.pathname==="/",s=["/login","/register","/logout"].includes(e.pathname);return y.jsxs(y.Fragment,{children:[!s&&y.jsx(Jj,{isHome:r}),!s&&y.jsx("hr",{style:{marginTop:0}}),y.jsx("main",{className:"main-content",children:t}),!s&&y.jsxs(y.Fragment,{children:[y.jsx(xP,{}),y.jsx(jP,{})]})]})}function UP(){return y.jsx(fk,{children:y.jsxs(RP,{children:[y.jsx(FP,{}),y.jsx(VP,{children:y.jsxs(K1,{children:[y.jsx(_t,{path:"/",element:y.jsx(aP,{})}),y.jsx(_t,{path:"/shop",element:y.jsx(lP,{})}),y.jsx(_t,{path:"/product/:id",element:y.jsx(AP,{})}),y.jsx(_t,{path:"/cart",element:y.jsx(fP,{})}),y.jsx(_t,{path:"/about",element:y.jsx(pP,{})}),y.jsx(_t,{path:"/contact",element:y.jsx(mP,{})}),y.jsx(_t,{path:"/orders",element:y.jsx(gP,{})}),y.jsx(_t,{path:"/orders/:id",element:y.jsx(vP,{})}),y.jsx(_t,{path:"/login",element:y.jsx(DP,{})}),y.jsx(_t,{path:"/register",element:y.jsx(NP,{})}),y.jsx(_t,{path:"/logout",element:y.jsx(BP,{})}),y.jsx(_t,{path:"/checkout",element:y.jsx($P,{})}),y.jsx(_t,{path:"/testshop",element:y.jsx(MP,{})}),y.jsx(_t,{path:"/profile",element:y.jsx(LP,{})}),y.jsx(_t,{path:"*",element:y.jsx(wP,{})})]})})]})})}r1.createRoot(document.getElementById("root")).render(y.jsx(S.StrictMode,{children:y.jsx(hk,{children:y.jsx(g_,{children:y.jsx(UP,{})})})}));
