function Xx(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function d0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var uc={exports:{}},Ws={},cc={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function ew(){if(Qp)return be;Qp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function C(I,z,we){this.props=I,this.context=z,this.refs=k,this.updater=we||w}C.prototype.isReactComponent={},C.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=C.prototype;function R(I,z,we){this.props=I,this.context=z,this.refs=k,this.updater=we||w}var E=R.prototype=new T;E.constructor=R,_(E,C.prototype),E.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,F={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Y(I,z,we){var ve,_e={},Se=null,Oe=null;if(z!=null)for(ve in z.ref!==void 0&&(Oe=z.ref),z.key!==void 0&&(Se=""+z.key),z)B.call(z,ve)&&!q.hasOwnProperty(ve)&&(_e[ve]=z[ve]);var Pe=arguments.length-2;if(Pe===1)_e.children=we;else if(1<Pe){for(var Le=Array(Pe),xt=0;xt<Pe;xt++)Le[xt]=arguments[xt+2];_e.children=Le}if(I&&I.defaultProps)for(ve in Pe=I.defaultProps,Pe)_e[ve]===void 0&&(_e[ve]=Pe[ve]);return{$$typeof:t,type:I,key:Se,ref:Oe,props:_e,_owner:F.current}}function D(I,z){return{$$typeof:t,type:I.type,key:z,ref:I.ref,props:I.props,_owner:I._owner}}function J(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function ae(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(we){return z[we]})}var xe=/\/+/g;function ye(I,z){return typeof I=="object"&&I!==null&&I.key!=null?ae(""+I.key):z.toString(36)}function Re(I,z,we,ve,_e){var Se=typeof I;(Se==="undefined"||Se==="boolean")&&(I=null);var Oe=!1;if(I===null)Oe=!0;else switch(Se){case"string":case"number":Oe=!0;break;case"object":switch(I.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=I,_e=_e(Oe),I=ve===""?"."+ye(Oe,0):ve,O(_e)?(we="",I!=null&&(we=I.replace(xe,"$&/")+"/"),Re(_e,z,we,"",function(xt){return xt})):_e!=null&&(J(_e)&&(_e=D(_e,we+(!_e.key||Oe&&Oe.key===_e.key?"":(""+_e.key).replace(xe,"$&/")+"/")+I)),z.push(_e)),1;if(Oe=0,ve=ve===""?".":ve+":",O(I))for(var Pe=0;Pe<I.length;Pe++){Se=I[Pe];var Le=ve+ye(Se,Pe);Oe+=Re(Se,z,we,Le,_e)}else if(Le=x(I),typeof Le=="function")for(I=Le.call(I),Pe=0;!(Se=I.next()).done;)Se=Se.value,Le=ve+ye(Se,Pe++),Oe+=Re(Se,z,we,Le,_e);else if(Se==="object")throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Oe}function ke(I,z,we){if(I==null)return I;var ve=[],_e=0;return Re(I,ve,"","",function(Se){return z.call(we,Se,_e++)}),ve}function Be(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(we){(I._status===0||I._status===-1)&&(I._status=1,I._result=we)},function(we){(I._status===0||I._status===-1)&&(I._status=2,I._result=we)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var ge={current:null},G={transition:null},oe={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:G,ReactCurrentOwner:F};function Q(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:ke,forEach:function(I,z,we){ke(I,function(){z.apply(this,arguments)},we)},count:function(I){var z=0;return ke(I,function(){z++}),z},toArray:function(I){return ke(I,function(z){return z})||[]},only:function(I){if(!J(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},be.Component=C,be.Fragment=r,be.Profiler=o,be.PureComponent=R,be.StrictMode=s,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,be.act=Q,be.cloneElement=function(I,z,we){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ve=_({},I.props),_e=I.key,Se=I.ref,Oe=I._owner;if(z!=null){if(z.ref!==void 0&&(Se=z.ref,Oe=F.current),z.key!==void 0&&(_e=""+z.key),I.type&&I.type.defaultProps)var Pe=I.type.defaultProps;for(Le in z)B.call(z,Le)&&!q.hasOwnProperty(Le)&&(ve[Le]=z[Le]===void 0&&Pe!==void 0?Pe[Le]:z[Le])}var Le=arguments.length-2;if(Le===1)ve.children=we;else if(1<Le){Pe=Array(Le);for(var xt=0;xt<Le;xt++)Pe[xt]=arguments[xt+2];ve.children=Pe}return{$$typeof:t,type:I.type,key:_e,ref:Se,props:ve,_owner:Oe}},be.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},be.createElement=Y,be.createFactory=function(I){var z=Y.bind(null,I);return z.type=I,z},be.createRef=function(){return{current:null}},be.forwardRef=function(I){return{$$typeof:d,render:I}},be.isValidElement=J,be.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:Be}},be.memo=function(I,z){return{$$typeof:m,type:I,compare:z===void 0?null:z}},be.startTransition=function(I){var z=G.transition;G.transition={};try{I()}finally{G.transition=z}},be.unstable_act=Q,be.useCallback=function(I,z){return ge.current.useCallback(I,z)},be.useContext=function(I){return ge.current.useContext(I)},be.useDebugValue=function(){},be.useDeferredValue=function(I){return ge.current.useDeferredValue(I)},be.useEffect=function(I,z){return ge.current.useEffect(I,z)},be.useId=function(){return ge.current.useId()},be.useImperativeHandle=function(I,z,we){return ge.current.useImperativeHandle(I,z,we)},be.useInsertionEffect=function(I,z){return ge.current.useInsertionEffect(I,z)},be.useLayoutEffect=function(I,z){return ge.current.useLayoutEffect(I,z)},be.useMemo=function(I,z){return ge.current.useMemo(I,z)},be.useReducer=function(I,z,we){return ge.current.useReducer(I,z,we)},be.useRef=function(I){return ge.current.useRef(I)},be.useState=function(I){return ge.current.useState(I)},be.useSyncExternalStore=function(I,z,we){return ge.current.useSyncExternalStore(I,z,we)},be.useTransition=function(){return ge.current.useTransition()},be.version="18.3.1",be}var Xp;function kd(){return Xp||(Xp=1,cc.exports=ew()),cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function tw(){if(Zp)return Ws;Zp=1;var t=kd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var g,v={},x=null,w=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:x,ref:w,props:v,_owner:o.current}}return Ws.Fragment=r,Ws.jsx=u,Ws.jsxs=u,Ws}var em;function nw(){return em||(em=1,uc.exports=tw()),uc.exports}var h=nw(),S=kd();const Zr=d0(S);var Na={},dc={exports:{}},$t={},hc={exports:{}},fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function rw(){return tm||(tm=1,(function(t){function e(G,oe){var Q=G.length;G.push(oe);e:for(;0<Q;){var I=Q-1>>>1,z=G[I];if(0<o(z,oe))G[I]=oe,G[Q]=z,Q=I;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],Q=G.pop();if(Q!==oe){G[0]=Q;e:for(var I=0,z=G.length,we=z>>>1;I<we;){var ve=2*(I+1)-1,_e=G[ve],Se=ve+1,Oe=G[Se];if(0>o(_e,Q))Se<z&&0>o(Oe,_e)?(G[I]=Oe,G[Se]=Q,I=Se):(G[I]=_e,G[ve]=Q,I=ve);else if(Se<z&&0>o(Oe,Q))G[I]=Oe,G[Se]=Q,I=Se;else break e}}return oe}function o(G,oe){var Q=G.sortIndex-oe.sortIndex;return Q!==0?Q:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,v=null,x=3,w=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var oe=r(m);oe!==null;){if(oe.callback===null)s(m);else if(oe.startTime<=G)s(m),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=r(m)}}function O(G){if(k=!1,E(G),!_)if(r(f)!==null)_=!0,Be(B);else{var oe=r(m);oe!==null&&ge(O,oe.startTime-G)}}function B(G,oe){_=!1,k&&(k=!1,T(Y),Y=-1),w=!0;var Q=x;try{for(E(oe),v=r(f);v!==null&&(!(v.expirationTime>oe)||G&&!ae());){var I=v.callback;if(typeof I=="function"){v.callback=null,x=v.priorityLevel;var z=I(v.expirationTime<=oe);oe=t.unstable_now(),typeof z=="function"?v.callback=z:v===r(f)&&s(f),E(oe)}else s(f);v=r(f)}if(v!==null)var we=!0;else{var ve=r(m);ve!==null&&ge(O,ve.startTime-oe),we=!1}return we}finally{v=null,x=Q,w=!1}}var F=!1,q=null,Y=-1,D=5,J=-1;function ae(){return!(t.unstable_now()-J<D)}function xe(){if(q!==null){var G=t.unstable_now();J=G;var oe=!0;try{oe=q(!0,G)}finally{oe?ye():(F=!1,q=null)}}else F=!1}var ye;if(typeof R=="function")ye=function(){R(xe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ke=Re.port2;Re.port1.onmessage=xe,ye=function(){ke.postMessage(null)}}else ye=function(){C(xe,0)};function Be(G){q=G,F||(F=!0,ye())}function ge(G,oe){Y=C(function(){G(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,Be(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var Q=x;x=oe;try{return G()}finally{x=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=x;x=G;try{return oe()}finally{x=Q}},t.unstable_scheduleCallback=function(G,oe,Q){var I=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,G={id:g++,callback:oe,priorityLevel:G,startTime:Q,expirationTime:z,sortIndex:-1},Q>I?(G.sortIndex=Q,e(m,G),r(f)===null&&G===r(m)&&(k?(T(Y),Y=-1):k=!0,ge(O,Q-I))):(G.sortIndex=z,e(f,G),_||w||(_=!0,Be(B))),G},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(G){var oe=x;return function(){var Q=x;x=oe;try{return G.apply(this,arguments)}finally{x=Q}}}})(fc)),fc}var nm;function iw(){return nm||(nm=1,hc.exports=rw()),hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function sw(){if(rm)return $t;rm=1;var t=kd(),e=iw();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(n){return f.call(v,n)?!0:f.call(g,n)?!1:m.test(n)?v[n]=!0:(g[n]=!0,!1)}function w(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _(n,i,a,c){if(i===null||typeof i>"u"||w(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(n,i,a,c,p,y,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=y,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new k(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,R);C[i]=new k(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,R);C[i]=new k(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,R);C[i]=new k(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function E(n,i,a,c){var p=C.hasOwnProperty(i)?C[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,a,p,c)&&(a=null),c||p===null?x(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):p.mustUseProperty?n[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,c=p.attributeNamespace,a===null?n.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),F=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ae=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),G=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=G&&n[G]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Object.assign,I;function z(n){if(I===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+n}var we=!1;function ve(n,i){if(!n||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var c=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){c=N}n.call(i.prototype)}else{try{throw Error()}catch(N){c=N}n()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var p=N.stack.split(`
`),y=c.stack.split(`
`),b=p.length-1,j=y.length-1;1<=b&&0<=j&&p[b]!==y[j];)j--;for(;1<=b&&0<=j;b--,j--)if(p[b]!==y[j]){if(b!==1||j!==1)do if(b--,j--,0>j||p[b]!==y[j]){var P=`
`+p[b].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=b&&0<=j);break}}}finally{we=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?z(n):""}function _e(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function Se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case F:return"Portal";case D:return"Profiler";case Y:return"StrictMode";case ye:return"Suspense";case Re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case J:return(n._context.displayName||"Context")+".Provider";case xe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ke:return i=n.displayName||null,i!==null?i:Se(n.type)||"Memo";case Be:i=n._payload,n=n._init;try{return Se(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(i);case 8:return i===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Pe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xt(n){var i=Le(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,y.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ni(n){n._valueTracker||(n._valueTracker=xt(n))}function Gn(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Le(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function an(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ri(n,i){var a=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Sn(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Pe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function rs(n,i){i=i.checked,i!=null&&E(n,"checked",i,!1)}function jr(n,i){rs(n,i);var a=Pe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ii(n,i.type,a):i.hasOwnProperty("defaultValue")&&ii(n,i.type,Pe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function is(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ii(n,i,a){(i!=="number"||an(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Yn=Array.isArray;function In(n,i,a,c){if(n=n.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=i.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function si(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Gt(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(r(92));if(Yn(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Pe(a)}}function oi(n,i){var a=Pe(i.value),c=Pe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function jo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Eo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jn(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Eo(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ai,To=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,p){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,p)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ai.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Er(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ss=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(n){ss.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),We[i]=We[n]})});function Po(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||We.hasOwnProperty(n)&&We[n]?(""+i).trim():i+"px"}function li(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,p=Po(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,p):n[a]=p}}var El=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(n,i){if(i){if(El[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ci(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function as(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ls=null,Qn=null,V=null;function de(n){if(n=Ps(n)){if(typeof ls!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Xo(i),ls(n.stateNode,n.type,i))}}function He(n){Qn?V?V.push(n):V=[n]:Qn=n}function et(){if(Qn){var n=Qn,i=V;if(V=Qn=null,de(n),i)for(n=0;n<i.length;n++)de(i[n])}}function Ln(n,i){return n(i)}function wt(){}var It=!1;function Xn(n,i,a){if(It)return n(i,a);It=!0;try{return Ln(n,i,a)}finally{It=!1,(Qn!==null||V!==null)&&(wt(),et())}}function Tr(n,i){var a=n.stateNode;if(a===null)return null;var c=Xo(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var us=!1;if(d)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){us=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{us=!1}function i1(n,i,a,c,p,y,b,j,P){var N=Array.prototype.slice.call(arguments,3);try{i.apply(a,N)}catch(W){this.onError(W)}}var cs=!1,Ro=null,Ao=!1,Tl=null,s1={onError:function(n){cs=!0,Ro=n}};function o1(n,i,a,c,p,y,b,j,P){cs=!1,Ro=null,i1.apply(s1,arguments)}function a1(n,i,a,c,p,y,b,j,P){if(o1.apply(this,arguments),cs){if(cs){var N=Ro;cs=!1,Ro=null}else throw Error(r(198));Ao||(Ao=!0,Tl=N)}}function Rr(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function xh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function wh(n){if(Rr(n)!==n)throw Error(r(188))}function l1(n){var i=n.alternate;if(!i){if(i=Rr(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,c=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return wh(p),n;if(y===c)return wh(p),i;y=y.sibling}throw Error(r(188))}if(a.return!==c.return)a=p,c=y;else{for(var b=!1,j=p.child;j;){if(j===a){b=!0,a=p,c=y;break}if(j===c){b=!0,c=p,a=y;break}j=j.sibling}if(!b){for(j=y.child;j;){if(j===a){b=!0,a=y,c=p;break}if(j===c){b=!0,c=y,a=p;break}j=j.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function bh(n){return n=l1(n),n!==null?Sh(n):null}function Sh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Sh(n);if(i!==null)return i;n=n.sibling}return null}var _h=e.unstable_scheduleCallback,kh=e.unstable_cancelCallback,u1=e.unstable_shouldYield,c1=e.unstable_requestPaint,tt=e.unstable_now,d1=e.unstable_getCurrentPriorityLevel,Pl=e.unstable_ImmediatePriority,Ch=e.unstable_UserBlockingPriority,Oo=e.unstable_NormalPriority,h1=e.unstable_LowPriority,jh=e.unstable_IdlePriority,Io=null,_n=null;function f1(n){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Io,n,void 0,(n.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:g1,p1=Math.log,m1=Math.LN2;function g1(n){return n>>>=0,n===0?32:31-(p1(n)/m1|0)|0}var Lo=64,Do=4194304;function ds(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Mo(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,p=n.suspendedLanes,y=n.pingedLanes,b=a&268435455;if(b!==0){var j=b&~p;j!==0?c=ds(j):(y&=b,y!==0&&(c=ds(y)))}else b=a&~p,b!==0?c=ds(b):y!==0&&(c=ds(y));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-ln(i),p=1<<a,c|=n[a],i&=~p;return c}function y1(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v1(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes;0<y;){var b=31-ln(y),j=1<<b,P=p[b];P===-1?((j&a)===0||(j&c)!==0)&&(p[b]=y1(j,i)):P<=i&&(n.expiredLanes|=j),y&=~j}}function Rl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Eh(){var n=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),n}function Al(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function hs(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-ln(i),n[i]=a}function x1(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var p=31-ln(a),y=1<<p;i[p]=0,c[p]=-1,n[p]=-1,a&=~y}}function Ol(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-ln(a),p=1<<c;p&i|n[c]&i&&(n[c]|=i),a&=~p}}var Ie=0;function Th(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ph,Il,Rh,Ah,Oh,Ll=!1,No=[],Zn=null,er=null,tr=null,fs=new Map,ps=new Map,nr=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(n,i){switch(n){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":fs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(i.pointerId)}}function ms(n,i,a,c,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Ps(i),i!==null&&Il(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function b1(n,i,a,c,p){switch(i){case"focusin":return Zn=ms(Zn,n,i,a,c,p),!0;case"dragenter":return er=ms(er,n,i,a,c,p),!0;case"mouseover":return tr=ms(tr,n,i,a,c,p),!0;case"pointerover":var y=p.pointerId;return fs.set(y,ms(fs.get(y)||null,n,i,a,c,p)),!0;case"gotpointercapture":return y=p.pointerId,ps.set(y,ms(ps.get(y)||null,n,i,a,c,p)),!0}return!1}function Lh(n){var i=Ar(n.target);if(i!==null){var a=Rr(i);if(a!==null){if(i=a.tag,i===13){if(i=xh(a),i!==null){n.blockedOn=i,Oh(n.priority,function(){Rh(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bo(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ml(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);os=c,a.target.dispatchEvent(c),os=null}else return i=Ps(a),i!==null&&Il(i),n.blockedOn=a,!1;i.shift()}return!0}function Dh(n,i,a){Bo(n)&&a.delete(i)}function S1(){Ll=!1,Zn!==null&&Bo(Zn)&&(Zn=null),er!==null&&Bo(er)&&(er=null),tr!==null&&Bo(tr)&&(tr=null),fs.forEach(Dh),ps.forEach(Dh)}function gs(n,i){n.blockedOn===i&&(n.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S1)))}function ys(n){function i(p){return gs(p,n)}if(0<No.length){gs(No[0],n);for(var a=1;a<No.length;a++){var c=No[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Zn!==null&&gs(Zn,n),er!==null&&gs(er,n),tr!==null&&gs(tr,n),fs.forEach(i),ps.forEach(i),a=0;a<nr.length;a++)c=nr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)Lh(a),a.blockedOn===null&&nr.shift()}var di=O.ReactCurrentBatchConfig,$o=!0;function _1(n,i,a,c){var p=Ie,y=di.transition;di.transition=null;try{Ie=1,Dl(n,i,a,c)}finally{Ie=p,di.transition=y}}function k1(n,i,a,c){var p=Ie,y=di.transition;di.transition=null;try{Ie=4,Dl(n,i,a,c)}finally{Ie=p,di.transition=y}}function Dl(n,i,a,c){if($o){var p=Ml(n,i,a,c);if(p===null)Zl(n,i,c,Fo,a),Ih(n,c);else if(b1(p,n,i,a,c))c.stopPropagation();else if(Ih(n,c),i&4&&-1<w1.indexOf(n)){for(;p!==null;){var y=Ps(p);if(y!==null&&Ph(y),y=Ml(n,i,a,c),y===null&&Zl(n,i,c,Fo,a),y===p)break;p=y}p!==null&&c.stopPropagation()}else Zl(n,i,c,null,a)}}var Fo=null;function Ml(n,i,a,c){if(Fo=null,n=as(c),n=Ar(n),n!==null)if(i=Rr(n),i===null)n=null;else if(a=i.tag,a===13){if(n=xh(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Fo=n,null}function Mh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d1()){case Pl:return 1;case Ch:return 4;case Oo:case h1:return 16;case jh:return 536870912;default:return 16}default:return 16}}var rr=null,Nl=null,zo=null;function Nh(){if(zo)return zo;var n,i=Nl,a=i.length,c,p="value"in rr?rr.value:rr.textContent,y=p.length;for(n=0;n<a&&i[n]===p[n];n++);var b=a-n;for(c=1;c<=b&&i[a-c]===p[y-c];c++);return zo=p.slice(n,1<c?1-c:void 0)}function Vo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Uo(){return!0}function Bh(){return!1}function Vt(n){function i(a,c,p,y,b){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(a=n[j],this[j]=a?a(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Uo:Bh,this.isPropagationStopped=Bh,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),i}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Vt(hi),vs=Q({},hi,{view:0,detail:0}),C1=Vt(vs),$l,Fl,xs,Wo=Q({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xs&&(xs&&n.type==="mousemove"?($l=n.screenX-xs.screenX,Fl=n.screenY-xs.screenY):Fl=$l=0,xs=n),$l)},movementY:function(n){return"movementY"in n?n.movementY:Fl}}),$h=Vt(Wo),j1=Q({},Wo,{dataTransfer:0}),E1=Vt(j1),T1=Q({},vs,{relatedTarget:0}),zl=Vt(T1),P1=Q({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),R1=Vt(P1),A1=Q({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),O1=Vt(A1),I1=Q({},hi,{data:0}),Fh=Vt(I1),L1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=M1[n])?!!i[n]:!1}function Vl(){return N1}var B1=Q({},vs,{key:function(n){if(n.key){var i=L1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Vo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?D1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(n){return n.type==="keypress"?Vo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$1=Vt(B1),F1=Q({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Vt(F1),z1=Q({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),V1=Vt(z1),U1=Q({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W1=Vt(U1),H1=Q({},Wo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=Vt(H1),K1=[9,13,27,32],Ul=d&&"CompositionEvent"in window,ws=null;d&&"documentMode"in document&&(ws=document.documentMode);var G1=d&&"TextEvent"in window&&!ws,Vh=d&&(!Ul||ws&&8<ws&&11>=ws),Uh=" ",Wh=!1;function Hh(n,i){switch(n){case"keyup":return K1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fi=!1;function Y1(n,i){switch(n){case"compositionend":return qh(i);case"keypress":return i.which!==32?null:(Wh=!0,Uh);case"textInput":return n=i.data,n===Uh&&Wh?null:n;default:return null}}function J1(n,i){if(fi)return n==="compositionend"||!Ul&&Hh(n,i)?(n=Nh(),zo=Nl=rr=null,fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vh&&i.locale!=="ko"?null:i.data;default:return null}}var Q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Q1[n.type]:i==="textarea"}function Gh(n,i,a,c){He(c),i=Yo(i,"onChange"),0<i.length&&(a=new Bl("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var bs=null,Ss=null;function X1(n){ff(n,0)}function Ho(n){var i=vi(n);if(Gn(i))return n}function Z1(n,i){if(n==="change")return i}var Yh=!1;if(d){var Wl;if(d){var Hl="oninput"in document;if(!Hl){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Hl=typeof Jh.oninput=="function"}Wl=Hl}else Wl=!1;Yh=Wl&&(!document.documentMode||9<document.documentMode)}function Qh(){bs&&(bs.detachEvent("onpropertychange",Xh),Ss=bs=null)}function Xh(n){if(n.propertyName==="value"&&Ho(Ss)){var i=[];Gh(i,Ss,n,as(n)),Xn(X1,i)}}function ex(n,i,a){n==="focusin"?(Qh(),bs=i,Ss=a,bs.attachEvent("onpropertychange",Xh)):n==="focusout"&&Qh()}function tx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ho(Ss)}function nx(n,i){if(n==="click")return Ho(i)}function rx(n,i){if(n==="input"||n==="change")return Ho(i)}function ix(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var un=typeof Object.is=="function"?Object.is:ix;function _s(n,i){if(un(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!f.call(i,p)||!un(n[p],i[p]))return!1}return!0}function Zh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ef(n,i){var a=Zh(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zh(a)}}function tf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?tf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function nf(){for(var n=window,i=an();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=an(n.document)}return i}function ql(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function sx(n){var i=nf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&tf(a.ownerDocument.documentElement,a)){if(c!==null&&ql(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var p=a.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!n.extend&&y>c&&(p=c,c=y,y=p),p=ef(a,y);var b=ef(a,c);p&&b&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),n.removeAllRanges(),y>c?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ox=d&&"documentMode"in document&&11>=document.documentMode,pi=null,Kl=null,ks=null,Gl=!1;function rf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gl||pi==null||pi!==an(c)||(c=pi,"selectionStart"in c&&ql(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ks&&_s(ks,c)||(ks=c,c=Yo(Kl,"onSelect"),0<c.length&&(i=new Bl("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=pi)))}function qo(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var mi={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Yl={},sf={};d&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ko(n){if(Yl[n])return Yl[n];if(!mi[n])return n;var i=mi[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in sf)return Yl[n]=i[a];return n}var of=Ko("animationend"),af=Ko("animationiteration"),lf=Ko("animationstart"),uf=Ko("transitionend"),cf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(n,i){cf.set(n,i),l(i,[n])}for(var Jl=0;Jl<df.length;Jl++){var Ql=df[Jl],ax=Ql.toLowerCase(),lx=Ql[0].toUpperCase()+Ql.slice(1);ir(ax,"on"+lx)}ir(of,"onAnimationEnd"),ir(af,"onAnimationIteration"),ir(lf,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(uf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function hf(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,a1(c,i,void 0,n),n.currentTarget=null}function ff(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],p=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var b=c.length-1;0<=b;b--){var j=c[b],P=j.instance,N=j.currentTarget;if(j=j.listener,P!==y&&p.isPropagationStopped())break e;hf(p,j,N),y=P}else for(b=0;b<c.length;b++){if(j=c[b],P=j.instance,N=j.currentTarget,j=j.listener,P!==y&&p.isPropagationStopped())break e;hf(p,j,N),y=P}}}if(Ao)throw n=Tl,Ao=!1,Tl=null,n}function $e(n,i){var a=i[su];a===void 0&&(a=i[su]=new Set);var c=n+"__bubble";a.has(c)||(pf(i,n,2,!1),a.add(c))}function Xl(n,i,a){var c=0;i&&(c|=4),pf(a,n,c,i)}var Go="_reactListening"+Math.random().toString(36).slice(2);function js(n){if(!n[Go]){n[Go]=!0,s.forEach(function(a){a!=="selectionchange"&&(ux.has(a)||Xl(a,!1,n),Xl(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Go]||(i[Go]=!0,Xl("selectionchange",!1,i))}}function pf(n,i,a,c){switch(Mh(i)){case 1:var p=_1;break;case 4:p=k1;break;default:p=Dl}a=p.bind(null,i,a,n),p=void 0,!us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(i,a,{capture:!0,passive:p}):n.addEventListener(i,a,!0):p!==void 0?n.addEventListener(i,a,{passive:p}):n.addEventListener(i,a,!1)}function Zl(n,i,a,c,p){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var j=c.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;b=b.return}for(;j!==null;){if(b=Ar(j),b===null)return;if(P=b.tag,P===5||P===6){c=y=b;continue e}j=j.parentNode}}c=c.return}Xn(function(){var N=y,W=as(a),H=[];e:{var U=cf.get(n);if(U!==void 0){var X=Bl,ee=n;switch(n){case"keypress":if(Vo(a)===0)break e;case"keydown":case"keyup":X=$1;break;case"focusin":ee="focus",X=zl;break;case"focusout":ee="blur",X=zl;break;case"beforeblur":case"afterblur":X=zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=E1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=V1;break;case of:case af:case lf:X=R1;break;case uf:X=W1;break;case"scroll":X=C1;break;case"wheel":X=q1;break;case"copy":case"cut":case"paste":X=O1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=zh}var ne=(i&4)!==0,nt=!ne&&n==="scroll",L=ne?U!==null?U+"Capture":null:U;ne=[];for(var A=N,M;A!==null;){M=A;var K=M.stateNode;if(M.tag===5&&K!==null&&(M=K,L!==null&&(K=Tr(A,L),K!=null&&ne.push(Es(A,K,M)))),nt)break;A=A.return}0<ne.length&&(U=new X(U,ee,null,a,W),H.push({event:U,listeners:ne}))}}if((i&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",U&&a!==os&&(ee=a.relatedTarget||a.fromElement)&&(Ar(ee)||ee[Dn]))break e;if((X||U)&&(U=W.window===W?W:(U=W.ownerDocument)?U.defaultView||U.parentWindow:window,X?(ee=a.relatedTarget||a.toElement,X=N,ee=ee?Ar(ee):null,ee!==null&&(nt=Rr(ee),ee!==nt||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(X=null,ee=N),X!==ee)){if(ne=$h,K="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ne=zh,K="onPointerLeave",L="onPointerEnter",A="pointer"),nt=X==null?U:vi(X),M=ee==null?U:vi(ee),U=new ne(K,A+"leave",X,a,W),U.target=nt,U.relatedTarget=M,K=null,Ar(W)===N&&(ne=new ne(L,A+"enter",ee,a,W),ne.target=M,ne.relatedTarget=nt,K=ne),nt=K,X&&ee)t:{for(ne=X,L=ee,A=0,M=ne;M;M=gi(M))A++;for(M=0,K=L;K;K=gi(K))M++;for(;0<A-M;)ne=gi(ne),A--;for(;0<M-A;)L=gi(L),M--;for(;A--;){if(ne===L||L!==null&&ne===L.alternate)break t;ne=gi(ne),L=gi(L)}ne=null}else ne=null;X!==null&&mf(H,U,X,ne,!1),ee!==null&&nt!==null&&mf(H,nt,ee,ne,!0)}}e:{if(U=N?vi(N):window,X=U.nodeName&&U.nodeName.toLowerCase(),X==="select"||X==="input"&&U.type==="file")var re=Z1;else if(Kh(U))if(Yh)re=rx;else{re=tx;var ue=ex}else(X=U.nodeName)&&X.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(re=nx);if(re&&(re=re(n,N))){Gh(H,re,a,W);break e}ue&&ue(n,U,N),n==="focusout"&&(ue=U._wrapperState)&&ue.controlled&&U.type==="number"&&ii(U,"number",U.value)}switch(ue=N?vi(N):window,n){case"focusin":(Kh(ue)||ue.contentEditable==="true")&&(pi=ue,Kl=N,ks=null);break;case"focusout":ks=Kl=pi=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,rf(H,a,W);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":rf(H,a,W)}var ce;if(Ul)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else fi?Hh(n,a)&&(me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(Vh&&a.locale!=="ko"&&(fi||me!=="onCompositionStart"?me==="onCompositionEnd"&&fi&&(ce=Nh()):(rr=W,Nl="value"in rr?rr.value:rr.textContent,fi=!0)),ue=Yo(N,me),0<ue.length&&(me=new Fh(me,n,null,a,W),H.push({event:me,listeners:ue}),ce?me.data=ce:(ce=qh(a),ce!==null&&(me.data=ce)))),(ce=G1?Y1(n,a):J1(n,a))&&(N=Yo(N,"onBeforeInput"),0<N.length&&(W=new Fh("onBeforeInput","beforeinput",null,a,W),H.push({event:W,listeners:N}),W.data=ce))}ff(H,i)})}function Es(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yo(n,i){for(var a=i+"Capture",c=[];n!==null;){var p=n,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Tr(n,a),y!=null&&c.unshift(Es(n,y,p)),y=Tr(n,i),y!=null&&c.push(Es(n,y,p))),n=n.return}return c}function gi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function mf(n,i,a,c,p){for(var y=i._reactName,b=[];a!==null&&a!==c;){var j=a,P=j.alternate,N=j.stateNode;if(P!==null&&P===c)break;j.tag===5&&N!==null&&(j=N,p?(P=Tr(a,y),P!=null&&b.unshift(Es(a,P,j))):p||(P=Tr(a,y),P!=null&&b.push(Es(a,P,j)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var cx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function gf(n){return(typeof n=="string"?n:""+n).replace(cx,`
`).replace(dx,"")}function Jo(n,i,a){if(i=gf(i),gf(n)!==i&&a)throw Error(r(425))}function Qo(){}var eu=null,tu=null;function nu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(n){return yf.resolve(null).then(n).catch(px)}:ru;function px(n){setTimeout(function(){throw n})}function iu(n,i){var a=i,c=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(c===0){n.removeChild(p),ys(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=p}while(a);ys(i)}function sr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function vf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var yi=Math.random().toString(36).slice(2),kn="__reactFiber$"+yi,Ts="__reactProps$"+yi,Dn="__reactContainer$"+yi,su="__reactEvents$"+yi,mx="__reactListeners$"+yi,gx="__reactHandles$"+yi;function Ar(n){var i=n[kn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Dn]||a[kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=vf(n);n!==null;){if(a=n[kn])return a;n=vf(n)}return i}n=a,a=n.parentNode}return null}function Ps(n){return n=n[kn]||n[Dn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Xo(n){return n[Ts]||null}var ou=[],xi=-1;function or(n){return{current:n}}function Fe(n){0>xi||(n.current=ou[xi],ou[xi]=null,xi--)}function Me(n,i){xi++,ou[xi]=n.current,n.current=i}var ar={},bt=or(ar),Lt=or(!1),Or=ar;function wi(n,i){var a=n.type.contextTypes;if(!a)return ar;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=p),p}function Dt(n){return n=n.childContextTypes,n!=null}function Zo(){Fe(Lt),Fe(bt)}function xf(n,i,a){if(bt.current!==ar)throw Error(r(168));Me(bt,i),Me(Lt,a)}function wf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(r(108,Oe(n)||"Unknown",p));return Q({},a,c)}function ea(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ar,Or=bt.current,Me(bt,n),Me(Lt,Lt.current),!0}function bf(n,i,a){var c=n.stateNode;if(!c)throw Error(r(169));a?(n=wf(n,i,Or),c.__reactInternalMemoizedMergedChildContext=n,Fe(Lt),Fe(bt),Me(bt,n)):Fe(Lt),Me(Lt,a)}var Mn=null,ta=!1,au=!1;function Sf(n){Mn===null?Mn=[n]:Mn.push(n)}function yx(n){ta=!0,Sf(n)}function lr(){if(!au&&Mn!==null){au=!0;var n=0,i=Ie;try{var a=Mn;for(Ie=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Mn=null,ta=!1}catch(p){throw Mn!==null&&(Mn=Mn.slice(n+1)),_h(Pl,lr),p}finally{Ie=i,au=!1}}return null}var bi=[],Si=0,na=null,ra=0,Yt=[],Jt=0,Ir=null,Nn=1,Bn="";function Lr(n,i){bi[Si++]=ra,bi[Si++]=na,na=n,ra=i}function _f(n,i,a){Yt[Jt++]=Nn,Yt[Jt++]=Bn,Yt[Jt++]=Ir,Ir=n;var c=Nn;n=Bn;var p=32-ln(c)-1;c&=~(1<<p),a+=1;var y=32-ln(i)+p;if(30<y){var b=p-p%5;y=(c&(1<<b)-1).toString(32),c>>=b,p-=b,Nn=1<<32-ln(i)+p|a<<p|c,Bn=y+n}else Nn=1<<y|a<<p|c,Bn=n}function lu(n){n.return!==null&&(Lr(n,1),_f(n,1,0))}function uu(n){for(;n===na;)na=bi[--Si],bi[Si]=null,ra=bi[--Si],bi[Si]=null;for(;n===Ir;)Ir=Yt[--Jt],Yt[Jt]=null,Bn=Yt[--Jt],Yt[Jt]=null,Nn=Yt[--Jt],Yt[Jt]=null}var Ut=null,Wt=null,Ve=!1,cn=null;function kf(n,i){var a=en(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Cf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ut=n,Wt=sr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ut=n,Wt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ir!==null?{id:Nn,overflow:Bn}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=en(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,Ut=n,Wt=null,!0):!1;default:return!1}}function cu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function du(n){if(Ve){var i=Wt;if(i){var a=i;if(!Cf(n,i)){if(cu(n))throw Error(r(418));i=sr(a.nextSibling);var c=Ut;i&&Cf(n,i)?kf(c,a):(n.flags=n.flags&-4097|2,Ve=!1,Ut=n)}}else{if(cu(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ve=!1,Ut=n}}}function jf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ut=n}function ia(n){if(n!==Ut)return!1;if(!Ve)return jf(n),Ve=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!nu(n.type,n.memoizedProps)),i&&(i=Wt)){if(cu(n))throw Ef(),Error(r(418));for(;i;)kf(n,i),i=sr(i.nextSibling)}if(jf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){Wt=sr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}Wt=null}}else Wt=Ut?sr(n.stateNode.nextSibling):null;return!0}function Ef(){for(var n=Wt;n;)n=sr(n.nextSibling)}function _i(){Wt=Ut=null,Ve=!1}function hu(n){cn===null?cn=[n]:cn.push(n)}var vx=O.ReactCurrentBatchConfig;function Rs(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,n));var p=c,y=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(b){var j=p.refs;b===null?delete j[y]:j[y]=b},i._stringRef=y,i)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function sa(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Tf(n){var i=n._init;return i(n._payload)}function Pf(n){function i(L,A){if(n){var M=L.deletions;M===null?(L.deletions=[A],L.flags|=16):M.push(A)}}function a(L,A){if(!n)return null;for(;A!==null;)i(L,A),A=A.sibling;return null}function c(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function p(L,A){return L=gr(L,A),L.index=0,L.sibling=null,L}function y(L,A,M){return L.index=M,n?(M=L.alternate,M!==null?(M=M.index,M<A?(L.flags|=2,A):M):(L.flags|=2,A)):(L.flags|=1048576,A)}function b(L){return n&&L.alternate===null&&(L.flags|=2),L}function j(L,A,M,K){return A===null||A.tag!==6?(A=rc(M,L.mode,K),A.return=L,A):(A=p(A,M),A.return=L,A)}function P(L,A,M,K){var re=M.type;return re===q?W(L,A,M.props.children,K,M.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Be&&Tf(re)===A.type)?(K=p(A,M.props),K.ref=Rs(L,A,M),K.return=L,K):(K=Pa(M.type,M.key,M.props,null,L.mode,K),K.ref=Rs(L,A,M),K.return=L,K)}function N(L,A,M,K){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=ic(M,L.mode,K),A.return=L,A):(A=p(A,M.children||[]),A.return=L,A)}function W(L,A,M,K,re){return A===null||A.tag!==7?(A=Vr(M,L.mode,K,re),A.return=L,A):(A=p(A,M),A.return=L,A)}function H(L,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=rc(""+A,L.mode,M),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case B:return M=Pa(A.type,A.key,A.props,null,L.mode,M),M.ref=Rs(L,null,A),M.return=L,M;case F:return A=ic(A,L.mode,M),A.return=L,A;case Be:var K=A._init;return H(L,K(A._payload),M)}if(Yn(A)||oe(A))return A=Vr(A,L.mode,M,null),A.return=L,A;sa(L,A)}return null}function U(L,A,M,K){var re=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return re!==null?null:j(L,A,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return M.key===re?P(L,A,M,K):null;case F:return M.key===re?N(L,A,M,K):null;case Be:return re=M._init,U(L,A,re(M._payload),K)}if(Yn(M)||oe(M))return re!==null?null:W(L,A,M,K,null);sa(L,M)}return null}function X(L,A,M,K,re){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(M)||null,j(A,L,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return L=L.get(K.key===null?M:K.key)||null,P(A,L,K,re);case F:return L=L.get(K.key===null?M:K.key)||null,N(A,L,K,re);case Be:var ue=K._init;return X(L,A,M,ue(K._payload),re)}if(Yn(K)||oe(K))return L=L.get(M)||null,W(A,L,K,re,null);sa(A,K)}return null}function ee(L,A,M,K){for(var re=null,ue=null,ce=A,me=A=0,mt=null;ce!==null&&me<M.length;me++){ce.index>me?(mt=ce,ce=null):mt=ce.sibling;var Ee=U(L,ce,M[me],K);if(Ee===null){ce===null&&(ce=mt);break}n&&ce&&Ee.alternate===null&&i(L,ce),A=y(Ee,A,me),ue===null?re=Ee:ue.sibling=Ee,ue=Ee,ce=mt}if(me===M.length)return a(L,ce),Ve&&Lr(L,me),re;if(ce===null){for(;me<M.length;me++)ce=H(L,M[me],K),ce!==null&&(A=y(ce,A,me),ue===null?re=ce:ue.sibling=ce,ue=ce);return Ve&&Lr(L,me),re}for(ce=c(L,ce);me<M.length;me++)mt=X(ce,L,me,M[me],K),mt!==null&&(n&&mt.alternate!==null&&ce.delete(mt.key===null?me:mt.key),A=y(mt,A,me),ue===null?re=mt:ue.sibling=mt,ue=mt);return n&&ce.forEach(function(yr){return i(L,yr)}),Ve&&Lr(L,me),re}function ne(L,A,M,K){var re=oe(M);if(typeof re!="function")throw Error(r(150));if(M=re.call(M),M==null)throw Error(r(151));for(var ue=re=null,ce=A,me=A=0,mt=null,Ee=M.next();ce!==null&&!Ee.done;me++,Ee=M.next()){ce.index>me?(mt=ce,ce=null):mt=ce.sibling;var yr=U(L,ce,Ee.value,K);if(yr===null){ce===null&&(ce=mt);break}n&&ce&&yr.alternate===null&&i(L,ce),A=y(yr,A,me),ue===null?re=yr:ue.sibling=yr,ue=yr,ce=mt}if(Ee.done)return a(L,ce),Ve&&Lr(L,me),re;if(ce===null){for(;!Ee.done;me++,Ee=M.next())Ee=H(L,Ee.value,K),Ee!==null&&(A=y(Ee,A,me),ue===null?re=Ee:ue.sibling=Ee,ue=Ee);return Ve&&Lr(L,me),re}for(ce=c(L,ce);!Ee.done;me++,Ee=M.next())Ee=X(ce,L,me,Ee.value,K),Ee!==null&&(n&&Ee.alternate!==null&&ce.delete(Ee.key===null?me:Ee.key),A=y(Ee,A,me),ue===null?re=Ee:ue.sibling=Ee,ue=Ee);return n&&ce.forEach(function(Qx){return i(L,Qx)}),Ve&&Lr(L,me),re}function nt(L,A,M,K){if(typeof M=="object"&&M!==null&&M.type===q&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case B:e:{for(var re=M.key,ue=A;ue!==null;){if(ue.key===re){if(re=M.type,re===q){if(ue.tag===7){a(L,ue.sibling),A=p(ue,M.props.children),A.return=L,L=A;break e}}else if(ue.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Be&&Tf(re)===ue.type){a(L,ue.sibling),A=p(ue,M.props),A.ref=Rs(L,ue,M),A.return=L,L=A;break e}a(L,ue);break}else i(L,ue);ue=ue.sibling}M.type===q?(A=Vr(M.props.children,L.mode,K,M.key),A.return=L,L=A):(K=Pa(M.type,M.key,M.props,null,L.mode,K),K.ref=Rs(L,A,M),K.return=L,L=K)}return b(L);case F:e:{for(ue=M.key;A!==null;){if(A.key===ue)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(L,A.sibling),A=p(A,M.children||[]),A.return=L,L=A;break e}else{a(L,A);break}else i(L,A);A=A.sibling}A=ic(M,L.mode,K),A.return=L,L=A}return b(L);case Be:return ue=M._init,nt(L,A,ue(M._payload),K)}if(Yn(M))return ee(L,A,M,K);if(oe(M))return ne(L,A,M,K);sa(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(a(L,A.sibling),A=p(A,M),A.return=L,L=A):(a(L,A),A=rc(M,L.mode,K),A.return=L,L=A),b(L)):a(L,A)}return nt}var ki=Pf(!0),Rf=Pf(!1),oa=or(null),aa=null,Ci=null,fu=null;function pu(){fu=Ci=aa=null}function mu(n){var i=oa.current;Fe(oa),n._currentValue=i}function gu(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function ji(n,i){aa=n,fu=Ci=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Mt=!0),n.firstContext=null)}function Qt(n){var i=n._currentValue;if(fu!==n)if(n={context:n,memoizedValue:i,next:null},Ci===null){if(aa===null)throw Error(r(308));Ci=n,aa.dependencies={lanes:0,firstContext:n}}else Ci=Ci.next=n;return i}var Dr=null;function yu(n){Dr===null?Dr=[n]:Dr.push(n)}function Af(n,i,a,c){var p=i.interleaved;return p===null?(a.next=a,yu(i)):(a.next=p.next,p.next=a),i.interleaved=a,$n(n,c)}function $n(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ur=!1;function vu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Of(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function cr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,$n(n,a)}return p=c.interleaved,p===null?(i.next=i,yu(c)):(i.next=p.next,p.next=i),c.interleaved=i,$n(n,a)}function la(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ol(n,a)}}function If(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=b:y=y.next=b,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function ua(n,i,a,c){var p=n.updateQueue;ur=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var P=j,N=P.next;P.next=null,b===null?y=N:b.next=N,b=P;var W=n.alternate;W!==null&&(W=W.updateQueue,j=W.lastBaseUpdate,j!==b&&(j===null?W.firstBaseUpdate=N:j.next=N,W.lastBaseUpdate=P))}if(y!==null){var H=p.baseState;b=0,W=N=P=null,j=y;do{var U=j.lane,X=j.eventTime;if((c&U)===U){W!==null&&(W=W.next={eventTime:X,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ee=n,ne=j;switch(U=i,X=a,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){H=ee.call(X,H,U);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,U=typeof ee=="function"?ee.call(X,H,U):ee,U==null)break e;H=Q({},H,U);break e;case 2:ur=!0}}j.callback!==null&&j.lane!==0&&(n.flags|=64,U=p.effects,U===null?p.effects=[j]:U.push(j))}else X={eventTime:X,lane:U,tag:j.tag,payload:j.payload,callback:j.callback,next:null},W===null?(N=W=X,P=H):W=W.next=X,b|=U;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;U=j,j=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);if(W===null&&(P=H),p.baseState=P,p.firstBaseUpdate=N,p.lastBaseUpdate=W,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Br|=b,n.lanes=b,n.memoizedState=H}}function Lf(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],p=c.callback;if(p!==null){if(c.callback=null,c=a,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var As={},Cn=or(As),Os=or(As),Is=or(As);function Mr(n){if(n===As)throw Error(r(174));return n}function xu(n,i){switch(Me(Is,i),Me(Os,n),Me(Cn,As),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Jn(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Jn(i,n)}Fe(Cn),Me(Cn,i)}function Ei(){Fe(Cn),Fe(Os),Fe(Is)}function Df(n){Mr(Is.current);var i=Mr(Cn.current),a=Jn(i,n.type);i!==a&&(Me(Os,n),Me(Cn,a))}function wu(n){Os.current===n&&(Fe(Cn),Fe(Os))}var qe=or(0);function ca(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bu=[];function Su(){for(var n=0;n<bu.length;n++)bu[n]._workInProgressVersionPrimary=null;bu.length=0}var da=O.ReactCurrentDispatcher,_u=O.ReactCurrentBatchConfig,Nr=0,Ke=null,ut=null,ft=null,ha=!1,Ls=!1,Ds=0,xx=0;function St(){throw Error(r(321))}function ku(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!un(n[a],i[a]))return!1;return!0}function Cu(n,i,a,c,p,y){if(Nr=y,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,da.current=n===null||n.memoizedState===null?_x:kx,n=a(c,p),Ls){y=0;do{if(Ls=!1,Ds=0,25<=y)throw Error(r(301));y+=1,ft=ut=null,i.updateQueue=null,da.current=Cx,n=a(c,p)}while(Ls)}if(da.current=ma,i=ut!==null&&ut.next!==null,Nr=0,ft=ut=Ke=null,ha=!1,i)throw Error(r(300));return n}function ju(){var n=Ds!==0;return Ds=0,n}function jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=n:ft=ft.next=n,ft}function Xt(){if(ut===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var i=ft===null?Ke.memoizedState:ft.next;if(i!==null)ft=i,ut=n;else{if(n===null)throw Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?Ke.memoizedState=ft=n:ft=ft.next=n}return ft}function Ms(n,i){return typeof i=="function"?i(n):i}function Eu(n){var i=Xt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=ut,p=c.baseQueue,y=a.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}c.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,c=c.baseState;var j=b=null,P=null,N=y;do{var W=N.lane;if((Nr&W)===W)P!==null&&(P=P.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:n(c,N.action);else{var H={lane:W,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};P===null?(j=P=H,b=c):P=P.next=H,Ke.lanes|=W,Br|=W}N=N.next}while(N!==null&&N!==y);P===null?b=c:P.next=j,un(c,i.memoizedState)||(Mt=!0),i.memoizedState=c,i.baseState=b,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){p=n;do y=p.lane,Ke.lanes|=y,Br|=y,p=p.next;while(p!==n)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Tu(n){var i=Xt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var b=p=p.next;do y=n(y,b.action),b=b.next;while(b!==p);un(y,i.memoizedState)||(Mt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function Mf(){}function Nf(n,i){var a=Ke,c=Xt(),p=i(),y=!un(c.memoizedState,p);if(y&&(c.memoizedState=p,Mt=!0),c=c.queue,Pu(Ff.bind(null,a,c,n),[n]),c.getSnapshot!==i||y||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,Ns(9,$f.bind(null,a,c,p,i),void 0,null),pt===null)throw Error(r(349));(Nr&30)!==0||Bf(a,i,p)}return p}function Bf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function $f(n,i,a,c){i.value=a,i.getSnapshot=c,zf(i)&&Vf(n)}function Ff(n,i,a){return a(function(){zf(i)&&Vf(n)})}function zf(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!un(n,a)}catch{return!0}}function Vf(n){var i=$n(n,1);i!==null&&pn(i,n,1,-1)}function Uf(n){var i=jn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:n},i.queue=n,n=n.dispatch=Sx.bind(null,Ke,n),[i.memoizedState,n]}function Ns(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Wf(){return Xt().memoizedState}function fa(n,i,a,c){var p=jn();Ke.flags|=n,p.memoizedState=Ns(1|i,a,void 0,c===void 0?null:c)}function pa(n,i,a,c){var p=Xt();c=c===void 0?null:c;var y=void 0;if(ut!==null){var b=ut.memoizedState;if(y=b.destroy,c!==null&&ku(c,b.deps)){p.memoizedState=Ns(i,a,y,c);return}}Ke.flags|=n,p.memoizedState=Ns(1|i,a,y,c)}function Hf(n,i){return fa(8390656,8,n,i)}function Pu(n,i){return pa(2048,8,n,i)}function qf(n,i){return pa(4,2,n,i)}function Kf(n,i){return pa(4,4,n,i)}function Gf(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Yf(n,i,a){return a=a!=null?a.concat([n]):null,pa(4,4,Gf.bind(null,i,n),a)}function Ru(){}function Jf(n,i){var a=Xt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ku(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Qf(n,i){var a=Xt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ku(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Xf(n,i,a){return(Nr&21)===0?(n.baseState&&(n.baseState=!1,Mt=!0),n.memoizedState=a):(un(a,i)||(a=Eh(),Ke.lanes|=a,Br|=a,n.baseState=!0),i)}function wx(n,i){var a=Ie;Ie=a!==0&&4>a?a:4,n(!0);var c=_u.transition;_u.transition={};try{n(!1),i()}finally{Ie=a,_u.transition=c}}function Zf(){return Xt().memoizedState}function bx(n,i,a){var c=pr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ep(n))tp(i,a);else if(a=Af(n,i,a,c),a!==null){var p=Rt();pn(a,n,c,p),np(a,i,c)}}function Sx(n,i,a){var c=pr(n),p={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ep(n))tp(i,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var b=i.lastRenderedState,j=y(b,a);if(p.hasEagerState=!0,p.eagerState=j,un(j,b)){var P=i.interleaved;P===null?(p.next=p,yu(i)):(p.next=P.next,P.next=p),i.interleaved=p;return}}catch{}finally{}a=Af(n,i,p,c),a!==null&&(p=Rt(),pn(a,n,c,p),np(a,i,c))}}function ep(n){var i=n.alternate;return n===Ke||i!==null&&i===Ke}function tp(n,i){Ls=ha=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function np(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ol(n,a)}}var ma={readContext:Qt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},_x={readContext:Qt,useCallback:function(n,i){return jn().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:Hf,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,fa(4194308,4,Gf.bind(null,i,n),a)},useLayoutEffect:function(n,i){return fa(4194308,4,n,i)},useInsertionEffect:function(n,i){return fa(4,2,n,i)},useMemo:function(n,i){var a=jn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=jn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=bx.bind(null,Ke,n),[c.memoizedState,n]},useRef:function(n){var i=jn();return n={current:n},i.memoizedState=n},useState:Uf,useDebugValue:Ru,useDeferredValue:function(n){return jn().memoizedState=n},useTransition:function(){var n=Uf(!1),i=n[0];return n=wx.bind(null,n[1]),jn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Ke,p=jn();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),pt===null)throw Error(r(349));(Nr&30)!==0||Bf(c,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,Hf(Ff.bind(null,c,y,n),[n]),c.flags|=2048,Ns(9,$f.bind(null,c,y,a,i),void 0,null),a},useId:function(){var n=jn(),i=pt.identifierPrefix;if(Ve){var a=Bn,c=Nn;a=(c&~(1<<32-ln(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ds++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=xx++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},kx={readContext:Qt,useCallback:Jf,useContext:Qt,useEffect:Pu,useImperativeHandle:Yf,useInsertionEffect:qf,useLayoutEffect:Kf,useMemo:Qf,useReducer:Eu,useRef:Wf,useState:function(){return Eu(Ms)},useDebugValue:Ru,useDeferredValue:function(n){var i=Xt();return Xf(i,ut.memoizedState,n)},useTransition:function(){var n=Eu(Ms)[0],i=Xt().memoizedState;return[n,i]},useMutableSource:Mf,useSyncExternalStore:Nf,useId:Zf,unstable_isNewReconciler:!1},Cx={readContext:Qt,useCallback:Jf,useContext:Qt,useEffect:Pu,useImperativeHandle:Yf,useInsertionEffect:qf,useLayoutEffect:Kf,useMemo:Qf,useReducer:Tu,useRef:Wf,useState:function(){return Tu(Ms)},useDebugValue:Ru,useDeferredValue:function(n){var i=Xt();return ut===null?i.memoizedState=n:Xf(i,ut.memoizedState,n)},useTransition:function(){var n=Tu(Ms)[0],i=Xt().memoizedState;return[n,i]},useMutableSource:Mf,useSyncExternalStore:Nf,useId:Zf,unstable_isNewReconciler:!1};function dn(n,i){if(n&&n.defaultProps){i=Q({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Au(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:Q({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ga={isMounted:function(n){return(n=n._reactInternals)?Rr(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Rt(),p=pr(n),y=Fn(c,p);y.payload=i,a!=null&&(y.callback=a),i=cr(n,y,p),i!==null&&(pn(i,n,p,c),la(i,n,p))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Rt(),p=pr(n),y=Fn(c,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=cr(n,y,p),i!==null&&(pn(i,n,p,c),la(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Rt(),c=pr(n),p=Fn(a,c);p.tag=2,i!=null&&(p.callback=i),i=cr(n,p,c),i!==null&&(pn(i,n,c,a),la(i,n,c))}};function rp(n,i,a,c,p,y,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,b):i.prototype&&i.prototype.isPureReactComponent?!_s(a,c)||!_s(p,y):!0}function ip(n,i,a){var c=!1,p=ar,y=i.contextType;return typeof y=="object"&&y!==null?y=Qt(y):(p=Dt(i)?Or:bt.current,c=i.contextTypes,y=(c=c!=null)?wi(n,p):ar),i=new i(a,y),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ga,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=y),i}function sp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&ga.enqueueReplaceState(i,i.state,null)}function Ou(n,i,a,c){var p=n.stateNode;p.props=a,p.state=n.memoizedState,p.refs={},vu(n);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Qt(y):(y=Dt(i)?Or:bt.current,p.context=wi(n,y)),p.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Au(n,i,y,a),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&ga.enqueueReplaceState(p,p.state,null),ua(n,a,p,c),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Ti(n,i){try{var a="",c=i;do a+=_e(c),c=c.return;while(c);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:i,stack:p,digest:null}}function Iu(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Lu(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var jx=typeof WeakMap=="function"?WeakMap:Map;function op(n,i,a){a=Fn(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){_a||(_a=!0,Yu=c),Lu(n,i)},a}function ap(n,i,a){a=Fn(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;a.payload=function(){return c(p)},a.callback=function(){Lu(n,i)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Lu(n,i),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),a}function lp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new jx;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(a)||(p.add(a),n=Fx.bind(null,n,i,a),i.then(n,n))}function up(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function cp(n,i,a,c,p){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Fn(-1,1),i.tag=2,cr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var Ex=O.ReactCurrentOwner,Mt=!1;function Pt(n,i,a,c){i.child=n===null?Rf(i,null,a,c):ki(i,n.child,a,c)}function dp(n,i,a,c,p){a=a.render;var y=i.ref;return ji(i,p),c=Cu(n,i,a,c,y,p),a=ju(),n!==null&&!Mt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,zn(n,i,p)):(Ve&&a&&lu(i),i.flags|=1,Pt(n,i,c,p),i.child)}function hp(n,i,a,c,p){if(n===null){var y=a.type;return typeof y=="function"&&!nc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,fp(n,i,y,c,p)):(n=Pa(a.type,null,c,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,(n.lanes&p)===0){var b=y.memoizedProps;if(a=a.compare,a=a!==null?a:_s,a(b,c)&&n.ref===i.ref)return zn(n,i,p)}return i.flags|=1,n=gr(y,c),n.ref=i.ref,n.return=i,i.child=n}function fp(n,i,a,c,p){if(n!==null){var y=n.memoizedProps;if(_s(y,c)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=c=y,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,zn(n,i,p)}return Du(n,i,a,c,p)}function pp(n,i,a){var c=i.pendingProps,p=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Ri,Ht),Ht|=a;else{if((a&1073741824)===0)return n=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Me(Ri,Ht),Ht|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:a,Me(Ri,Ht),Ht|=c}else y!==null?(c=y.baseLanes|a,i.memoizedState=null):c=a,Me(Ri,Ht),Ht|=c;return Pt(n,i,p,a),i.child}function mp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Du(n,i,a,c,p){var y=Dt(a)?Or:bt.current;return y=wi(i,y),ji(i,p),a=Cu(n,i,a,c,y,p),c=ju(),n!==null&&!Mt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,zn(n,i,p)):(Ve&&c&&lu(i),i.flags|=1,Pt(n,i,a,p),i.child)}function gp(n,i,a,c,p){if(Dt(a)){var y=!0;ea(i)}else y=!1;if(ji(i,p),i.stateNode===null)va(n,i),ip(i,a,c),Ou(i,a,c,p),c=!0;else if(n===null){var b=i.stateNode,j=i.memoizedProps;b.props=j;var P=b.context,N=a.contextType;typeof N=="object"&&N!==null?N=Qt(N):(N=Dt(a)?Or:bt.current,N=wi(i,N));var W=a.getDerivedStateFromProps,H=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function";H||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==c||P!==N)&&sp(i,b,c,N),ur=!1;var U=i.memoizedState;b.state=U,ua(i,c,b,p),P=i.memoizedState,j!==c||U!==P||Lt.current||ur?(typeof W=="function"&&(Au(i,a,W,c),P=i.memoizedState),(j=ur||rp(i,a,j,c,U,P,N))?(H||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),b.props=c,b.state=P,b.context=N,c=j):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Of(n,i),j=i.memoizedProps,N=i.type===i.elementType?j:dn(i.type,j),b.props=N,H=i.pendingProps,U=b.context,P=a.contextType,typeof P=="object"&&P!==null?P=Qt(P):(P=Dt(a)?Or:bt.current,P=wi(i,P));var X=a.getDerivedStateFromProps;(W=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==H||U!==P)&&sp(i,b,c,P),ur=!1,U=i.memoizedState,b.state=U,ua(i,c,b,p);var ee=i.memoizedState;j!==H||U!==ee||Lt.current||ur?(typeof X=="function"&&(Au(i,a,X,c),ee=i.memoizedState),(N=ur||rp(i,a,N,c,U,ee,P)||!1)?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ee,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ee,P)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),b.props=c,b.state=ee,b.context=P,c=N):(typeof b.componentDidUpdate!="function"||j===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),c=!1)}return Mu(n,i,a,c,y,p)}function Mu(n,i,a,c,p,y){mp(n,i);var b=(i.flags&128)!==0;if(!c&&!b)return p&&bf(i,a,!1),zn(n,i,y);c=i.stateNode,Ex.current=i;var j=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&b?(i.child=ki(i,n.child,null,y),i.child=ki(i,null,j,y)):Pt(n,i,j,y),i.memoizedState=c.state,p&&bf(i,a,!0),i.child}function yp(n){var i=n.stateNode;i.pendingContext?xf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&xf(n,i.context,!1),xu(n,i.containerInfo)}function vp(n,i,a,c,p){return _i(),hu(p),i.flags|=256,Pt(n,i,a,c),i.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Bu(n){return{baseLanes:n,cachePool:null,transitions:null}}function xp(n,i,a){var c=i.pendingProps,p=qe.current,y=!1,b=(i.flags&128)!==0,j;if((j=b)||(j=n!==null&&n.memoizedState===null?!1:(p&2)!==0),j?(y=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),Me(qe,p&1),n===null)return du(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=c.children,n=c.fallback,y?(c=i.mode,y=i.child,b={mode:"hidden",children:b},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Ra(b,c,0,null),n=Vr(n,c,a,null),y.return=i,n.return=i,y.sibling=n,i.child=y,i.child.memoizedState=Bu(a),i.memoizedState=Nu,n):$u(i,b));if(p=n.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return Tx(n,i,b,c,j,p,a);if(y){y=c.fallback,b=i.mode,p=n.child,j=p.sibling;var P={mode:"hidden",children:c.children};return(b&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=gr(p,P),c.subtreeFlags=p.subtreeFlags&14680064),j!==null?y=gr(j,y):(y=Vr(y,b,a,null),y.flags|=2),y.return=i,c.return=i,c.sibling=y,i.child=c,c=y,y=i.child,b=n.child.memoizedState,b=b===null?Bu(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=n.childLanes&~a,i.memoizedState=Nu,c}return y=n.child,n=y.sibling,c=gr(y,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function $u(n,i){return i=Ra({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ya(n,i,a,c){return c!==null&&hu(c),ki(i,n.child,null,a),n=$u(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Tx(n,i,a,c,p,y,b){if(a)return i.flags&256?(i.flags&=-257,c=Iu(Error(r(422))),ya(n,i,b,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(y=c.fallback,p=i.mode,c=Ra({mode:"visible",children:c.children},p,0,null),y=Vr(y,p,b,null),y.flags|=2,c.return=i,y.return=i,c.sibling=y,i.child=c,(i.mode&1)!==0&&ki(i,n.child,null,b),i.child.memoizedState=Bu(b),i.memoizedState=Nu,y);if((i.mode&1)===0)return ya(n,i,b,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var j=c.dgst;return c=j,y=Error(r(419)),c=Iu(y,c,void 0),ya(n,i,b,c)}if(j=(b&n.childLanes)!==0,Mt||j){if(c=pt,c!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,$n(n,p),pn(c,n,p,-1))}return tc(),c=Iu(Error(r(421))),ya(n,i,b,c)}return p.data==="$?"?(i.flags|=128,i.child=n.child,i=zx.bind(null,n),p._reactRetry=i,null):(n=y.treeContext,Wt=sr(p.nextSibling),Ut=i,Ve=!0,cn=null,n!==null&&(Yt[Jt++]=Nn,Yt[Jt++]=Bn,Yt[Jt++]=Ir,Nn=n.id,Bn=n.overflow,Ir=i),i=$u(i,c.children),i.flags|=4096,i)}function wp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),gu(n.return,i,a)}function Fu(n,i,a,c,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=p)}function bp(n,i,a){var c=i.pendingProps,p=c.revealOrder,y=c.tail;if(Pt(n,i,c.children,a),c=qe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wp(n,a,i);else if(n.tag===19)wp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Me(qe,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)n=a.alternate,n!==null&&ca(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Fu(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&ca(n)===null){i.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}Fu(i,!0,a,null,y);break;case"together":Fu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function va(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function zn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Br|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=gr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=gr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Px(n,i,a){switch(i.tag){case 3:yp(i),_i();break;case 5:Df(i);break;case 1:Dt(i.type)&&ea(i);break;case 4:xu(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;Me(oa,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Me(qe,qe.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?xp(n,i,a):(Me(qe,qe.current&1),n=zn(n,i,a),n!==null?n.sibling:null);Me(qe,qe.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return bp(n,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Me(qe,qe.current),c)break;return null;case 22:case 23:return i.lanes=0,pp(n,i,a)}return zn(n,i,a)}var Sp,zu,_p,kp;Sp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zu=function(){},_p=function(n,i,a,c){var p=n.memoizedProps;if(p!==c){n=i.stateNode,Mr(Cn.current);var y=null;switch(a){case"input":p=ri(n,p),c=ri(n,c),y=[];break;case"select":p=Q({},p,{value:void 0}),c=Q({},c,{value:void 0}),y=[];break;case"textarea":p=si(n,p),c=si(n,c),y=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Qo)}ui(a,c);var b;a=null;for(N in p)if(!c.hasOwnProperty(N)&&p.hasOwnProperty(N)&&p[N]!=null)if(N==="style"){var j=p[N];for(b in j)j.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?y||(y=[]):(y=y||[]).push(N,null));for(N in c){var P=c[N];if(j=p?.[N],c.hasOwnProperty(N)&&P!==j&&(P!=null||j!=null))if(N==="style")if(j){for(b in j)!j.hasOwnProperty(b)||P&&P.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in P)P.hasOwnProperty(b)&&j[b]!==P[b]&&(a||(a={}),a[b]=P[b])}else a||(y||(y=[]),y.push(N,a)),a=P;else N==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,j=j?j.__html:void 0,P!=null&&j!==P&&(y=y||[]).push(N,P)):N==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(N,""+P):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(P!=null&&N==="onScroll"&&$e("scroll",n),y||j===P||(y=[])):(y=y||[]).push(N,P))}a&&(y=y||[]).push("style",a);var N=y;(i.updateQueue=N)&&(i.flags|=4)}},kp=function(n,i,a,c){a!==c&&(i.flags|=4)};function Bs(n,i){if(!Ve)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function _t(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Rx(n,i,a){var c=i.pendingProps;switch(uu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return Dt(i.type)&&Zo(),_t(i),null;case 3:return c=i.stateNode,Ei(),Fe(Lt),Fe(bt),Su(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ia(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cn!==null&&(Xu(cn),cn=null))),zu(n,i),_t(i),null;case 5:wu(i);var p=Mr(Is.current);if(a=i.type,n!==null&&i.stateNode!=null)_p(n,i,a,c,p),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return _t(i),null}if(n=Mr(Cn.current),ia(i)){c=i.stateNode,a=i.type;var y=i.memoizedProps;switch(c[kn]=i,c[Ts]=y,n=(i.mode&1)!==0,a){case"dialog":$e("cancel",c),$e("close",c);break;case"iframe":case"object":case"embed":$e("load",c);break;case"video":case"audio":for(p=0;p<Cs.length;p++)$e(Cs[p],c);break;case"source":$e("error",c);break;case"img":case"image":case"link":$e("error",c),$e("load",c);break;case"details":$e("toggle",c);break;case"input":Sn(c,y),$e("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},$e("invalid",c);break;case"textarea":Gt(c,y),$e("invalid",c)}ui(a,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var j=y[b];b==="children"?typeof j=="string"?c.textContent!==j&&(y.suppressHydrationWarning!==!0&&Jo(c.textContent,j,n),p=["children",j]):typeof j=="number"&&c.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&Jo(c.textContent,j,n),p=["children",""+j]):o.hasOwnProperty(b)&&j!=null&&b==="onScroll"&&$e("scroll",c)}switch(a){case"input":ni(c),is(c,y,!0);break;case"textarea":ni(c),jo(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=Qo)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Eo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=b.createElement(a,{is:c.is}):(n=b.createElement(a),a==="select"&&(b=n,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):n=b.createElementNS(n,a),n[kn]=i,n[Ts]=c,Sp(n,i,!1,!1),i.stateNode=n;e:{switch(b=ci(a,c),a){case"dialog":$e("cancel",n),$e("close",n),p=c;break;case"iframe":case"object":case"embed":$e("load",n),p=c;break;case"video":case"audio":for(p=0;p<Cs.length;p++)$e(Cs[p],n);p=c;break;case"source":$e("error",n),p=c;break;case"img":case"image":case"link":$e("error",n),$e("load",n),p=c;break;case"details":$e("toggle",n),p=c;break;case"input":Sn(n,c),p=ri(n,c),$e("invalid",n);break;case"option":p=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},p=Q({},c,{value:void 0}),$e("invalid",n);break;case"textarea":Gt(n,c),p=si(n,c),$e("invalid",n);break;default:p=c}ui(a,p),j=p;for(y in j)if(j.hasOwnProperty(y)){var P=j[y];y==="style"?li(n,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&To(n,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Er(n,P):typeof P=="number"&&Er(n,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?P!=null&&y==="onScroll"&&$e("scroll",n):P!=null&&E(n,y,P,b))}switch(a){case"input":ni(n),is(n,c,!1);break;case"textarea":ni(n),jo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Pe(c.value));break;case"select":n.multiple=!!c.multiple,y=c.value,y!=null?In(n,!!c.multiple,y,!1):c.defaultValue!=null&&In(n,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=Qo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _t(i),null;case 6:if(n&&i.stateNode!=null)kp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(a=Mr(Is.current),Mr(Cn.current),ia(i)){if(c=i.stateNode,a=i.memoizedProps,c[kn]=i,(y=c.nodeValue!==a)&&(n=Ut,n!==null))switch(n.tag){case 3:Jo(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jo(c.nodeValue,a,(n.mode&1)!==0)}y&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kn]=i,i.stateNode=c}return _t(i),null;case 13:if(Fe(qe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ve&&Wt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ef(),_i(),i.flags|=98560,y=!1;else if(y=ia(i),c!==null&&c.dehydrated!==null){if(n===null){if(!y)throw Error(r(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[kn]=i}else _i(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),y=!1}else cn!==null&&(Xu(cn),cn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(qe.current&1)!==0?ct===0&&(ct=3):tc())),i.updateQueue!==null&&(i.flags|=4),_t(i),null);case 4:return Ei(),zu(n,i),n===null&&js(i.stateNode.containerInfo),_t(i),null;case 10:return mu(i.type._context),_t(i),null;case 17:return Dt(i.type)&&Zo(),_t(i),null;case 19:if(Fe(qe),y=i.memoizedState,y===null)return _t(i),null;if(c=(i.flags&128)!==0,b=y.rendering,b===null)if(c)Bs(y,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=ca(n),b!==null){for(i.flags|=128,Bs(y,!1),c=b.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)y=a,n=c,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,n=b.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Me(qe,qe.current&1|2),i.child}n=n.sibling}y.tail!==null&&tt()>Ai&&(i.flags|=128,c=!0,Bs(y,!1),i.lanes=4194304)}else{if(!c)if(n=ca(b),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Bs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ve)return _t(i),null}else 2*tt()-y.renderingStartTime>Ai&&a!==1073741824&&(i.flags|=128,c=!0,Bs(y,!1),i.lanes=4194304);y.isBackwards?(b.sibling=i.child,i.child=b):(a=y.last,a!==null?a.sibling=b:i.child=b,y.last=b)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=tt(),i.sibling=null,a=qe.current,Me(qe,c?a&1|2:a&1),i):(_t(i),null);case 22:case 23:return ec(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Ht&1073741824)!==0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Ax(n,i){switch(uu(i),i.tag){case 1:return Dt(i.type)&&Zo(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ei(),Fe(Lt),Fe(bt),Su(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return wu(i),null;case 13:if(Fe(qe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));_i()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Fe(qe),null;case 4:return Ei(),null;case 10:return mu(i.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var xa=!1,kt=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Pi(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Qe(n,i,c)}else a.current=null}function Vu(n,i,a){try{a()}catch(c){Qe(n,i,c)}}var Cp=!1;function Ix(n,i){if(eu=$o,n=nf(),ql(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var b=0,j=-1,P=-1,N=0,W=0,H=n,U=null;t:for(;;){for(var X;H!==a||p!==0&&H.nodeType!==3||(j=b+p),H!==y||c!==0&&H.nodeType!==3||(P=b+c),H.nodeType===3&&(b+=H.nodeValue.length),(X=H.firstChild)!==null;)U=H,H=X;for(;;){if(H===n)break t;if(U===a&&++N===p&&(j=b),U===y&&++W===c&&(P=b),(X=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=X}a=j===-1||P===-1?null:{start:j,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(tu={focusedElem:n,selectionRange:a},$o=!1,Z=i;Z!==null;)if(i=Z,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Z=n;else for(;Z!==null;){i=Z;try{var ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,nt=ee.memoizedState,L=i.stateNode,A=L.getSnapshotBeforeUpdate(i.elementType===i.type?ne:dn(i.type,ne),nt);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Qe(i,i.return,K)}if(n=i.sibling,n!==null){n.return=i.return,Z=n;break}Z=i.return}return ee=Cp,Cp=!1,ee}function $s(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&n)===n){var y=p.destroy;p.destroy=void 0,y!==void 0&&Vu(i,a,y)}p=p.next}while(p!==c)}}function wa(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Uu(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function jp(n){var i=n.alternate;i!==null&&(n.alternate=null,jp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[kn],delete i[Ts],delete i[su],delete i[mx],delete i[gx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ep(n){return n.tag===5||n.tag===3||n.tag===4}function Tp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ep(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wu(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qo));else if(c!==4&&(n=n.child,n!==null))for(Wu(n,i,a),n=n.sibling;n!==null;)Wu(n,i,a),n=n.sibling}function Hu(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Hu(n,i,a),n=n.sibling;n!==null;)Hu(n,i,a),n=n.sibling}var gt=null,hn=!1;function dr(n,i,a){for(a=a.child;a!==null;)Pp(n,i,a),a=a.sibling}function Pp(n,i,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Io,a)}catch{}switch(a.tag){case 5:kt||Pi(a,i);case 6:var c=gt,p=hn;gt=null,dr(n,i,a),gt=c,hn=p,gt!==null&&(hn?(n=gt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):gt.removeChild(a.stateNode));break;case 18:gt!==null&&(hn?(n=gt,a=a.stateNode,n.nodeType===8?iu(n.parentNode,a):n.nodeType===1&&iu(n,a),ys(n)):iu(gt,a.stateNode));break;case 4:c=gt,p=hn,gt=a.stateNode.containerInfo,hn=!0,dr(n,i,a),gt=c,hn=p;break;case 0:case 11:case 14:case 15:if(!kt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&Vu(a,i,b),p=p.next}while(p!==c)}dr(n,i,a);break;case 1:if(!kt&&(Pi(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(j){Qe(a,i,j)}dr(n,i,a);break;case 21:dr(n,i,a);break;case 22:a.mode&1?(kt=(c=kt)||a.memoizedState!==null,dr(n,i,a),kt=c):dr(n,i,a);break;default:dr(n,i,a)}}function Rp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ox),i.forEach(function(c){var p=Vx.bind(null,n,c);a.has(c)||(a.add(c),c.then(p,p))})}}function fn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];try{var y=n,b=i,j=b;e:for(;j!==null;){switch(j.tag){case 5:gt=j.stateNode,hn=!1;break e;case 3:gt=j.stateNode.containerInfo,hn=!0;break e;case 4:gt=j.stateNode.containerInfo,hn=!0;break e}j=j.return}if(gt===null)throw Error(r(160));Pp(y,b,p),gt=null,hn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(N){Qe(p,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ap(i,n),i=i.sibling}function Ap(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fn(i,n),En(n),c&4){try{$s(3,n,n.return),wa(3,n)}catch(ne){Qe(n,n.return,ne)}try{$s(5,n,n.return)}catch(ne){Qe(n,n.return,ne)}}break;case 1:fn(i,n),En(n),c&512&&a!==null&&Pi(a,a.return);break;case 5:if(fn(i,n),En(n),c&512&&a!==null&&Pi(a,a.return),n.flags&32){var p=n.stateNode;try{Er(p,"")}catch(ne){Qe(n,n.return,ne)}}if(c&4&&(p=n.stateNode,p!=null)){var y=n.memoizedProps,b=a!==null?a.memoizedProps:y,j=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&rs(p,y),ci(j,b);var N=ci(j,y);for(b=0;b<P.length;b+=2){var W=P[b],H=P[b+1];W==="style"?li(p,H):W==="dangerouslySetInnerHTML"?To(p,H):W==="children"?Er(p,H):E(p,W,H,N)}switch(j){case"input":jr(p,y);break;case"textarea":oi(p,y);break;case"select":var U=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var X=y.value;X!=null?In(p,!!y.multiple,X,!1):U!==!!y.multiple&&(y.defaultValue!=null?In(p,!!y.multiple,y.defaultValue,!0):In(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ts]=y}catch(ne){Qe(n,n.return,ne)}}break;case 6:if(fn(i,n),En(n),c&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,y=n.memoizedProps;try{p.nodeValue=y}catch(ne){Qe(n,n.return,ne)}}break;case 3:if(fn(i,n),En(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ys(i.containerInfo)}catch(ne){Qe(n,n.return,ne)}break;case 4:fn(i,n),En(n);break;case 13:fn(i,n),En(n),p=n.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Gu=tt())),c&4&&Rp(n);break;case 22:if(W=a!==null&&a.memoizedState!==null,n.mode&1?(kt=(N=kt)||W,fn(i,n),kt=N):fn(i,n),En(n),c&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!W&&(n.mode&1)!==0)for(Z=n,W=n.child;W!==null;){for(H=Z=W;Z!==null;){switch(U=Z,X=U.child,U.tag){case 0:case 11:case 14:case 15:$s(4,U,U.return);break;case 1:Pi(U,U.return);var ee=U.stateNode;if(typeof ee.componentWillUnmount=="function"){c=U,a=U.return;try{i=c,ee.props=i.memoizedProps,ee.state=i.memoizedState,ee.componentWillUnmount()}catch(ne){Qe(c,a,ne)}}break;case 5:Pi(U,U.return);break;case 22:if(U.memoizedState!==null){Lp(H);continue}}X!==null?(X.return=U,Z=X):Lp(H)}W=W.sibling}e:for(W=null,H=n;;){if(H.tag===5){if(W===null){W=H;try{p=H.stateNode,N?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=H.stateNode,P=H.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null,j.style.display=Po("display",b))}catch(ne){Qe(n,n.return,ne)}}}else if(H.tag===6){if(W===null)try{H.stateNode.nodeValue=N?"":H.memoizedProps}catch(ne){Qe(n,n.return,ne)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===n)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===n)break e;for(;H.sibling===null;){if(H.return===null||H.return===n)break e;W===H&&(W=null),H=H.return}W===H&&(W=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:fn(i,n),En(n),c&4&&Rp(n);break;case 21:break;default:fn(i,n),En(n)}}function En(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Ep(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(Er(p,""),c.flags&=-33);var y=Tp(n);Hu(n,y,p);break;case 3:case 4:var b=c.stateNode.containerInfo,j=Tp(n);Wu(n,j,b);break;default:throw Error(r(161))}}catch(P){Qe(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Lx(n,i,a){Z=n,Op(n)}function Op(n,i,a){for(var c=(n.mode&1)!==0;Z!==null;){var p=Z,y=p.child;if(p.tag===22&&c){var b=p.memoizedState!==null||xa;if(!b){var j=p.alternate,P=j!==null&&j.memoizedState!==null||kt;j=xa;var N=kt;if(xa=b,(kt=P)&&!N)for(Z=p;Z!==null;)b=Z,P=b.child,b.tag===22&&b.memoizedState!==null?Dp(p):P!==null?(P.return=b,Z=P):Dp(p);for(;y!==null;)Z=y,Op(y),y=y.sibling;Z=p,xa=j,kt=N}Ip(n)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Z=y):Ip(n)}}function Ip(n){for(;Z!==null;){var i=Z;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:kt||wa(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!kt)if(a===null)c.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:dn(i.type,a.memoizedProps);c.componentDidUpdate(p,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Lf(i,y,c);break;case 3:var b=i.updateQueue;if(b!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Lf(i,b,a)}break;case 5:var j=i.stateNode;if(a===null&&i.flags&4){a=j;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var W=N.memoizedState;if(W!==null){var H=W.dehydrated;H!==null&&ys(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||i.flags&512&&Uu(i)}catch(U){Qe(i,i.return,U)}}if(i===n){Z=null;break}if(a=i.sibling,a!==null){a.return=i.return,Z=a;break}Z=i.return}}function Lp(n){for(;Z!==null;){var i=Z;if(i===n){Z=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Z=a;break}Z=i.return}}function Dp(n){for(;Z!==null;){var i=Z;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{wa(4,i)}catch(P){Qe(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(P){Qe(i,p,P)}}var y=i.return;try{Uu(i)}catch(P){Qe(i,y,P)}break;case 5:var b=i.return;try{Uu(i)}catch(P){Qe(i,b,P)}}}catch(P){Qe(i,i.return,P)}if(i===n){Z=null;break}var j=i.sibling;if(j!==null){j.return=i.return,Z=j;break}Z=i.return}}var Dx=Math.ceil,ba=O.ReactCurrentDispatcher,qu=O.ReactCurrentOwner,Zt=O.ReactCurrentBatchConfig,je=0,pt=null,it=null,yt=0,Ht=0,Ri=or(0),ct=0,Fs=null,Br=0,Sa=0,Ku=0,zs=null,Nt=null,Gu=0,Ai=1/0,Vn=null,_a=!1,Yu=null,hr=null,ka=!1,fr=null,Ca=0,Vs=0,Ju=null,ja=-1,Ea=0;function Rt(){return(je&6)!==0?tt():ja!==-1?ja:ja=tt()}function pr(n){return(n.mode&1)===0?1:(je&2)!==0&&yt!==0?yt&-yt:vx.transition!==null?(Ea===0&&(Ea=Eh()),Ea):(n=Ie,n!==0||(n=window.event,n=n===void 0?16:Mh(n.type)),n)}function pn(n,i,a,c){if(50<Vs)throw Vs=0,Ju=null,Error(r(185));hs(n,a,c),((je&2)===0||n!==pt)&&(n===pt&&((je&2)===0&&(Sa|=a),ct===4&&mr(n,yt)),Bt(n,c),a===1&&je===0&&(i.mode&1)===0&&(Ai=tt()+500,ta&&lr()))}function Bt(n,i){var a=n.callbackNode;v1(n,i);var c=Mo(n,n===pt?yt:0);if(c===0)a!==null&&kh(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&kh(a),i===1)n.tag===0?yx(Np.bind(null,n)):Sf(Np.bind(null,n)),fx(function(){(je&6)===0&&lr()}),a=null;else{switch(Th(c)){case 1:a=Pl;break;case 4:a=Ch;break;case 16:a=Oo;break;case 536870912:a=jh;break;default:a=Oo}a=Hp(a,Mp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Mp(n,i){if(ja=-1,Ea=0,(je&6)!==0)throw Error(r(327));var a=n.callbackNode;if(Oi()&&n.callbackNode!==a)return null;var c=Mo(n,n===pt?yt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Ta(n,c);else{i=c;var p=je;je|=2;var y=$p();(pt!==n||yt!==i)&&(Vn=null,Ai=tt()+500,Fr(n,i));do try{Bx();break}catch(j){Bp(n,j)}while(!0);pu(),ba.current=y,je=p,it!==null?i=0:(pt=null,yt=0,i=ct)}if(i!==0){if(i===2&&(p=Rl(n),p!==0&&(c=p,i=Qu(n,p))),i===1)throw a=Fs,Fr(n,0),mr(n,c),Bt(n,tt()),a;if(i===6)mr(n,c);else{if(p=n.current.alternate,(c&30)===0&&!Mx(p)&&(i=Ta(n,c),i===2&&(y=Rl(n),y!==0&&(c=y,i=Qu(n,y))),i===1))throw a=Fs,Fr(n,0),mr(n,c),Bt(n,tt()),a;switch(n.finishedWork=p,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:zr(n,Nt,Vn);break;case 3:if(mr(n,c),(c&130023424)===c&&(i=Gu+500-tt(),10<i)){if(Mo(n,0)!==0)break;if(p=n.suspendedLanes,(p&c)!==c){Rt(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=ru(zr.bind(null,n,Nt,Vn),i);break}zr(n,Nt,Vn);break;case 4:if(mr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,p=-1;0<c;){var b=31-ln(c);y=1<<b,b=i[b],b>p&&(p=b),c&=~y}if(c=p,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dx(c/1960))-c,10<c){n.timeoutHandle=ru(zr.bind(null,n,Nt,Vn),c);break}zr(n,Nt,Vn);break;case 5:zr(n,Nt,Vn);break;default:throw Error(r(329))}}}return Bt(n,tt()),n.callbackNode===a?Mp.bind(null,n):null}function Qu(n,i){var a=zs;return n.current.memoizedState.isDehydrated&&(Fr(n,i).flags|=256),n=Ta(n,i),n!==2&&(i=Nt,Nt=a,i!==null&&Xu(i)),n}function Xu(n){Nt===null?Nt=n:Nt.push.apply(Nt,n)}function Mx(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var p=a[c],y=p.getSnapshot;p=p.value;try{if(!un(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mr(n,i){for(i&=~Ku,i&=~Sa,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-ln(i),c=1<<a;n[a]=-1,i&=~c}}function Np(n){if((je&6)!==0)throw Error(r(327));Oi();var i=Mo(n,0);if((i&1)===0)return Bt(n,tt()),null;var a=Ta(n,i);if(n.tag!==0&&a===2){var c=Rl(n);c!==0&&(i=c,a=Qu(n,c))}if(a===1)throw a=Fs,Fr(n,0),mr(n,i),Bt(n,tt()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,zr(n,Nt,Vn),Bt(n,tt()),null}function Zu(n,i){var a=je;je|=1;try{return n(i)}finally{je=a,je===0&&(Ai=tt()+500,ta&&lr())}}function $r(n){fr!==null&&fr.tag===0&&(je&6)===0&&Oi();var i=je;je|=1;var a=Zt.transition,c=Ie;try{if(Zt.transition=null,Ie=1,n)return n()}finally{Ie=c,Zt.transition=a,je=i,(je&6)===0&&lr()}}function ec(){Ht=Ri.current,Fe(Ri)}function Fr(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,hx(a)),it!==null)for(a=it.return;a!==null;){var c=a;switch(uu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Zo();break;case 3:Ei(),Fe(Lt),Fe(bt),Su();break;case 5:wu(c);break;case 4:Ei();break;case 13:Fe(qe);break;case 19:Fe(qe);break;case 10:mu(c.type._context);break;case 22:case 23:ec()}a=a.return}if(pt=n,it=n=gr(n.current,null),yt=Ht=i,ct=0,Fs=null,Ku=Sa=Br=0,Nt=zs=null,Dr!==null){for(i=0;i<Dr.length;i++)if(a=Dr[i],c=a.interleaved,c!==null){a.interleaved=null;var p=c.next,y=a.pending;if(y!==null){var b=y.next;y.next=p,c.next=b}a.pending=c}Dr=null}return n}function Bp(n,i){do{var a=it;try{if(pu(),da.current=ma,ha){for(var c=Ke.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}ha=!1}if(Nr=0,ft=ut=Ke=null,Ls=!1,Ds=0,qu.current=null,a===null||a.return===null){ct=1,Fs=i,it=null;break}e:{var y=n,b=a.return,j=a,P=i;if(i=yt,j.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var N=P,W=j,H=W.tag;if((W.mode&1)===0&&(H===0||H===11||H===15)){var U=W.alternate;U?(W.updateQueue=U.updateQueue,W.memoizedState=U.memoizedState,W.lanes=U.lanes):(W.updateQueue=null,W.memoizedState=null)}var X=up(b);if(X!==null){X.flags&=-257,cp(X,b,j,y,i),X.mode&1&&lp(y,N,i),i=X,P=N;var ee=i.updateQueue;if(ee===null){var ne=new Set;ne.add(P),i.updateQueue=ne}else ee.add(P);break e}else{if((i&1)===0){lp(y,N,i),tc();break e}P=Error(r(426))}}else if(Ve&&j.mode&1){var nt=up(b);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),cp(nt,b,j,y,i),hu(Ti(P,j));break e}}y=P=Ti(P,j),ct!==4&&(ct=2),zs===null?zs=[y]:zs.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var L=op(y,P,i);If(y,L);break e;case 1:j=P;var A=y.type,M=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(hr===null||!hr.has(M)))){y.flags|=65536,i&=-i,y.lanes|=i;var K=ap(y,j,i);If(y,K);break e}}y=y.return}while(y!==null)}zp(a)}catch(re){i=re,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function $p(){var n=ba.current;return ba.current=ma,n===null?ma:n}function tc(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||(Br&268435455)===0&&(Sa&268435455)===0||mr(pt,yt)}function Ta(n,i){var a=je;je|=2;var c=$p();(pt!==n||yt!==i)&&(Vn=null,Fr(n,i));do try{Nx();break}catch(p){Bp(n,p)}while(!0);if(pu(),je=a,ba.current=c,it!==null)throw Error(r(261));return pt=null,yt=0,ct}function Nx(){for(;it!==null;)Fp(it)}function Bx(){for(;it!==null&&!u1();)Fp(it)}function Fp(n){var i=Wp(n.alternate,n,Ht);n.memoizedProps=n.pendingProps,i===null?zp(n):it=i,qu.current=null}function zp(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=Rx(a,i,Ht),a!==null){it=a;return}}else{if(a=Ax(a,i),a!==null){a.flags&=32767,it=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ct=6,it=null;return}}if(i=i.sibling,i!==null){it=i;return}it=i=n}while(i!==null);ct===0&&(ct=5)}function zr(n,i,a){var c=Ie,p=Zt.transition;try{Zt.transition=null,Ie=1,$x(n,i,a,c)}finally{Zt.transition=p,Ie=c}return null}function $x(n,i,a,c){do Oi();while(fr!==null);if((je&6)!==0)throw Error(r(327));a=n.finishedWork;var p=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(x1(n,y),n===pt&&(it=pt=null,yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ka||(ka=!0,Hp(Oo,function(){return Oi(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Zt.transition,Zt.transition=null;var b=Ie;Ie=1;var j=je;je|=4,qu.current=null,Ix(n,a),Ap(a,n),sx(tu),$o=!!eu,tu=eu=null,n.current=a,Lx(a),c1(),je=j,Ie=b,Zt.transition=y}else n.current=a;if(ka&&(ka=!1,fr=n,Ca=p),y=n.pendingLanes,y===0&&(hr=null),f1(a.stateNode),Bt(n,tt()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)p=i[a],c(p.value,{componentStack:p.stack,digest:p.digest});if(_a)throw _a=!1,n=Yu,Yu=null,n;return(Ca&1)!==0&&n.tag!==0&&Oi(),y=n.pendingLanes,(y&1)!==0?n===Ju?Vs++:(Vs=0,Ju=n):Vs=0,lr(),null}function Oi(){if(fr!==null){var n=Th(Ca),i=Zt.transition,a=Ie;try{if(Zt.transition=null,Ie=16>n?16:n,fr===null)var c=!1;else{if(n=fr,fr=null,Ca=0,(je&6)!==0)throw Error(r(331));var p=je;for(je|=4,Z=n.current;Z!==null;){var y=Z,b=y.child;if((Z.flags&16)!==0){var j=y.deletions;if(j!==null){for(var P=0;P<j.length;P++){var N=j[P];for(Z=N;Z!==null;){var W=Z;switch(W.tag){case 0:case 11:case 15:$s(8,W,y)}var H=W.child;if(H!==null)H.return=W,Z=H;else for(;Z!==null;){W=Z;var U=W.sibling,X=W.return;if(jp(W),W===N){Z=null;break}if(U!==null){U.return=X,Z=U;break}Z=X}}}var ee=y.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var nt=ne.sibling;ne.sibling=null,ne=nt}while(ne!==null)}}Z=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,Z=b;else e:for(;Z!==null;){if(y=Z,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:$s(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,Z=L;break e}Z=y.return}}var A=n.current;for(Z=A;Z!==null;){b=Z;var M=b.child;if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,Z=M;else e:for(b=A;Z!==null;){if(j=Z,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:wa(9,j)}}catch(re){Qe(j,j.return,re)}if(j===b){Z=null;break e}var K=j.sibling;if(K!==null){K.return=j.return,Z=K;break e}Z=j.return}}if(je=p,lr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Io,n)}catch{}c=!0}return c}finally{Ie=a,Zt.transition=i}}return!1}function Vp(n,i,a){i=Ti(a,i),i=op(n,i,1),n=cr(n,i,1),i=Rt(),n!==null&&(hs(n,1,i),Bt(n,i))}function Qe(n,i,a){if(n.tag===3)Vp(n,n,a);else for(;i!==null;){if(i.tag===3){Vp(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){n=Ti(a,n),n=ap(i,n,1),i=cr(i,n,1),n=Rt(),i!==null&&(hs(i,1,n),Bt(i,n));break}}i=i.return}}function Fx(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Rt(),n.pingedLanes|=n.suspendedLanes&a,pt===n&&(yt&a)===a&&(ct===4||ct===3&&(yt&130023424)===yt&&500>tt()-Gu?Fr(n,0):Ku|=a),Bt(n,i)}function Up(n,i){i===0&&((n.mode&1)===0?i=1:(i=Do,Do<<=1,(Do&130023424)===0&&(Do=4194304)));var a=Rt();n=$n(n,i),n!==null&&(hs(n,i,a),Bt(n,a))}function zx(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Up(n,a)}function Vx(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),Up(n,a)}var Wp;Wp=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Lt.current)Mt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Mt=!1,Px(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Ve&&(i.flags&1048576)!==0&&_f(i,ra,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;va(n,i),n=i.pendingProps;var p=wi(i,bt.current);ji(i,a),p=Cu(null,i,c,n,p,a);var y=ju();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Dt(c)?(y=!0,ea(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,vu(i),p.updater=ga,i.stateNode=p,p._reactInternals=i,Ou(i,c,n,a),i=Mu(null,i,c,!0,y,a)):(i.tag=0,Ve&&y&&lu(i),Pt(null,i,p,a),i=i.child),i;case 16:c=i.elementType;e:{switch(va(n,i),n=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=Wx(c),n=dn(c,n),p){case 0:i=Du(null,i,c,n,a);break e;case 1:i=gp(null,i,c,n,a);break e;case 11:i=dp(null,i,c,n,a);break e;case 14:i=hp(null,i,c,dn(c.type,n),a);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:dn(c,p),Du(n,i,c,p,a);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:dn(c,p),gp(n,i,c,p,a);case 3:e:{if(yp(i),n===null)throw Error(r(387));c=i.pendingProps,y=i.memoizedState,p=y.element,Of(n,i),ua(i,c,null,a);var b=i.memoizedState;if(c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Ti(Error(r(423)),i),i=vp(n,i,c,a,p);break e}else if(c!==p){p=Ti(Error(r(424)),i),i=vp(n,i,c,a,p);break e}else for(Wt=sr(i.stateNode.containerInfo.firstChild),Ut=i,Ve=!0,cn=null,a=Rf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_i(),c===p){i=zn(n,i,a);break e}Pt(n,i,c,a)}i=i.child}return i;case 5:return Df(i),n===null&&du(i),c=i.type,p=i.pendingProps,y=n!==null?n.memoizedProps:null,b=p.children,nu(c,p)?b=null:y!==null&&nu(c,y)&&(i.flags|=32),mp(n,i),Pt(n,i,b,a),i.child;case 6:return n===null&&du(i),null;case 13:return xp(n,i,a);case 4:return xu(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ki(i,null,c,a):Pt(n,i,c,a),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:dn(c,p),dp(n,i,c,p,a);case 7:return Pt(n,i,i.pendingProps,a),i.child;case 8:return Pt(n,i,i.pendingProps.children,a),i.child;case 12:return Pt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,y=i.memoizedProps,b=p.value,Me(oa,c._currentValue),c._currentValue=b,y!==null)if(un(y.value,b)){if(y.children===p.children&&!Lt.current){i=zn(n,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var j=y.dependencies;if(j!==null){b=y.child;for(var P=j.firstContext;P!==null;){if(P.context===c){if(y.tag===1){P=Fn(-1,a&-a),P.tag=2;var N=y.updateQueue;if(N!==null){N=N.shared;var W=N.pending;W===null?P.next=P:(P.next=W.next,W.next=P),N.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),gu(y.return,a,i),j.lanes|=a;break}P=P.next}}else if(y.tag===10)b=y.type===i.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(r(341));b.lanes|=a,j=b.alternate,j!==null&&(j.lanes|=a),gu(b,a,i),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===i){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}Pt(n,i,p.children,a),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,ji(i,a),p=Qt(p),c=c(p),i.flags|=1,Pt(n,i,c,a),i.child;case 14:return c=i.type,p=dn(c,i.pendingProps),p=dn(c.type,p),hp(n,i,c,p,a);case 15:return fp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:dn(c,p),va(n,i),i.tag=1,Dt(c)?(n=!0,ea(i)):n=!1,ji(i,a),ip(i,c,p),Ou(i,c,p,a),Mu(null,i,c,!0,n,a);case 19:return bp(n,i,a);case 22:return pp(n,i,a)}throw Error(r(156,i.tag))};function Hp(n,i){return _h(n,i)}function Ux(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(n,i,a,c){return new Ux(n,i,a,c)}function nc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wx(n){if(typeof n=="function")return nc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xe)return 11;if(n===ke)return 14}return 2}function gr(n,i){var a=n.alternate;return a===null?(a=en(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Pa(n,i,a,c,p,y){var b=2;if(c=n,typeof n=="function")nc(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case q:return Vr(a.children,p,y,i);case Y:b=8,p|=8;break;case D:return n=en(12,a,i,p|2),n.elementType=D,n.lanes=y,n;case ye:return n=en(13,a,i,p),n.elementType=ye,n.lanes=y,n;case Re:return n=en(19,a,i,p),n.elementType=Re,n.lanes=y,n;case ge:return Ra(a,p,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:b=10;break e;case ae:b=9;break e;case xe:b=11;break e;case ke:b=14;break e;case Be:b=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=en(b,a,i,p),i.elementType=n,i.type=c,i.lanes=y,i}function Vr(n,i,a,c){return n=en(7,n,c,i),n.lanes=a,n}function Ra(n,i,a,c){return n=en(22,n,c,i),n.elementType=ge,n.lanes=a,n.stateNode={isHidden:!1},n}function rc(n,i,a){return n=en(6,n,null,i),n.lanes=a,n}function ic(n,i,a){return i=en(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Hx(n,i,a,c,p){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function sc(n,i,a,c,p,y,b,j,P){return n=new Hx(n,i,a,j,P),i===1?(i=1,y===!0&&(i|=8)):i=0,y=en(3,null,null,i),n.current=y,y.stateNode=n,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(y),n}function qx(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function qp(n){if(!n)return ar;n=n._reactInternals;e:{if(Rr(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Dt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(Dt(a))return wf(n,a,i)}return i}function Kp(n,i,a,c,p,y,b,j,P){return n=sc(a,c,!0,n,p,y,b,j,P),n.context=qp(null),a=n.current,c=Rt(),p=pr(a),y=Fn(c,p),y.callback=i??null,cr(a,y,p),n.current.lanes=p,hs(n,p,c),Bt(n,c),n}function Aa(n,i,a,c){var p=i.current,y=Rt(),b=pr(p);return a=qp(a),i.context===null?i.context=a:i.pendingContext=a,i=Fn(y,b),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=cr(p,i,b),n!==null&&(pn(n,p,b,y),la(n,p,b)),b}function Oa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Gp(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function oc(n,i){Gp(n,i),(n=n.alternate)&&Gp(n,i)}function Kx(){return null}var Yp=typeof reportError=="function"?reportError:function(n){console.error(n)};function ac(n){this._internalRoot=n}Ia.prototype.render=ac.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));Aa(n,i,null,null)},Ia.prototype.unmount=ac.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;$r(function(){Aa(null,n,null,null)}),i[Dn]=null}};function Ia(n){this._internalRoot=n}Ia.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ah();n={blockedOn:null,target:n,priority:i};for(var a=0;a<nr.length&&i!==0&&i<nr[a].priority;a++);nr.splice(a,0,n),a===0&&Lh(n)}};function lc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function La(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function Gx(n,i,a,c,p){if(p){if(typeof c=="function"){var y=c;c=function(){var N=Oa(b);y.call(N)}}var b=Kp(i,c,n,0,null,!1,!1,"",Jp);return n._reactRootContainer=b,n[Dn]=b.current,js(n.nodeType===8?n.parentNode:n),$r(),b}for(;p=n.lastChild;)n.removeChild(p);if(typeof c=="function"){var j=c;c=function(){var N=Oa(P);j.call(N)}}var P=sc(n,0,!1,null,null,!1,!1,"",Jp);return n._reactRootContainer=P,n[Dn]=P.current,js(n.nodeType===8?n.parentNode:n),$r(function(){Aa(i,P,a,c)}),P}function Da(n,i,a,c,p){var y=a._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var j=p;p=function(){var P=Oa(b);j.call(P)}}Aa(i,b,n,p)}else b=Gx(a,i,n,p,c);return Oa(b)}Ph=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=ds(i.pendingLanes);a!==0&&(Ol(i,a|1),Bt(i,tt()),(je&6)===0&&(Ai=tt()+500,lr()))}break;case 13:$r(function(){var c=$n(n,1);if(c!==null){var p=Rt();pn(c,n,1,p)}}),oc(n,1)}},Il=function(n){if(n.tag===13){var i=$n(n,134217728);if(i!==null){var a=Rt();pn(i,n,134217728,a)}oc(n,134217728)}},Rh=function(n){if(n.tag===13){var i=pr(n),a=$n(n,i);if(a!==null){var c=Rt();pn(a,n,i,c)}oc(n,i)}},Ah=function(){return Ie},Oh=function(n,i){var a=Ie;try{return Ie=n,i()}finally{Ie=a}},ls=function(n,i,a){switch(i){case"input":if(jr(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var p=Xo(c);if(!p)throw Error(r(90));Gn(c),jr(c,p)}}}break;case"textarea":oi(n,a);break;case"select":i=a.value,i!=null&&In(n,!!a.multiple,i,!1)}},Ln=Zu,wt=$r;var Yx={usingClientEntryPoint:!1,Events:[Ps,vi,Xo,He,et,Zu]},Us={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bh(n),n===null?null:n.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Io=Ma.inject(Jx),_n=Ma}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx,$t.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(i))throw Error(r(200));return qx(n,i,null,a)},$t.createRoot=function(n,i){if(!lc(n))throw Error(r(299));var a=!1,c="",p=Yp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=sc(n,1,!1,null,null,a,!1,c,p),n[Dn]=i.current,js(n.nodeType===8?n.parentNode:n),new ac(i)},$t.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=bh(i),n=n===null?null:n.stateNode,n},$t.flushSync=function(n){return $r(n)},$t.hydrate=function(n,i,a){if(!La(i))throw Error(r(200));return Da(null,n,i,!0,a)},$t.hydrateRoot=function(n,i,a){if(!lc(n))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,p=!1,y="",b=Yp;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),i=Kp(i,null,n,1,a??null,p,!1,y,b),n[Dn]=i.current,js(n),c)for(n=0;n<c.length;n++)a=c[n],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new Ia(i)},$t.render=function(n,i,a){if(!La(i))throw Error(r(200));return Da(null,n,i,!1,a)},$t.unmountComponentAtNode=function(n){if(!La(n))throw Error(r(40));return n._reactRootContainer?($r(function(){Da(null,null,n,!1,function(){n._reactRootContainer=null,n[Dn]=null})}),!0):!1},$t.unstable_batchedUpdates=Zu,$t.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!La(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Da(n,i,a,!1,c)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var im;function ow(){if(im)return dc.exports;im=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dc.exports=sw(),dc.exports}var sm;function aw(){if(sm)return Na;sm=1;var t=ow();return Na.createRoot=t.createRoot,Na.hydrateRoot=t.hydrateRoot,Na}var lw=aw();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var om="popstate";function uw(t={}){function e(s,o){let{pathname:l,search:u,hash:d}=s.location;return Vc("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:oo(o)}return dw(e,r,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cw(){return Math.random().toString(36).substring(2,10)}function am(t,e){return{usr:t.state,key:t.key,idx:e}}function Vc(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ji(e):e,state:r,key:e&&e.key||s||cw()}}function oo({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ji(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function dw(t,e,r,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,d="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let C=g(),T=C==null?null:C-m;m=C,f&&f({action:d,location:k.location,delta:T})}function x(C,T){d="PUSH";let R=Vc(k.location,C,T);m=g()+1;let E=am(R,m),O=k.createHref(R);try{u.pushState(E,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(O)}l&&f&&f({action:d,location:k.location,delta:1})}function w(C,T){d="REPLACE";let R=Vc(k.location,C,T);m=g();let E=am(R,m),O=k.createHref(R);u.replaceState(E,"",O),l&&f&&f({action:d,location:k.location,delta:0})}function _(C){return hw(C)}let k={get action(){return d},get location(){return t(o,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(om,v),f=C,()=>{o.removeEventListener(om,v),f=null}},createHref(C){return e(o,C)},createURL:_,encodeLocation(C){let T=_(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:w,go(C){return u.go(C)}};return k}function hw(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Je(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:oo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function h0(t,e,r="/"){return fw(t,e,r,!1)}function fw(t,e,r,s){let o=typeof e=="string"?Ji(e):e,l=Hn(o.pathname||"/",r);if(l==null)return null;let u=f0(t);pw(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=Cw(l);d=_w(u[f],m,s)}return d}function f0(t,e=[],r=[],s="",o=!1){let l=(u,d,f=o,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=Wn([s,g.relativePath]),x=r.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),f0(u.children,e,x,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:bw(v,u.index),routesMeta:x})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let f of p0(u.path))l(u,d,!0,f)}),e}function p0(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=p0(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function pw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sw(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var mw=/^:[\w-]+$/,gw=3,yw=2,vw=1,xw=10,ww=-2,lm=t=>t==="*";function bw(t,e){let r=t.split("/"),s=r.length;return r.some(lm)&&(s+=ww),e&&(s+=yw),r.filter(o=>!lm(o)).reduce((o,l)=>o+(mw.test(l)?gw:l===""?vw:xw),s)}function Sw(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function _w(t,e,r=!1){let{routesMeta:s}=t,o={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],m=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=sl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),x=f.route;if(!v&&m&&r&&!s[s.length-1].route.index&&(v=sl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Wn([l,v.pathname]),pathnameBase:Pw(Wn([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Wn([l,v.pathnameBase]))}return u}function sl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=kw(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:v},x)=>{if(g==="*"){let _=d[x]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[x];return v&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function kw(t,e=!1,r=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Cw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function jw(t,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Ji(t):t;return{pathname:r?r.startsWith("/")?r:Ew(r,e):e,search:Rw(s),hash:Aw(o)}}function Ew(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function pc(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function m0(t){let e=Tw(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function g0(t,e,r,s=!1){let o;typeof t=="string"?o=Ji(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),pc("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),pc("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),pc("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}d=v>=0?e[v]:"/"}let f=jw(o,d),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),Pw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Aw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ow(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var Iw=["GET",...y0];new Set(Iw);var Qi=S.createContext(null);Qi.displayName="DataRouter";var xl=S.createContext(null);xl.displayName="DataRouterState";S.createContext(!1);var v0=S.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var Lw=S.createContext(new Map);Lw.displayName="Fetchers";var Dw=S.createContext(null);Dw.displayName="Await";var An=S.createContext(null);An.displayName="Navigation";var yo=S.createContext(null);yo.displayName="Location";var On=S.createContext({outlet:null,matches:[],isDataRoute:!1});On.displayName="Route";var Cd=S.createContext(null);Cd.displayName="RouteError";function Mw(t,{relative:e}={}){Je(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=S.useContext(An),{hash:o,pathname:l,search:u}=xo(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Wn([r,l])),s.createHref({pathname:d,search:u,hash:o})}function vo(){return S.useContext(yo)!=null}function bn(){return Je(vo(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(yo).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(t){S.useContext(An).static||S.useLayoutEffect(t)}function Ot(){let{isDataRoute:t}=S.useContext(On);return t?Yw():Nw()}function Nw(){Je(vo(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Qi),{basename:e,navigator:r}=S.useContext(An),{matches:s}=S.useContext(On),{pathname:o}=bn(),l=JSON.stringify(m0(s)),u=S.useRef(!1);return w0(()=>{u.current=!0}),S.useCallback((f,m={})=>{if(Rn(u.current,x0),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=g0(f,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wn([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,o,t])}S.createContext(null);function b0(){let{matches:t}=S.useContext(On),e=t[t.length-1];return e?e.params:{}}function xo(t,{relative:e}={}){let{matches:r}=S.useContext(On),{pathname:s}=bn(),o=JSON.stringify(m0(r));return S.useMemo(()=>g0(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function Bw(t,e){return S0(t,e)}function S0(t,e,r,s,o){Je(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(An),{matches:u}=S.useContext(On),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let R=v&&v.path||"";_0(m,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let x=bn(),w;if(e){let R=typeof e=="string"?Ji(e):e;Je(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=x;let _=w.pathname||"/",k=_;if(g!=="/"){let R=g.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=h0(t,{pathname:k});Rn(v||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Rn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Uw(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Wn([g,l.encodeLocation?l.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Wn([g,l.encodeLocation?l.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),u,r,s,o);return e&&T?S.createElement(yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function $w(){let t=Gw(),e=Ow(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:o},r):null,u)}var Fw=S.createElement($w,null),zw=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(On.Provider,{value:this.props.routeContext},S.createElement(Cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vw({routeContext:t,match:e,children:r}){let s=S.useContext(Qi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(On.Provider,{value:t},r)}function Uw(t,e=[],r=null,s=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let m=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(r)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:x}=r,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,v)=>{let x,w=!1,_=null,k=null;r&&(x=u&&g.route.id?u[g.route.id]:void 0,_=g.route.errorElement||Fw,d&&(f<0&&v===0?(_0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):f===v&&(w=!0,k=g.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,v+1)),T=()=>{let R;return x?R=_:w?R=k:g.route.Component?R=S.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,S.createElement(Vw,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:r!=null},children:R})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?S.createElement(zw,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:s}):T()},null)}function jd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(t){let e=S.useContext(Qi);return Je(e,jd(t)),e}function Hw(t){let e=S.useContext(xl);return Je(e,jd(t)),e}function qw(t){let e=S.useContext(On);return Je(e,jd(t)),e}function Ed(t){let e=qw(t),r=e.matches[e.matches.length-1];return Je(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Kw(){return Ed("useRouteId")}function Gw(){let t=S.useContext(Cd),e=Hw("useRouteError"),r=Ed("useRouteError");return t!==void 0?t:e.errors?.[r]}function Yw(){let{router:t}=Ww("useNavigate"),e=Ed("useNavigate"),r=S.useRef(!1);return w0(()=>{r.current=!0}),S.useCallback(async(o,l={})=>{Rn(r.current,x0),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var um={};function _0(t,e,r){!e&&!um[t]&&(um[t]=!0,Rn(!1,r))}S.memo(Jw);function Jw({routes:t,future:e,state:r,unstable_onError:s}){return S0(t,void 0,r,s,e)}function ot(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qw({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:l=!1}){Je(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof r=="string"&&(r=Ji(r));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:x="default"}=r,w=S.useMemo(()=>{let _=Hn(f,u);return _==null?null:{location:{pathname:_,search:m,hash:g,state:v,key:x},navigationType:s}},[u,f,m,g,v,x,s]);return Rn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(An.Provider,{value:d},S.createElement(yo.Provider,{children:e,value:w}))}function Xw({children:t,location:e}){return Bw(Uc(t),e)}function Uc(t,e=[]){let r=[];return S.Children.forEach(t,(s,o)=>{if(!S.isValidElement(s))return;let l=[...e,o];if(s.type===S.Fragment){r.push.apply(r,Uc(s.props.children,l));return}Je(s.type===ot,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Uc(s.props.children,l)),r.push(u)}),r}var Xa="get",Za="application/x-www-form-urlencoded";function wl(t){return t!=null&&typeof t.tagName=="string"}function Zw(t){return wl(t)&&t.tagName.toLowerCase()==="button"}function e2(t){return wl(t)&&t.tagName.toLowerCase()==="form"}function t2(t){return wl(t)&&t.tagName.toLowerCase()==="input"}function n2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r2(t,e){return t.button===0&&(!e||e==="_self")&&!n2(t)}var Ba=null;function i2(){if(Ba===null)try{new FormData(document.createElement("form"),0),Ba=!1}catch{Ba=!0}return Ba}var s2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mc(t){return t!=null&&!s2.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Za}"`),null):t}function o2(t,e){let r,s,o,l,u;if(e2(t)){let d=t.getAttribute("action");s=d?Hn(d,e):null,r=t.getAttribute("method")||Xa,o=mc(t.getAttribute("enctype"))||Za,l=new FormData(t)}else if(Zw(t)||t2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(s=f?Hn(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Xa,o=mc(t.getAttribute("formenctype"))||mc(d.getAttribute("enctype"))||Za,l=new FormData(d,t),!i2()){let{name:m,type:g,value:v}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(wl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Xa,s=null,o=Za,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a2(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Hn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function l2(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c2(t,e,r){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await l2(l,r);return u.links?u.links():[]}return[]}));return p2(s.flat(1).filter(u2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cm(t,e,r,s,o,l){let u=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function d2(t,e,{includeHydrateFallback:r}={}){return h2(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function h2(t){return[...new Set(t)]}function f2(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function p2(t,e){let r=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(f2(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function k0(){let t=S.useContext(Qi);return Td(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function m2(){let t=S.useContext(xl);return Td(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pd=S.createContext(void 0);Pd.displayName="FrameworkContext";function C0(){let t=S.useContext(Pd);return Td(t,"You must render this element inside a <HydratedRouter> element"),t}function g2(t,e){let r=S.useContext(Pd),[s,o]=S.useState(!1),[l,u]=S.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=T=>{T.forEach(R=>{u(R.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),S.useEffect(()=>{if(s){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[s]);let w=()=>{o(!0)},_=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Hs(d,w),onBlur:Hs(f,_),onMouseEnter:Hs(m,w),onMouseLeave:Hs(g,_),onTouchStart:Hs(v,w)}]:[!1,x,{}]}function Hs(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function y2({page:t,...e}){let{router:r}=k0(),s=S.useMemo(()=>h0(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?S.createElement(x2,{page:t,matches:s,...e}):null}function v2(t){let{manifest:e,routeModules:r}=C0(),[s,o]=S.useState([]);return S.useEffect(()=>{let l=!1;return c2(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),s}function x2({page:t,matches:e,...r}){let s=bn(),{manifest:o,routeModules:l}=C0(),{basename:u}=k0(),{loaderData:d,matches:f}=m2(),m=S.useMemo(()=>cm(t,e,f,o,s,"data"),[t,e,f,o,s]),g=S.useMemo(()=>cm(t,e,f,o,s,"assets"),[t,e,f,o,s]),v=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let _=new Set,k=!1;if(e.forEach(T=>{let R=o.routes[T.route.id];!R||!R.hasLoader||(!m.some(E=>E.route.id===T.route.id)&&T.route.id in d&&l[T.route.id]?.shouldRevalidate||R.hasClientLoader?k=!0:_.add(T.route.id))}),_.size===0)return[];let C=a2(t,u,"data");return k&&_.size>0&&C.searchParams.set("_routes",e.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[u,d,s,o,m,e,t,l]),x=S.useMemo(()=>d2(g,o),[g,o]),w=v2(g);return S.createElement(S.Fragment,null,v.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:k})=>S.createElement("link",{key:_,nonce:r.nonce,...k})))}function w2(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.9.4")}catch{}function b2({basename:t,children:e,window:r}){let s=S.useRef();s.current==null&&(s.current=uw({window:r,v5Compat:!0}));let o=s.current,[l,u]=S.useState({action:o.action,location:o.location}),d=S.useCallback(f=>{S.startTransition(()=>u(f))},[u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(Qw,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=S.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:g,viewTransition:v,...x},w){let{basename:_}=S.useContext(An),k=typeof m=="string"&&E0.test(m),C,T=!1;if(typeof m=="string"&&k&&(C=m,j0))try{let D=new URL(window.location.href),J=m.startsWith("//")?new URL(D.protocol+m):new URL(m),ae=Hn(J.pathname,_);J.origin===D.origin&&ae!=null?m=ae+J.search+J.hash:T=!0}catch{Rn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=Mw(m,{relative:o}),[E,O,B]=g2(s,x),F=C2(m,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:v});function q(D){e&&e(D),D.defaultPrevented||F(D)}let Y=S.createElement("a",{...x,...B,href:C||R,onClick:T||l?e:q,ref:w2(w,O),target:f,"data-discover":!k&&r==="render"?"true":void 0});return E&&!k?S.createElement(S.Fragment,null,Y,S.createElement(y2,{page:R})):Y});Et.displayName="Link";var S2=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:f,...m},g){let v=xo(u,{relative:m.relative}),x=bn(),w=S.useContext(xl),{navigator:_,basename:k}=S.useContext(An),C=w!=null&&R2(v)&&d===!0,T=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,R=x.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(R=R.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&k&&(E=Hn(E,k)||E);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=R===T||!o&&R.startsWith(T)&&R.charAt(O)==="/",F=E!=null&&(E===T||!o&&E.startsWith(T)&&E.charAt(T.length)==="/"),q={isActive:B,isPending:F,isTransitioning:C},Y=B?e:void 0,D;typeof s=="function"?D=s(q):D=[s,B?"active":null,F?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(q):l;return S.createElement(Et,{...m,"aria-current":Y,className:D,ref:g,style:J,to:u,viewTransition:d},typeof f=="function"?f(q):f)});S2.displayName="NavLink";var _2=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:l,method:u=Xa,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:v,...x},w)=>{let _=T2(),k=P2(d,{relative:m}),C=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&E0.test(d),R=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let O=E.nativeEvent.submitter,B=O?.getAttribute("formmethod")||u;_(O||E.currentTarget,{fetcherKey:e,method:B,navigate:r,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:v})};return S.createElement("form",{ref:w,method:C,action:k,onSubmit:s?f:R,...x,"data-discover":!T&&t==="render"?"true":void 0})});_2.displayName="Form";function k2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(t){let e=S.useContext(Qi);return Je(e,k2(t)),e}function C2(t,{target:e,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=Ot(),f=bn(),m=xo(t,{relative:l});return S.useCallback(g=>{if(r2(g,e)){g.preventDefault();let v=r!==void 0?r:oo(f)===oo(m);d(t,{replace:v,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,m,r,s,e,t,o,l,u])}var j2=0,E2=()=>`__${String(++j2)}__`;function T2(){let{router:t}=T0("useSubmit"),{basename:e}=S.useContext(An),r=Kw();return S.useCallback(async(s,o={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=o2(s,e);if(o.navigate===!1){let g=o.fetcherKey||E2();await t.fetch(g,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function P2(t,{relative:e}={}){let{basename:r}=S.useContext(An),s=S.useContext(On);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...xo(t||".",{relative:e})},u=bn();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Wn([r,l.pathname])),oo(l)}function R2(t,{relative:e}={}){let r=S.useContext(v0);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),o=xo(t,{relative:e});if(!r.isTransitioning)return!1;let l=Hn(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=Hn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return sl(o.pathname,u)!=null||sl(o.pathname,l)!=null}var P0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dm=Zr.createContext&&Zr.createContext(P0),A2=["attr","size","title"];function O2(t,e){if(t==null)return{};var r=I2(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function I2(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ol.apply(this,arguments)}function hm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hm(Object(r),!0).forEach(function(s){L2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hm(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function L2(t,e,r){return e=D2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2(t){var e=M2(t,"string");return typeof e=="symbol"?e:e+""}function M2(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R0(t){return t&&t.map((e,r)=>Zr.createElement(e.tag,al({key:r},e.attr),R0(e.child)))}function Ce(t){return e=>Zr.createElement(N2,ol({attr:al({},t.attr)},e),R0(t.child))}function N2(t){var e=r=>{var{attr:s,size:o,title:l}=t,u=O2(t,A2),d=o||r.size||"1em",f;return r.className&&(f=r.className),t.className&&(f=(f?f+" ":"")+t.className),Zr.createElement("svg",ol({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:f,style:al(al({color:t.color||r.color},r.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Zr.createElement("title",null,l),t.children)};return dm!==void 0?Zr.createElement(dm.Consumer,null,r=>e(r)):e(P0)}function B2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function $2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function fm(t){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function pm(t){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function F2(t){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function z2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function mm(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function gm(t){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ym(t){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function V2(t){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function U2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function vm(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function W2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function H2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Qs(t){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function q2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function el(t){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function ll(t){return Ce({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function K2(t){return Ce({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function G2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function Y2(t){return Ce({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function J2(t){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Q2(t){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}var Wc=function(t,e){return Wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Wc(t,e)};function A0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ul=function(){return ul=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ul.apply(this,arguments)};function Xi(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function O0(t,e,r,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function I0(t,e){return function(r,s){e(r,s,t)}}function L0(t,e,r,s,o,l){function u(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?s.static?t:t.prototype:null,g=e||(m?Object.getOwnPropertyDescriptor(m,s.name):{}),v,x=!1,w=r.length-1;w>=0;w--){var _={};for(var k in s)_[k]=k==="access"?{}:s[k];for(var k in s.access)_.access[k]=s.access[k];_.addInitializer=function(T){if(x)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(T||null))};var C=(0,r[w])(d==="accessor"?{get:g.get,set:g.set}:g[f],_);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=u(C.get))&&(g.get=v),(v=u(C.set))&&(g.set=v),(v=u(C.init))&&o.unshift(v)}else(v=u(C))&&(d==="field"?o.unshift(v):g[f]=v)}m&&Object.defineProperty(m,s.name,g),x=!0}function D0(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function M0(t){return typeof t=="symbol"?t:"".concat(t)}function N0(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function B0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ie(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{m(s.next(g))}catch(v){u(v)}}function f(g){try{m(s.throw(g))}catch(v){u(v)}}function m(g){g.done?l(g.value):o(g.value).then(d,f)}m((s=s.apply(t,e||[])).next())})}function $0(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(g){return f([m,g])}}function f(m){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(s=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(g){m=[6,g],o=0}finally{s=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var bl=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function F0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bl(e,t,r)}function cl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return l}function z0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rd(arguments[e]));return t}function V0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,o++)s[o]=l[u];return s}function U0(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Ki(t){return this instanceof Ki?(this.v=t,this):new Ki(t)}function W0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(_){return Promise.resolve(_).then(w,v)}}function d(w,_){s[w]&&(o[w]=function(k){return new Promise(function(C,T){l.push([w,k,C,T])>1||f(w,k)})},_&&(o[w]=_(o[w])))}function f(w,_){try{m(s[w](_))}catch(k){x(l[0][3],k)}}function m(w){w.value instanceof Ki?Promise.resolve(w.value.v).then(g,v):x(l[0][2],w)}function g(w){f("next",w)}function v(w){f("throw",w)}function x(w,_){w(_),l.shift(),l.length&&f(l[0][0],l[0][1])}}function H0(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Ki(t[o](u)),done:!1}:l?l(u):u}:l}}function q0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof cl=="function"?cl(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(l){r[l]=t[l]&&function(u){return new Promise(function(d,f){u=t[l](u),o(d,f,u.done,u.value)})}}function o(l,u,d,f){Promise.resolve(f).then(function(m){l({value:m,done:d})},u)}}function K0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var X2=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Hc=function(t){return Hc=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Hc(t)};function G0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Hc(t),s=0;s<r.length;s++)r[s]!=="default"&&bl(e,t,r[s]);return X2(e,t),e}function Y0(t){return t&&t.__esModule?t:{default:t}}function J0(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Q0(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function X0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Z0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var Z2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function ey(t){function e(l){t.error=t.hasError?new Z2(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function ty(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,l,u){return s?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const eb={__extends:A0,__assign:ul,__rest:Xi,__decorate:O0,__param:I0,__esDecorate:L0,__runInitializers:D0,__propKey:M0,__setFunctionName:N0,__metadata:B0,__awaiter:ie,__generator:$0,__createBinding:bl,__exportStar:F0,__values:cl,__read:Rd,__spread:z0,__spreadArrays:V0,__spreadArray:U0,__await:Ki,__asyncGenerator:W0,__asyncDelegator:H0,__asyncValues:q0,__makeTemplateObject:K0,__importStar:G0,__importDefault:Y0,__classPrivateFieldGet:J0,__classPrivateFieldSet:Q0,__classPrivateFieldIn:X0,__addDisposableResource:Z0,__disposeResources:ey,__rewriteRelativeImportExtension:ty},tb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Z0,get __assign(){return ul},__asyncDelegator:H0,__asyncGenerator:W0,__asyncValues:q0,__await:Ki,__awaiter:ie,__classPrivateFieldGet:J0,__classPrivateFieldIn:X0,__classPrivateFieldSet:Q0,__createBinding:bl,__decorate:O0,__disposeResources:ey,__esDecorate:L0,__exportStar:F0,__extends:A0,__generator:$0,__importDefault:Y0,__importStar:G0,__makeTemplateObject:K0,__metadata:B0,__param:I0,__propKey:M0,__read:Rd,__rest:Xi,__rewriteRelativeImportExtension:ty,__runInitializers:D0,__setFunctionName:N0,__spread:z0,__spreadArray:U0,__spreadArrays:V0,__values:cl,default:eb},Symbol.toStringTag,{value:"Module"})),nb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ad extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class xm extends Ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wm extends Ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bm extends Ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qc||(qc={}));class rb{constructor(e,{headers:r={},customFetch:s,region:o=qc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=nb(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(r,s={}){var o;try{const{headers:l,method:u,body:d,signal:f}=s;let m={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(m["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(m["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;const w=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:x,signal:f}).catch(T=>{throw T.name==="AbortError"?T:new xm(T)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new wm(w);if(!w.ok)throw new bm(w);let k=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return k==="application/json"?C=yield w.json():k==="application/octet-stream"||k==="application/pdf"?C=yield w.blob():k==="text/event-stream"?C=w:k==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new xm(l)}:{data:null,error:l,response:l instanceof bm||l instanceof wm?l.context:void 0}}})}}var Ct={};const Zi=Zx(tb);var $a={},Fa={},za={},Va={},Ua={},Wa={},Sm;function ny(){if(Sm)return Wa;Sm=1,Object.defineProperty(Wa,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wa.default=t,Wa}var _m;function ry(){if(_m)return Ua;_m=1,Object.defineProperty(Ua,"__esModule",{value:!0});const e=Zi.__importDefault(ny());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,g,v,x;let w=null,_=null,k=null,C=f.status,T=f.statusText;if(f.ok){if(this.method!=="HEAD"){const B=await f.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?_=B:_=JSON.parse(B))}const E=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),O=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&O&&O.length>1&&(k=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,C=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const E=await f.text();try{w=JSON.parse(E),Array.isArray(w)&&f.status===404&&(_=[],w=null,C=200,T="OK")}catch{f.status===404&&E===""?(C=204,T="No Content"):w={message:E}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,C=200,T="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:_,count:k,status:C,statusText:T}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,g,v;return{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:`${(g=f?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=f?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ua.default=r,Ua}var km;function iy(){if(km)return Va;km=1,Object.defineProperty(Va,"__esModule",{value:!0});const e=Zi.__importDefault(ry());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var g;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${x}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Va.default=r,Va}var Cm;function Od(){if(Cm)return za;Cm=1,Object.defineProperty(za,"__esModule",{value:!0});const e=Zi.__importDefault(iy()),r=new RegExp("[,()]");class s extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return za.default=s,za}var jm;function sy(){if(jm)return Fa;jm=1,Object.defineProperty(Fa,"__esModule",{value:!0});const e=Zi.__importDefault(Od());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,l){const{head:u=!1,count:d}=l??{},f=u?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Fa.default=r,Fa}var Em;function ib(){if(Em)return $a;Em=1,Object.defineProperty($a,"__esModule",{value:!0});const t=Zi,e=t.__importDefault(sy()),r=t.__importDefault(Od());class s{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:m}={}){var g;let v;const x=new URL(`${this.url}/rpc/${l}`);let w;d||f?(v=d?"HEAD":"GET",Object.entries(u).filter(([k,C])=>C!==void 0).map(([k,C])=>[k,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([k,C])=>{x.searchParams.append(k,C)})):(v="POST",w=u);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:v,url:x,headers:_,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return $a.default=s,$a}var Tm;function sb(){if(Tm)return Ct;Tm=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const t=Zi,e=t.__importDefault(ib());Ct.PostgrestClient=e.default;const r=t.__importDefault(sy());Ct.PostgrestQueryBuilder=r.default;const s=t.__importDefault(Od());Ct.PostgrestFilterBuilder=s.default;const o=t.__importDefault(iy());Ct.PostgrestTransformBuilder=o.default;const l=t.__importDefault(ry());Ct.PostgrestBuilder=l.default;const u=t.__importDefault(ny());return Ct.PostgrestError=u.default,Ct.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ct}var oy=sb();const ay=d0(oy),ob=Xx({__proto__:null,default:ay},[oy]),{PostgrestClient:ab,PostgrestQueryBuilder:mT,PostgrestFilterBuilder:gT,PostgrestTransformBuilder:yT,PostgrestBuilder:vT,PostgrestError:xT}=ay||ob;class lb{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ub="2.80.0",cb=`realtime-js/${ub}`,db="1.0.0",Kc=1e4,hb=1e3,fb=100;var Xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xs||(Xs={}));var ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ht||(ht={}));var wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wn||(wn={}));var Gc;(function(t){t.websocket="websocket"})(Gc||(Gc={}));var Gr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gr||(Gr={}));class pb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+o));u=u+o;const f=s.decode(e.slice(u,u+l));u=u+l;const m=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:f,payload:m}}}class ly{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ne||(Ne={}));const Pm=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=mb(u,t,e,o),l),{}):{}},mb=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=r[t];return l&&!s.includes(l)?uy(l,u):Yc(u)},uy=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return xb(e,r)}switch(t){case Ne.bool:return gb(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return yb(e);case Ne.json:case Ne.jsonb:return vb(e);case Ne.timestamp:return wb(e);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Yc(e);default:return Yc(e)}},Yc=t=>t,gb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>uy(e,d))}return t},wb=t=>typeof t=="string"?t.replace(" ","T"):t,cy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gc{constructor(e,r,s={},o=Kc){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rm||(Rm={}));class Zs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zs.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Zs.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zs.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},f={};return this.map(l,(m,g)=>{u[m]||(f[m]=g)}),this.map(u,(m,g)=>{const v=l[m];if(v){const x=g.map(C=>C.presence_ref),w=v.map(C=>C.presence_ref),_=g.filter(C=>w.indexOf(C.presence_ref)<0),k=v.filter(C=>x.indexOf(C.presence_ref)<0);_.length>0&&(d[m]=_),k.length>0&&(f[m]=k)}else d[m]=g}),this.syncDiff(l,{joins:d,leaves:f},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(f),g.length>0){const v=e[d].map(w=>w.presence_ref),x=g.filter(w=>v.indexOf(w.presence_ref)<0);e[d].unshift(...x)}s(d,g,f)}),this.map(u,(d,f)=>{let m=e[d];if(!m)return;const g=f.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=m,o(d,m,f),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Am;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Am||(Am={}));var eo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eo||(eo={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Id{constructor(e,r={config:{}},s){var o,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new ly(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Zs(this),this.broadcastEndpointURL=cy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,m=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[eo.PRESENCE]&&this.bindings[eo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Un.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){e?.(Un.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,C=(_=k?.length)!==null&&_!==void 0?_:0,T=[];for(let R=0;R<C;R++){const E=k[R],{filter:{event:O,schema:B,table:F,filter:q}}=E,Y=w&&w[R];if(Y&&Y.event===O&&Y.schema===B&&Y.table===F&&Y.filter===q)T.push(Object.assign(Object.assign({},E),{id:Y.id}));else{this.unsubscribe(),this.state=ht.errored,e?.(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Un.SUBSCRIBED);return}}).receive("error",w=>{this.state=ht.errored,e?.(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===ht.joined&&e===eo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new gc(this,wn.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gc(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:g}=wn;if(s&&[d,f,m,g].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var _,k,C;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(k=w.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(w=>w.callback(x,s)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var _,k,C,T,R,E;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const O=w.id,B=(_=w.filter)===null||_===void 0?void 0:_.event;return O&&((k=r.ids)===null||k===void 0?void 0:k.includes(O))&&(B==="*"||B?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const O=(R=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return O==="*"||O===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:k,table:C,commit_timestamp:T,type:R,errors:E}=_;x=Object.assign(Object.assign({},{schema:k,table:C,commit_timestamp:T,eventType:R,new:{},old:{},errors:E}),this._getPayloadRecords(_))}w.callback(x,s)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Id.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pm(e.columns,e.old_record)),r}}const yc=()=>{},Ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bb=[1e3,2e3,5e3,1e4],Sb=1e4,_b=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kb{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kc,this.transport=null,this.heartbeatIntervalMs=Ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yc,this.ref=0,this.reconnectTimer=null,this.logger=yc,this.conn=null,this.sendBuffer=[],this.serializer=new pb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Gc.websocket}`,this.httpEndpoint=cy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:db}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Xs.connecting:return Gr.Connecting;case Xs.open:return Gr.Open;case Xs.closing:return Gr.Closing;default:return Gr.Closed}}isConnected(){return this.connectionState()===Gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Id(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${s} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([_b],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:cb};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new ly(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,u,d,f,m,g;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Kc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ha.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:yc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>bb[v-1]||Sb),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((v,x)=>x(JSON.stringify(v))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ld extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cb extends Ld{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jc extends Ld{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Dd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jb=()=>Response,Qc=t=>{if(Array.isArray(t))return t.map(r=>Qc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Qc(s)}),e},Eb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Tb=(t,e,r)=>ie(void 0,void 0,void 0,function*(){const s=yield jb();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new Cb(vc(o),l,u))}).catch(o=>{e(new Jc(vc(o),o))}):e(new Jc(vc(t),t))}),Pb=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(Eb(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function wo(t,e,r,s,o,l){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,Pb(e,s,o,l)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>Tb(f,d,s))})})}function ao(t,e,r,s){return ie(this,void 0,void 0,function*(){return wo(t,"GET",e,r,s)})}function xn(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return wo(t,"POST",e,s,o,r)})}function Xc(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return wo(t,"PUT",e,s,o,r)})}function Rb(t,e,r,s){return ie(this,void 0,void 0,function*(){return wo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Md(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return wo(t,"DELETE",e,s,o,r)})}class Ab{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}}var dy;class Ob{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[dy]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ab(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ge(e))return{data:null,error:e};throw e}})}}dy=Symbol.toStringTag;const Ib={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lb{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=Dd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ie(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Om),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),v=yield(e=="PUT"?Xc:xn)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}upload(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ie(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:Om.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl)):(f=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield Xc(this.fetch,d.toString(),f,{headers:g});return{data:{path:l,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Ge(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield xn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Ld("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}update(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield xn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>ao(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Ob(f,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield ao(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}exists(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Rb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s)&&s instanceof Jc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}list(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Ib),r),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}listV2(e,r){return ie(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const hy="2.80.0",fy={"X-Client-Info":`storage-js/${hy}`};class Db{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fy),r),this.fetch=Dd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ao(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}createBucket(e){return ie(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Mb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fy),r),this.fetch=Dd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield ao(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}const Nd={"X-Client-Info":`storage-js/${hy}`,"Content-Type":"application/json"};class py extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class xc extends py{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nb extends py{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Im;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Im||(Im={}));const Bd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$b=(t,e,r)=>ie(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new xc(Lm(u),o,d))}).catch(()=>{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new xc(d,o,u))});else{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new xc(d,o,u))}}else e(new Nb(Lm(t),t))}),Fb=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return s?(Bb(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function zb(t,e,r,s,o,l){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,Fb(e,s,o,l)).then(f=>{if(!f.ok)throw f;if(s?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>$b(f,d,s))})})}function Kt(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return zb(t,"POST",e,s,o,r)})}class Vb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nd),r),this.fetch=Bd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class Ub{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nd),r),this.fetch=Bd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Kt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Kt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Kt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class Wb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nd),r),this.fetch=Bd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield Kt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Kt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class Hb extends Wb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new qb(this.url,this.headers,e,this.fetch)}}class qb extends Vb{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Kb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Kb extends Ub{constructor(e,r,s,o,l){super(e,r,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gb extends Db{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new Lb(this.url,this.headers,e,this.fetch)}get vectors(){return new Hb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mb(this.url+"/iceberg",this.headers,this.fetch)}}const Yb="2.80.0";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const Jb={"X-Client-Info":`supabase-js-${Ys}/${Yb}`},Qb={headers:Jb},Xb={schema:"public"},Zb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eS={},tS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nS=()=>Headers,rS=(t,e,r)=>{const s=tS(r),o=nS();return async(l,u)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},u),{headers:m}))}};function iS(t){return t.endsWith("/")?t:t+"/"}function sS(t,e){var r,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:f,auth:m,realtime:g,global:v}=e,x={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function oS(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const my="2.80.0",Bi=30*1e3,Zc=3,wc=Zc*Bi,aS="http://localhost:9999",lS="supabase.auth.token",uS={"X-Client-Info":`gotrue-js/${my}`},ed="X-Supabase-Api-Version",gy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dS=600*1e3;class lo extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hS extends lo{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function fS(t){return le(t)&&t.name==="AuthApiError"}class Yr extends lo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class kr extends lo{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class gn extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pS(t){return le(t)&&t.name==="AuthSessionMissingError"}class Ii extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qa extends kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ka extends kr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mS(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class Dm extends kr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class td extends kr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function bc(t){return le(t)&&t.name==="AuthRetryableFetchError"}class Mm extends kr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class nd extends kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),gS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Nm.length;e+=1)t[Nm[e].charCodeAt(0)]=-2;for(let e=0;e<dl.length;e+=1)t[dl[e].charCodeAt(0)]=e;return t})();function Bm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(dl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(dl[s]),e.queuedBits-=6}}function yy(t,e,r){const s=gS[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $m(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{xS(u,s,r)};for(let u=0;u<t.length;u+=1)yy(t.charCodeAt(u),o,l);return e.join("")}function yS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vS(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}yS(s,e)}}function xS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hi(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)yy(t.charCodeAt(o),r,s);return new Uint8Array(e)}function wS(t){const e=[];return vS(t,r=>e.push(r)),new Uint8Array(e)}function Jr(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Bm(o,r,s)),Bm(null,r,s),e.join("")}function bS(t){return Math.round(Date.now()/1e3)+t}function SS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},vy=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function _S(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const xy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$i=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vr=async(t,e)=>{await t.removeItem(e)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sl.promiseConstructor=Promise;function Sc(t){const e=t.split(".");if(e.length!==3)throw new nd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!cS.test(e[s]))throw new nd("JWT not in base64url format");return{header:JSON.parse($m(e[0])),payload:JSON.parse($m(e[1])),signature:Hi(e[2]),raw:{header:e[0],payload:e[1]}}}async function CS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function ES(t){return("0"+t.toString(16)).substr(-2)}function TS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,ES).join("")}async function PS(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function RS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await PS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(t,e,r=!1){const s=TS();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await $i(t,`${e}-code-verifier`,o);const l=await RS(s);return[l,s===l?"plain":"s256"]}const AS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OS(t){const e=t.headers.get(ed);if(!e||!e.match(AS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(t){if(!DS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _c(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MS(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Fm(t){return JSON.parse(JSON.stringify(t))}const qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NS=[502,503,504];async function zm(t){var e;if(!kS(t))throw new td(qr(t),0);if(NS.includes(t.status))throw new td(qr(t),t.status);let r;try{r=await t.json()}catch(l){throw new Yr(qr(l),l)}let s;const o=OS(t);if(o&&o.getTime()>=gy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Mm(qr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new gn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Mm(qr(r),t.status,r.weak_password.reasons);throw new hS(qr(r),t.status||500,s)}const BS=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function fe(t,e,r,s){var o;const l=Object.assign({},s?.headers);l[ed]||(l[ed]=gy["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await $S(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function $S(t,e,r,s,o,l){const u=BS(e,s,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new td(qr(f),0)}if(d.ok||await zm(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await zm(f)}}function yn(t){var e;let r=null;VS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Vm(t){const e=yn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function FS(t){return{data:t,error:null}}function zS(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,u=Xi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function Um(t){return t}function VS(t){return t.access_token&&t.refresh_token&&t.expires_in}const kc=["global","local","others"];class US{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=xy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=kc[0]){if(kc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Xi(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zS,redirectTo:r?.redirectTo})}catch(r){if(le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Um});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);m[`${C}Page`]=k}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(le(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Di(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Di(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Di(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Di(e.userId);try{const{data:r,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Di(e.userId),Di(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Um});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);m[`${C}Page`]=k}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(le(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}}function Wm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Mi={debug:!!(globalThis&&vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WS extends wy{}async function HS(t,e,r){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function by(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KS(t){return parseInt(t,16)}function GS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function YS(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:f,resources:m,scheme:g,uri:v,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=by(t.address),_=g?`${g}://${s}`:s,k=t.statement?`${t.statement}
`:"",C=`${_} wants you to sign in with your Ethereum account:
${w}

${k}`;let T=`URI: ${v}
Version: ${x}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),d&&(T+=`
Not Before: ${d.toISOString()}`),f&&(T+=`
Request ID: ${f}`),m){let R=`
Resources:`;for(const E of m){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);R+=`
- ${E}`}T+=R}return`${C}
${T}`}class at extends Error{constructor({message:e,code:r,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class hl extends at{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function JS({error:t,options:e}){var r,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(Sy(u)){if(l.rp.id!==u)return new at({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function QS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Sy(s)){if(r.rpId!==s)return new at({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class XS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZS=new XS;function e_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=Xi(t,["challenge","user","excludeCredentials"]),l=Hi(e).buffer,u=Object.assign(Object.assign({},r),{id:Hi(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Hi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function t_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Xi(t,["challenge","allowCredentials"]),o=Hi(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Hi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function n_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Jr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Jr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function r_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Jr(new Uint8Array(o.authenticatorData)),clientDataJSON:Jr(new Uint8Array(o.clientDataJSON)),signature:Jr(new Uint8Array(o.signature)),userHandle:o.userHandle?Jr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hm(){var t,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function i_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:JS({error:e,options:t})}}}async function s_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:QS({error:e,options:t})}}}const o_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},a_={userVerification:"preferred",hints:["security-key"]};function fl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(r(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=fl(d,u):s[l]=fl(u)}else s[l]=u}return s}function l_(t,e){return fl(o_,t,e||{})}function u_(t,e){return fl(a_,t,e||{})}class c_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const f=o??ZS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=l_(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await i_({publicKey:m,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const m=u_(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await s_(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new Yr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new lo("rpId is required for WebAuthn authentication")};try{if(!Hm())return{data:null,error:new Yr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:s,credential_response:f.credential_response}})}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new Yr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new lo("rpId is required for WebAuthn registration")};try{if(!Hm())return{data:null,error:new Yr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return le(u)?{data:null,error:u}:{data:null,error:new Yr("Unexpected error in register",u)}}}}qS();const d_={url:aS,storageKey:lS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qm(t,e,r){return await r()}const Ni={};class uo{get jwks(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},d_),e);if(this.storageKey=l.storageKey,this.instanceID=(r=uo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,uo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&jt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new US({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=xy(l.fetch),this.lock=l.lock||qm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:jt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=HS:this.lock=qm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${my}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(jt()&&(r=_S(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),jt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),mS(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return le(r)?this._returnResult({error:r}):this._returnResult({error:new Yr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:yn}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:g,password:v,options:x}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await Li(this.storage,this.storageKey)),l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:v,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:_},xform:yn})}else if("phone"in e){const{phone:g,password:v,options:x}=e;l=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:yn})}else throw new qa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else throw new qa("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new Ii;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,u,d,f,m,g,v,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:k,wallet:C,statement:T,options:R}=e;let E;if(jt())if(typeof C=="object")E=C;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")E=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const O=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),B=await E.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=by(B[0]);let q=(s=R?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const D=await E.request({method:"eth_chainId"});q=KS(D)}const Y={domain:O.host,address:F,statement:T,uri:O.href,version:"1",chainId:q,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=YS(Y),_=await E.request({method:"personal_sign",params:[GS(w),F]})}try{const{data:k,error:C}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:yn});if(C)throw C;if(!k||!k.session||!k.user){const T=new Ii;return this._returnResult({data:{user:null,session:null},error:T})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(le(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,s,o,l,u,d,f,m,g,v,x,w;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:C,wallet:T,statement:R,options:E}=e;let O;if(jt())if(typeof T=="object")O=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))O=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const B=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const F=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),R?{statement:R}:null));let q;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")q=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)q=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)_=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),k=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${B.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(g=E?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const F=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=F}}try{const{data:C,error:T}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Jr(k)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:yn});if(T)throw T;if(!C||!C.session||!C.user){const R=new Ii;return this._returnResult({data:{user:null,session:null},error:R})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:T})}catch(C){if(le(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Wr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:yn});if(await vr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Ii;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:u}=e,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:yn}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const g=new Ii;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,l,u;try{if("email"in e){const{email:d,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Li(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:f}=e,{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new qa("You must provide either an email or phone number.")}catch(d){if(le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:yn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Li(this.storage,this.storageKey));const d=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:FS});return this._returnResult(d)}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new gn;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(le(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new qa("You must provide either an email or phone number and a type")}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<wc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Wr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=_c()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=MS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wr}):await this._useSession(async r=>{var s,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:wr})})}catch(r){if(le(r))return pS(r)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new gn;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Li(this.storage,this.storageKey));const{data:m,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:wr});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(le(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gn;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:u}=Sc(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new gn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!jt())throw new Ka("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ka(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ka("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dm("No code detected.");const{data:R,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:m}=e;if(!l||!d||!u||!m)throw new Ka("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let x=g+v;f&&(x=parseInt(f));const w=x-g;w*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const _=x-v;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,g);const{data:k,error:C}=await this._getUser(l);if(C)throw C;const T={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:x,refresh_token:u,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(fS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=SS(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Li(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,f,m,g;const{data:v,error:x}=l;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return jt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(le(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:f,access_token:m,nonce:g}=e,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:yn}),{data:x,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ii}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)throw u;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await jS(async o=>(o>0&&await CS(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&bc(l)&&Date.now()+u-s<Bi})}catch(s){if(this._debug(r,"error",s),le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),jt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Wr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await $i(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:_c()}else if(o&&!o.user&&!o.user){const u=await Wr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await vr(this.storage,this.storageKey+"-user"),await $i(this.storage,this.storageKey,o)):o.user=_c()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${wc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),bc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Sl;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new gn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),le(l)){const u={data:null,error:l};return bc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await $i(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Fm(o);await $i(this.storage,this.storageKey,l)}else{const o=Fm(r);await $i(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Bi}ms, refresh threshold is ${Zc} ticks`),o<=Zc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Li(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?n_(e.webauthn.credential_response):r_(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:e_(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:t_(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sc(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new gn})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new gn});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&jt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new gn});const u=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&jt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+dS>o)return s;const{data:l,error:u}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:w,error:_}=await this.getSession();if(_||!w.session)return this._returnResult({data:null,error:_});s=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:f}}=Sc(s);r?.allowExpired||IS(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const g=LS(o.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,wS(`${d}.${f}`)))throw new nd("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}}uo.nextInstanceID={};const h_=uo;class f_ extends h_{constructor(e){super(e)}}class p_{constructor(e,r,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=oS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Xb,realtime:eS,auth:Object.assign(Object.assign({},Zb),{storageKey:f}),global:Qb},g=sS(s??{},m);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=rS(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new ab(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Gb(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new rb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:f,debug:m,throwOnError:g},v,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f_({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:f,debug:m,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new kb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m_=(t,e,r)=>new p_(t,e,r);function g_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}g_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y_="https://nduipqbquhuheuvkmstz.supabase.co",v_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kdWlwcWJxdWh1aGV1dmttc3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MTgxMjYsImV4cCI6MjA3NjE5NDEyNn0.fMxocAnbbdWI2WwJ1CT9v8Skiu_p9pgGEczG49dfdtc",se=m_(y_,v_),_y=S.createContext();function x_({children:t}){const[e,r]=S.useState(null),[s,o]=S.useState(!0),l=()=>"https://fetop.vercel.app/confirm",u=async(g,v,x)=>{if(!/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(g))throw new Error("Please use a valid Gmail address.");const{data:_,error:k}=await se.auth.signUp({email:g,password:v,options:{data:{full_name:x},redirectTo:l()}});if(k)throw k;return _.user},d=async(g,v)=>{const{data:x,error:w}=await se.auth.signInWithPassword({email:g,password:v});if(w)throw w;if(!x.user.email_confirmed_at)throw new Error("Please confirm your email first.");return r(x.user),x.user},f=async g=>{const{error:v}=await se.auth.resend({email:g,options:{redirectTo:l()}});if(v)throw v;return!0},m=async()=>{await se.auth.signOut(),r(null)};return S.useEffect(()=>{(async()=>{const{data:{session:x}}=await se.auth.getSession();r(x?.user||null),o(!1)})();const{data:v}=se.auth.onAuthStateChange((x,w)=>r(w?.user||null));return()=>v.subscription.unsubscribe()},[]),h.jsx(_y.Provider,{value:{authUser:e,signup:u,login:d,logout:m,loading:s,resendConfirmation:f},children:!s&&t})}function on(){return S.useContext(_y)}const ky=S.createContext(),bo=()=>S.useContext(ky);function w_({children:t}){const{authUser:e}=on(),[r,s]=S.useState([]),[o,l]=S.useState(null),[u,d]=S.useState(!1),f=S.useCallback(async()=>{if(!e){s([]),l(null);return}d(!0);try{let{data:w,error:_}=await se.from("cart").select("id").eq("user_id",e.id).maybeSingle();if(_)throw _;if(!w){const{data:T,error:R}=await se.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(R)throw R;w=T}l(w.id);const{data:k,error:C}=await se.from("cart_items").select(`
          id,
          quantity,
          product:product_id (
            id,
            name,
            price,
            discount_percent,
            stock_quantity,
            images
          )
        `).eq("cart_id",w.id);if(C)throw C;s(k||[])}catch(w){console.error("Cart load failed:",w),s([])}finally{d(!1)}},[e]);S.useEffect(()=>{f()},[e,f]);const m=S.useCallback(async(w,_=1)=>{if(!e)throw new Error("Login required");try{let k=o;if(!k){const{data:T,error:R}=await se.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(R)throw R;k=T.id,l(k)}const C=r.find(T=>T.product.id===w.id);if(C){const{error:T}=await se.from("cart_items").update({quantity:C.quantity+_}).eq("id",C.id);if(T)throw T;s(R=>R.map(E=>E.id===C.id?{...E,quantity:E.quantity+_}:E))}else{const{data:T,error:R}=await se.from("cart_items").insert([{cart_id:k,product_id:w.id,quantity:_}]).select(`
              id,
              quantity,
              product:product_id (
                id,
                name,
                price,
                discount_percent,
                stock_quantity,
                images
              )
            `).maybeSingle();if(R)throw R;s(E=>[...E,T])}}catch(k){throw console.error("Add to cart failed:",k),new Error("Failed to add to cart")}},[e,o,r]),g=S.useCallback(async(w,_)=>{if(!(_<1))try{const{error:k}=await se.from("cart_items").update({quantity:_}).eq("id",w);if(k)throw k;s(C=>C.map(T=>T.id===w?{...T,quantity:_}:T))}catch(k){console.error("Update quantity failed:",k)}},[]),v=S.useCallback(async w=>{try{const{error:_}=await se.from("cart_items").delete().eq("id",w);if(_)throw _;s(k=>k.filter(C=>C.id!==w))}catch(_){console.error("Remove from cart failed:",_)}},[]),x=S.useMemo(()=>r.reduce((w,_)=>w+(_.quantity||0),0),[r]);return h.jsx(ky.Provider,{value:{cartItems:r,cartId:o,loading:u,totalItems:x,addToCart:m,loadCart:f,updateQuantity:g,removeFromCart:v,setCartItems:s},children:t})}const $d=S.createContext({});function Fd(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const zd=typeof window<"u",Cy=zd?S.useLayoutEffect:S.useEffect,_l=S.createContext(null);function Vd(t,e){t.indexOf(e)===-1&&t.push(e)}function Ud(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const qn=(t,e,r)=>r>e?e:r<t?t:r;let Wd=()=>{};const Kn={},jy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ey(t){return typeof t=="object"&&t!==null}const Ty=t=>/^0[^.\s]+$/u.test(t);function Hd(t){let e;return()=>(e===void 0&&(e=t()),e)}const sn=t=>t,b_=(t,e)=>r=>e(t(r)),So=(...t)=>t.reduce(b_),co=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class qd{constructor(){this.subscriptions=[]}add(e){return Vd(this.subscriptions,e),()=>Ud(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tn=t=>t*1e3,rn=t=>t/1e3;function Py(t,e){return e?t*(1e3/e):0}const Ry=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,S_=1e-7,__=12;function k_(t,e,r,s,o){let l,u,d=0;do u=e+(r-e)/2,l=Ry(u,s,o)-t,l>0?r=u:e=u;while(Math.abs(l)>S_&&++d<__);return u}function _o(t,e,r,s){if(t===e&&r===s)return sn;const o=l=>k_(l,0,1,t,r);return l=>l===0||l===1?l:Ry(o(l),e,s)}const Ay=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Oy=t=>e=>1-t(1-e),Iy=_o(.33,1.53,.69,.99),Kd=Oy(Iy),Ly=Ay(Kd),Dy=t=>(t*=2)<1?.5*Kd(t):.5*(2-Math.pow(2,-10*(t-1))),Gd=t=>1-Math.sin(Math.acos(t)),My=Oy(Gd),Ny=Ay(Gd),C_=_o(.42,0,1,1),j_=_o(0,0,.58,1),By=_o(.42,0,.58,1),E_=t=>Array.isArray(t)&&typeof t[0]!="number",$y=t=>Array.isArray(t)&&typeof t[0]=="number",T_={linear:sn,easeIn:C_,easeInOut:By,easeOut:j_,circIn:Gd,circInOut:Ny,circOut:My,backIn:Kd,backInOut:Ly,backOut:Iy,anticipate:Dy},P_=t=>typeof t=="string",Km=t=>{if($y(t)){Wd(t.length===4);const[e,r,s,o]=t;return _o(e,r,s,o)}else if(P_(t))return T_[t];return t},Ga=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function R_(t,e){let r=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(m.schedule(g),t()),g(d)}const m={schedule:(g,v=!1,x=!1)=>{const _=x&&o?r:s;return v&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[r,s]=[s,r],r.forEach(f),r.clear(),o=!1,l&&(l=!1,m.process(g))}};return m}const A_=40;function Fy(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Ga.reduce((E,O)=>(E[O]=R_(l),E),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:g,update:v,preRender:x,render:w,postRender:_}=u,k=()=>{const E=Kn.useManualTiming?o.timestamp:performance.now();r=!1,Kn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,A_),1)),o.timestamp=E,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),g.process(o),v.process(o),x.process(o),w.process(o),_.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(k))},C=()=>{r=!0,s=!0,o.isProcessing||t(k)};return{schedule:Ga.reduce((E,O)=>{const B=u[O];return E[O]=(F,q=!1,Y=!1)=>(r||C(),B.schedule(F,q,Y)),E},{}),cancel:E=>{for(let O=0;O<Ga.length;O++)u[Ga[O]].cancel(E)},state:o,steps:u}}const{schedule:Ue,cancel:Sr,state:vt,steps:Cc}=Fy(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let tl;function O_(){tl=void 0}const zt={now:()=>(tl===void 0&&zt.set(vt.isProcessing||Kn.useManualTiming?vt.timestamp:performance.now()),tl),set:t=>{tl=t,queueMicrotask(O_)}},zy=t=>e=>typeof e=="string"&&e.startsWith(t),Yd=zy("--"),I_=zy("var(--"),Jd=t=>I_(t)?L_.test(t.split("/*")[0].trim()):!1,L_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ho={...es,transform:t=>qn(0,1,t)},Ya={...es,default:1},to=t=>Math.round(t*1e5)/1e5,Qd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D_(t){return t==null}const M_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xd=(t,e)=>r=>!!(typeof r=="string"&&M_.test(r)&&r.startsWith(t)||e&&!D_(r)&&Object.prototype.hasOwnProperty.call(r,e)),Vy=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,l,u,d]=s.match(Qd);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},N_=t=>qn(0,255,t),jc={...es,transform:t=>Math.round(N_(t))},Qr={test:Xd("rgb","red"),parse:Vy("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+jc.transform(t)+", "+jc.transform(e)+", "+jc.transform(r)+", "+to(ho.transform(s))+")"};function B_(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const rd={test:Xd("#"),parse:B_,transform:Qr.transform},ko=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=ko("deg"),Pn=ko("%"),pe=ko("px"),$_=ko("vh"),F_=ko("vw"),Gm={...Pn,parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)},Fi={test:Xd("hsl","hue"),parse:Vy("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Pn.transform(to(e))+", "+Pn.transform(to(r))+", "+to(ho.transform(s))+")"},lt={test:t=>Qr.test(t)||rd.test(t)||Fi.test(t),parse:t=>Qr.test(t)?Qr.parse(t):Fi.test(t)?Fi.parse(t):rd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qr.transform(t):Fi.transform(t),getAnimatableNone:t=>{const e=lt.parse(t);return e.alpha=0,lt.transform(e)}},z_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V_(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qd)?.length||0)+(t.match(z_)?.length||0)>0}const Uy="number",Wy="color",U_="var",W_="var(",Ym="${}",H_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fo(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(H_,f=>(lt.test(f)?(s.color.push(l),o.push(Wy),r.push(lt.parse(f))):f.startsWith(W_)?(s.var.push(l),o.push(U_),r.push(f)):(s.number.push(l),o.push(Uy),r.push(parseFloat(f))),++l,Ym)).split(Ym);return{values:r,split:d,indexes:s,types:o}}function Hy(t){return fo(t).values}function qy(t){const{split:e,types:r}=fo(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const d=r[u];d===Uy?l+=to(o[u]):d===Wy?l+=lt.transform(o[u]):l+=o[u]}return l}}const q_=t=>typeof t=="number"?0:lt.test(t)?lt.getAnimatableNone(t):t;function K_(t){const e=Hy(t);return qy(t)(e.map(q_))}const _r={test:V_,parse:Hy,createTransformer:qy,getAnimatableNone:K_};function Ec(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function G_({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,f=2*r-d;o=Ec(f,d,t+1/3),l=Ec(f,d,t),u=Ec(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function pl(t,e){return r=>r>0?e:t}const Ye=(t,e,r)=>t+(e-t)*r,Tc=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Y_=[rd,Qr,Fi],J_=t=>Y_.find(e=>e.test(t));function Jm(t){const e=J_(t);if(!e)return!1;let r=e.parse(t);return e===Fi&&(r=G_(r)),r}const Qm=(t,e)=>{const r=Jm(t),s=Jm(e);if(!r||!s)return pl(t,e);const o={...r};return l=>(o.red=Tc(r.red,s.red,l),o.green=Tc(r.green,s.green,l),o.blue=Tc(r.blue,s.blue,l),o.alpha=Ye(r.alpha,s.alpha,l),Qr.transform(o))},id=new Set(["none","hidden"]);function Q_(t,e){return id.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function X_(t,e){return r=>Ye(t,e,r)}function Zd(t){return typeof t=="number"?X_:typeof t=="string"?Jd(t)?pl:lt.test(t)?Qm:tk:Array.isArray(t)?Ky:typeof t=="object"?lt.test(t)?Qm:Z_:pl}function Ky(t,e){const r=[...t],s=r.length,o=t.map((l,u)=>Zd(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)r[u]=o[u](l);return r}}function Z_(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Zd(t[o])(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}}function ek(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],d=t.values[u]??0;r[o]=d,s[l]++}return r}const tk=(t,e)=>{const r=_r.createTransformer(e),s=fo(t),o=fo(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?id.has(t)&&!o.values.length||id.has(e)&&!s.values.length?Q_(t,e):So(Ky(ek(s,o),o.values),r):pl(t,e)};function Gy(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ye(t,e,r):Zd(t)(t,e)}const nk=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Ue.update(e,r),stop:()=>Sr(e),now:()=>vt.isProcessing?vt.timestamp:zt.now()}},Yy=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ml=2e4;function eh(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<ml;)e+=r,s=t.next(e);return e>=ml?1/0:e}function rk(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(eh(s),ml);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:rn(o)}}const ik=5;function Jy(t,e,r){const s=Math.max(e-ik,0);return Py(r-t(s),e-s)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pc=.001;function sk({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:r=Ze.velocity,mass:s=Ze.mass}){let o,l,u=1-e;u=qn(Ze.minDamping,Ze.maxDamping,u),t=qn(Ze.minDuration,Ze.maxDuration,rn(t)),u<1?(o=m=>{const g=m*u,v=g*t,x=g-r,w=sd(m,u),_=Math.exp(-v);return Pc-x/w*_},l=m=>{const v=m*u*t,x=v*r+r,w=Math.pow(u,2)*Math.pow(m,2)*t,_=Math.exp(-v),k=sd(Math.pow(m,2),u);return(-o(m)+Pc>0?-1:1)*((x-w)*_)/k}):(o=m=>{const g=Math.exp(-m*t),v=(m-r)*t+1;return-Pc+g*v},l=m=>{const g=Math.exp(-m*t),v=(r-m)*(t*t);return g*v});const d=5/t,f=ak(o,l,d);if(t=Tn(t),isNaN(f))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const ok=12;function ak(t,e,r){let s=r;for(let o=1;o<ok;o++)s=s-t(s)/e(s);return s}function sd(t,e){return t*Math.sqrt(1-e*e)}const lk=["duration","bounce"],uk=["stiffness","damping","mass"];function Xm(t,e){return e.some(r=>t[r]!==void 0)}function ck(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!Xm(t,uk)&&Xm(t,lk))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,l=2*qn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ze.mass,stiffness:o,damping:l}}else{const r=sk(t);e={...e,...r,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function gl(t=Ze.visualDuration,e=Ze.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:v,velocity:x,isResolvedFromDuration:w}=ck({...r,velocity:-rn(r.velocity||0)}),_=x||0,k=m/(2*Math.sqrt(f*g)),C=u-l,T=rn(Math.sqrt(f/g)),R=Math.abs(C)<5;s||(s=R?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=R?Ze.restDelta.granular:Ze.restDelta.default);let E;if(k<1){const B=sd(T,k);E=F=>{const q=Math.exp(-k*T*F);return u-q*((_+k*T*C)/B*Math.sin(B*F)+C*Math.cos(B*F))}}else if(k===1)E=B=>u-Math.exp(-T*B)*(C+(_+T*C)*B);else{const B=T*Math.sqrt(k*k-1);E=F=>{const q=Math.exp(-k*T*F),Y=Math.min(B*F,300);return u-q*((_+k*T*C)*Math.sinh(Y)+B*C*Math.cosh(Y))/B}}const O={calculatedDuration:w&&v||null,next:B=>{const F=E(B);if(w)d.done=B>=v;else{let q=B===0?_:0;k<1&&(q=B===0?Tn(_):Jy(E,B,F));const Y=Math.abs(q)<=s,D=Math.abs(u-F)<=o;d.done=Y&&D}return d.value=d.done?u:F,d},toString:()=>{const B=Math.min(eh(O),ml),F=Yy(q=>O.next(B*q).value,B,30);return B+"ms "+F},toTransition:()=>{}};return O}gl.applyToOptions=t=>{const e=rk(t,100,gl);return t.ease=e.ease,t.duration=Tn(e.duration),t.type="keyframes",t};function od({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},w=Y=>d!==void 0&&Y<d||f!==void 0&&Y>f,_=Y=>d===void 0?f:f===void 0||Math.abs(d-Y)<Math.abs(f-Y)?d:f;let k=r*e;const C=v+k,T=u===void 0?C:u(C);T!==C&&(k=T-v);const R=Y=>-k*Math.exp(-Y/s),E=Y=>T+R(Y),O=Y=>{const D=R(Y),J=E(Y);x.done=Math.abs(D)<=m,x.value=x.done?T:J};let B,F;const q=Y=>{w(x.value)&&(B=Y,F=gl({keyframes:[x.value,_(x.value)],velocity:Jy(E,Y,x.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return q(0),{calculatedDuration:null,next:Y=>{let D=!1;return!F&&B===void 0&&(D=!0,O(Y),q(Y)),B!==void 0&&Y>=B?F.next(Y-B):(!D&&O(Y),x)}}}function dk(t,e,r){const s=[],o=r||Kn.mix||Gy,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||sn:e;d=So(f,d)}s.push(d)}return s}function hk(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(Wd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=dk(e,s,o),f=d.length,m=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=co(t[v],t[v+1],g);return d[v](x)};return r?g=>m(qn(t[0],t[l-1],g)):m}function fk(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=co(0,e,s);t.push(Ye(r,1,o))}}function pk(t){const e=[0];return fk(e,t.length-1),e}function mk(t,e){return t.map(r=>r*e)}function gk(t,e){return t.map(()=>e||By).splice(0,t.length-1)}function no({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=E_(s)?s.map(Km):Km(s),l={done:!1,value:e[0]},u=mk(r&&r.length===e.length?r:pk(e),t),d=hk(u,e,{ease:Array.isArray(o)?o:gk(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const yk=t=>t!==null;function th(t,{repeat:e,repeatType:r="loop"},s,o=1){const l=t.filter(yk),d=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const vk={decay:od,inertia:od,tween:no,keyframes:no,spring:gl};function Qy(t){typeof t.type=="string"&&(t.type=vk[t.type])}class nh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const xk=t=>t/100;class rh extends nh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Qy(e);const{type:r=no,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const f=r||no;f!==no&&typeof d[0]!="number"&&(this.mixKeyframes=So(xk,Gy(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=eh(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:w,type:_,onUpdate:k,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,O=s;if(v){const Y=Math.min(this.currentTime,o)/d;let D=Math.floor(Y),J=Y%1;!J&&Y>=1&&(J=1),J===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(x==="reverse"?(J=1-J,w&&(J-=w/d)):x==="mirror"&&(O=u)),E=qn(0,1,J)*d}const B=R?{done:!1,value:g[0]}:O.next(E);l&&(B.value=l(B.value));let{done:F}=B;!R&&f!==null&&(F=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return q&&_!==od&&(B.value=th(g,this.options,C,this.speed)),k&&k(B.value),q&&this.finish(),B}then(e,r){return this.finished.then(e,r)}get duration(){return rn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rn(e)}get time(){return rn(this.currentTime)}set time(e){e=Tn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=rn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nk,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function wk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xr=t=>t*180/Math.PI,ad=t=>{const e=Xr(Math.atan2(t[1],t[0]));return ld(e)},bk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ad,rotateZ:ad,skewX:t=>Xr(Math.atan(t[1])),skewY:t=>Xr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ld=t=>(t=t%360,t<0&&(t+=360),t),Zm=ad,eg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Sk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eg,scaleY:tg,scale:t=>(eg(t)+tg(t))/2,rotateX:t=>ld(Xr(Math.atan2(t[6],t[5]))),rotateY:t=>ld(Xr(Math.atan2(-t[2],t[0]))),rotateZ:Zm,rotate:Zm,skewX:t=>Xr(Math.atan(t[4])),skewY:t=>Xr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ud(t){return t.includes("scale")?1:0}function cd(t,e){if(!t||t==="none")return ud(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=Sk,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=bk,o=d}if(!o)return ud(e);const l=s[e],u=o[1].split(",").map(kk);return typeof l=="function"?l(u):u[l]}const _k=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return cd(r,e)};function kk(t){return parseFloat(t.trim())}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ns=new Set(ts),ng=t=>t===es||t===pe,Ck=new Set(["x","y","z"]),jk=ts.filter(t=>!Ck.has(t));function Ek(t){const e=[];return jk.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const ei={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cd(e,"x"),y:(t,{transform:e})=>cd(e,"y")};ei.translateX=ei.x;ei.translateY=ei.y;const ti=new Set;let dd=!1,hd=!1,fd=!1;function Xy(){if(hd){const t=Array.from(ti).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=Ek(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hd=!1,dd=!1,ti.forEach(t=>t.complete(fd)),ti.clear()}function Zy(){ti.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hd=!0)})}function Tk(){fd=!0,Zy(),Xy(),fd=!1}class ih{constructor(e,r,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ti.add(this),dd||(dd=!0,Ue.read(Zy),Ue.resolveKeyframes(Xy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&r){const d=s.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}wk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ti.delete(this)}cancel(){this.state==="scheduled"&&(ti.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pk=t=>t.startsWith("--");function Rk(t,e,r){Pk(e)?t.style.setProperty(e,r):t.style[e]=r}const Ak=Hd(()=>window.ScrollTimeline!==void 0),Ok={};function Ik(t,e){const r=Hd(t);return()=>Ok[e]??r()}const ev=Ik(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Js=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,rg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Js([0,.65,.55,1]),circOut:Js([.55,0,1,.45]),backIn:Js([.31,.01,.66,-.59]),backOut:Js([.33,1.53,.69,.99])};function tv(t,e){if(t)return typeof t=="function"?ev()?Yy(t,e):"ease-out":$y(t)?Js(t):Array.isArray(t)?t.map(r=>tv(r,e)||rg.easeOut):rg[t]}function Lk(t,e,r,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},m=void 0){const g={[e]:r};f&&(g.offset=f);const v=tv(d,o);Array.isArray(v)&&(g.easing=v);const x={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function nv(t){return typeof t=="function"&&"applyToOptions"in t}function Dk({type:t,...e}){return nv(t)&&ev()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Mk extends nh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Wd(typeof e.type!="string");const m=Dk(e);this.animation=Lk(r,s,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=th(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):Rk(r,s,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return rn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rn(e)}get time(){return rn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ak()?(this.animation.timeline=e,sn):r(this)}}const rv={anticipate:Dy,backInOut:Ly,circInOut:Ny};function Nk(t){return t in rv}function Bk(t){typeof t.ease=="string"&&Nk(t.ease)&&(t.ease=rv[t.ease])}const ig=10;class $k extends Mk{constructor(e){Bk(e),Qy(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new rh({...u,autoplay:!1}),f=Tn(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-ig).value,d.sample(f).value,ig),d.stop()}}const sg=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_r.test(t)||t==="0")&&!t.startsWith("url("));function Fk(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function zk(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=sg(o,e),d=sg(l,e);return!u||!d?!1:Fk(t)||(r==="spring"||nv(r))&&s}function pd(t){t.duration=0,t.type="keyframes"}const Vk=new Set(["opacity","clipPath","filter","transform"]),Uk=Hd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wk(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return Uk()&&r&&Vk.has(r)&&(r!=="transform"||!m)&&!f&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const Hk=40;class qk extends nh{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zt.now();const x={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:l,repeatType:u,name:f,motionValue:m,element:g,...v},w=g?.KeyframeResolver||ih;this.keyframeResolver=new w(d,(_,k,C)=>this.onKeyframesResolved(_,k,x,!C),f,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:m,onUpdate:g}=s;this.resolvedAt=zt.now(),zk(e,l,u,d)||((Kn.instantAnimations||!f)&&g?.(th(e,s,r)),e[0]=e[e.length-1],pd(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Hk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},w=!m&&Wk(x)?new $k({...x,element:x.motionValue.owner.current}):new rh(x);w.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Tk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gk(t){const e=Kk.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function iv(t,e,r=1){const[s,o]=Gk(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return jy(u)?parseFloat(u):u}return Jd(o)?iv(o,e,r+1):o}function sh(t,e){return t?.[e]??t?.default??t}const sv=new Set(["width","height","top","left","right","bottom",...ts]),Yk={test:t=>t==="auto",parse:t=>t},ov=t=>e=>e.test(t),av=[es,pe,Pn,xr,F_,$_,Yk],og=t=>av.find(ov(t));function Jk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ty(t):!0}const Qk=new Set(["brightness","contrast","saturate","opacity"]);function Xk(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(Qd)||[];if(!s)return t;const o=r.replace(s,"");let l=Qk.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const Zk=/\b([a-z-]*)\(.*?\)/gu,md={..._r,getAnimatableNone:t=>{const e=t.match(Zk);return e?e.map(Xk).join(" "):t}},ag={...es,transform:Math.round},eC={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Ya,scaleX:Ya,scaleY:Ya,scaleZ:Ya,skew:xr,skewX:xr,skewY:xr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:ho,originX:Gm,originY:Gm,originZ:pe},oh={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...eC,zIndex:ag,fillOpacity:ho,strokeOpacity:ho,numOctaves:ag},tC={...oh,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:md,WebkitFilter:md},lv=t=>tC[t];function uv(t,e){let r=lv(t);return r!==md&&(r=_r),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const nC=new Set(["auto","none","0"]);function rC(t,e,r){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!nC.has(l)&&fo(l).values.length&&(o=t[s]),s++}if(o&&r)for(const l of e)t[l]=uv(r,o)}class iC extends ih{constructor(e,r,s,o,l){super(e,r,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Jd(m))){const g=iv(m,r.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!sv.has(s)||e.length!==2)return;const[o,l]=e,u=og(o),d=og(l);if(u!==d)if(ng(u)&&ng(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else ei[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||Jk(e[o]))&&s.push(o);s.length&&rC(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ei[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ei[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function sC(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=r?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const cv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function dv(t){return Ey(t)&&"offsetHeight"in t}const lg=30,oC=t=>!isNaN(parseFloat(t));class aC{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=zt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qd);const s=this.events[e].add(r);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,lg);return Py(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gi(t,e){return new aC(t,e)}const{schedule:ah}=Fy(queueMicrotask,!1),vn={x:!1,y:!1};function hv(){return vn.x||vn.y}function lC(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function fv(t,e){const r=sC(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function ug(t){return!(t.pointerType==="touch"||hv())}function uC(t,e,r={}){const[s,o,l]=fv(t,r),u=d=>{if(!ug(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const g=v=>{ug(v)&&(m(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const pv=(t,e)=>e?t===e?!0:pv(t,e.parentElement):!1,lh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dC(t){return cC.has(t.tagName)||t.tabIndex!==-1}const nl=new WeakSet;function cg(t){return e=>{e.key==="Enter"&&t(e)}}function Rc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hC=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=cg(()=>{if(nl.has(r))return;Rc(r,"down");const o=cg(()=>{Rc(r,"up")}),l=()=>Rc(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function dg(t){return lh(t)&&!hv()}function fC(t,e,r={}){const[s,o,l]=fv(t,r),u=d=>{const f=d.currentTarget;if(!dg(d))return;nl.add(f);const m=e(f,d),g=(w,_)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),nl.has(f)&&nl.delete(f),dg(w)&&typeof m=="function"&&m(w,{success:_})},v=w=>{g(w,f===window||f===document||r.useGlobalTarget||pv(f,w.target))},x=w=>{g(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),dv(d)&&(d.addEventListener("focus",m=>hC(m,o)),!dC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function mv(t){return Ey(t)&&"ownerSVGElement"in t}function pC(t){return mv(t)&&t.tagName==="svg"}const Tt=t=>!!(t&&t.getVelocity),mC=[...av,lt,_r],gC=t=>mC.find(ov(t)),uh=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yC(...t){return e=>{let r=!1;const s=t.map(o=>{const l=hg(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():hg(t[o],null)}}}}function vC(...t){return S.useCallback(yC(...t),t)}class xC extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=dv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wC({children:t,isPresent:e,anchorX:r,root:s}){const o=S.useId(),l=S.useRef(null),u=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=S.useContext(uh),f=vC(l,t?.ref);return S.useInsertionEffect(()=>{const{width:m,height:g,top:v,left:x,right:w}=u.current;if(e||!l.current||!m||!g)return;const _=r==="left"?`left: ${x}`:`right: ${w}`;l.current.dataset.motionPopId=o;const k=document.createElement("style");d&&(k.nonce=d);const C=s??document.head;return C.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${_}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(k)&&C.removeChild(k)}},[e]),h.jsx(xC,{isPresent:e,childRef:l,sizeRef:u,children:S.cloneElement(t,{ref:f})})}const bC=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:f})=>{const m=Fd(SC),g=S.useId();let v=!0,x=S.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:r,custom:o,onExitComplete:w=>{m.set(w,!0);for(const _ of m.values())if(!_)return;s&&s()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[r,m,s]);return l&&v&&(x={...x}),S.useMemo(()=>{m.forEach((w,_)=>m.set(_,!1))},[r]),S.useEffect(()=>{!r&&!m.size&&s&&s()},[r]),u==="popLayout"&&(t=h.jsx(wC,{isPresent:r,anchorX:d,root:f,children:t})),h.jsx(_l.Provider,{value:x,children:t})};function SC(){return new Map}function gv(t=!0){const e=S.useContext(_l);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,l=S.useId();S.useEffect(()=>{if(t)return o(l)},[t]);const u=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!r&&s?[!1,u]:[!0]}const Ja=t=>t.key||"";function fg(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const br=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[m,g]=gv(u),v=S.useMemo(()=>fg(t),[t]),x=u&&!m?[]:v.map(Ja),w=S.useRef(!0),_=S.useRef(v),k=Fd(()=>new Map),[C,T]=S.useState(v),[R,E]=S.useState(v);Cy(()=>{w.current=!1,_.current=v;for(let F=0;F<R.length;F++){const q=Ja(R[F]);x.includes(q)?k.delete(q):k.get(q)!==!0&&k.set(q,!1)}},[R,x.length,x.join("-")]);const O=[];if(v!==C){let F=[...v];for(let q=0;q<R.length;q++){const Y=R[q],D=Ja(Y);x.includes(D)||(F.splice(q,0,Y),O.push(Y))}return l==="wait"&&O.length&&(F=O),E(fg(F)),T(v),null}const{forceRender:B}=S.useContext($d);return h.jsx(h.Fragment,{children:R.map(F=>{const q=Ja(F),Y=u&&!m?!1:v===R||x.includes(q),D=()=>{if(k.has(q))k.set(q,!0);else return;let J=!0;k.forEach(ae=>{ae||(J=!1)}),J&&(B?.(),E(_.current),u&&g?.(),s&&s())};return h.jsx(bC,{isPresent:Y,initial:!w.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:Y?void 0:D,anchorX:d,children:F},q)})})},yv=S.createContext({strict:!1}),pg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yi={};for(const t in pg)Yi[t]={isEnabled:e=>pg[t].some(r=>!!e[r])};function _C(t){for(const e in t)Yi[e]={...Yi[e],...t[e]}}const kC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kC.has(t)}let vv=t=>!yl(t);function CC(t){typeof t=="function"&&(vv=e=>e.startsWith("on")?!yl(e):t(e))}try{CC(require("@emotion/is-prop-valid").default)}catch{}function jC(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(vv(o)||r===!0&&yl(o)||!e&&!yl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const kl=S.createContext({});function Cl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function po(t){return typeof t=="string"||Array.isArray(t)}const ch=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dh=["initial",...ch];function jl(t){return Cl(t.animate)||dh.some(e=>po(t[e]))}function xv(t){return!!(jl(t)||t.variants)}function EC(t,e){if(jl(t)){const{initial:r,animate:s}=t;return{initial:r===!1||po(r)?r:void 0,animate:po(s)?s:void 0}}return t.inherit!==!1?e:{}}function TC(t){const{initial:e,animate:r}=EC(t,S.useContext(kl));return S.useMemo(()=>({initial:e,animate:r}),[mg(e),mg(r)])}function mg(t){return Array.isArray(t)?t.join(" "):t}const mo={};function PC(t){for(const e in t)mo[e]=t[e],Yd(e)&&(mo[e].isCSSVariable=!0)}function wv(t,{layout:e,layoutId:r}){return ns.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!mo[t]||t==="opacity")}const RC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AC=ts.length;function OC(t,e,r){let s="",o=!0;for(let l=0;l<AC;l++){const u=ts[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const m=cv(d,oh[u]);if(!f){o=!1;const g=RC[u]||u;s+=`${g}(${m}) `}r&&(e[u]=m)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function hh(t,e,r){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const m=e[f];if(ns.has(f)){u=!0;continue}else if(Yd(f)){o[f]=m;continue}else{const g=cv(m,oh[f]);f.startsWith("origin")?(d=!0,l[f]=g):s[f]=g}}if(e.transform||(u||r?s.transform=OC(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const fh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bv(t,e,r){for(const s in e)!Tt(e[s])&&!wv(s,r)&&(t[s]=e[s])}function IC({transformTemplate:t},e){return S.useMemo(()=>{const r=fh();return hh(r,e,t),Object.assign({},r.vars,r.style)},[e])}function LC(t,e){const r=t.style||{},s={};return bv(s,r,t),Object.assign(s,IC(t,e)),s}function DC(t,e){const r={},s=LC(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const MC={offset:"stroke-dashoffset",array:"stroke-dasharray"},NC={offset:"strokeDashoffset",array:"strokeDasharray"};function BC(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?MC:NC;t[l.offset]=pe.transform(-s);const u=pe.transform(e),d=pe.transform(r);t[l.array]=`${u} ${d}`}function Sv(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,m,g){if(hh(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),s!==void 0&&(v.scale=s),o!==void 0&&BC(v,o,l,u,!1)}const _v=()=>({...fh(),attrs:{}}),kv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $C(t,e,r,s){const o=S.useMemo(()=>{const l=_v();return Sv(l,e,kv(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};bv(l,t.style,t),o.style={...l,...o.style}}return o}const FC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ph(t){return typeof t!="string"||t.includes("-")?!1:!!(FC.indexOf(t)>-1||/[A-Z]/u.test(t))}function zC(t,e,r,{latestValues:s},o,l=!1){const d=(ph(t)?$C:DC)(e,s,o,t),f=jC(e,typeof t=="string",l),m=t!==S.Fragment?{...f,...d,ref:r}:{},{children:g}=e,v=S.useMemo(()=>Tt(g)?g.get():g,[g]);return S.createElement(t,{...m,children:v})}function gg(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function mh(t,e,r,s){if(typeof e=="function"){const[o,l]=gg(s);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=gg(s);e=e(r!==void 0?r:t.custom,o,l)}return e}function rl(t){return Tt(t)?t.get():t}function VC({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:UC(r,s,o,t),renderState:e()}}function UC(t,e,r,s){const o={},l=s(t,{});for(const x in l)o[x]=rl(l[x]);let{initial:u,animate:d}=t;const f=jl(t),m=xv(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const v=g?d:u;if(v&&typeof v!="boolean"&&!Cl(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const _=mh(t,x[w]);if(_){const{transitionEnd:k,transition:C,...T}=_;for(const R in T){let E=T[R];if(Array.isArray(E)){const O=g?E.length-1:0;E=E[O]}E!==null&&(o[R]=E)}for(const R in k)o[R]=k[R]}}}return o}const Cv=t=>(e,r)=>{const s=S.useContext(kl),o=S.useContext(_l),l=()=>VC(t,e,s,o);return r?l():Fd(l)};function gh(t,e,r){const{style:s}=t,o={};for(const l in s)(Tt(s[l])||e.style&&Tt(e.style[l])||wv(l,t)||r?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const WC=Cv({scrapeMotionValuesFromProps:gh,createRenderState:fh});function jv(t,e,r){const s=gh(t,e,r);for(const o in t)if(Tt(t[o])||Tt(e[o])){const l=ts.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const HC=Cv({scrapeMotionValuesFromProps:jv,createRenderState:_v}),qC=Symbol.for("motionComponentSymbol");function zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KC(t,e,r){return S.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):zi(r)&&(r.current=s))},[e])}const yh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GC="framerAppearId",Ev="data-"+yh(GC),Tv=S.createContext({});function YC(t,e,r,s,o){const{visualElement:l}=S.useContext(kl),u=S.useContext(yv),d=S.useContext(_l),f=S.useContext(uh).reducedMotion,m=S.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,v=S.useContext(Tv);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&JC(m.current,r,o,v);const x=S.useRef(!1);S.useInsertionEffect(()=>{g&&x.current&&g.update(r,d)});const w=r[Ev],_=S.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Cy(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),S.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),_.current=!1),g.enteringChildren=void 0)}),g}function JC(t,e,r,s){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Pv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&zi(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:m})}function Pv(t){if(t)return t.options.allowProjection!==!1?t.projection:Pv(t.parent)}function Ac(t,{forwardMotionProps:e=!1}={},r,s){r&&_C(r);const o=ph(t)?HC:WC;function l(d,f){let m;const g={...S.useContext(uh),...d,layoutId:QC(d)},{isStatic:v}=g,x=TC(d),w=o(d,v);if(!v&&zd){XC();const _=ZC(g);m=_.MeasureLayout,x.visualElement=YC(t,w,g,s,_.ProjectionNode)}return h.jsxs(kl.Provider,{value:x,children:[m&&x.visualElement?h.jsx(m,{visualElement:x.visualElement,...g}):null,zC(t,d,KC(w,x.visualElement,f),w,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=S.forwardRef(l);return u[qC]=t,u}function QC({layoutId:t}){const e=S.useContext($d).id;return e&&t!==void 0?e+"-"+t:t}function XC(t,e){S.useContext(yv).strict}function ZC(t){const{drag:e,layout:r}=Yi;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ej(t,e){if(typeof Proxy>"u")return Ac;const r=new Map,s=(l,u)=>Ac(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(r.has(u)||r.set(u,Ac(u,void 0,t,e)),r.get(u))})}function Rv({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function tj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nj(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Oc(t){return t===void 0||t===1}function gd({scale:t,scaleX:e,scaleY:r}){return!Oc(t)||!Oc(e)||!Oc(r)}function Kr(t){return gd(t)||Av(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Av(t){return yg(t.x)||yg(t.y)}function yg(t){return t&&t!=="0%"}function vl(t,e,r){const s=t-r,o=e*s;return r+o}function vg(t,e,r,s,o){return o!==void 0&&(t=vl(t,o,s)),vl(t,r,s)+e}function yd(t,e=0,r=1,s,o){t.min=vg(t.min,e,r,s,o),t.max=vg(t.max,e,r,s,o)}function Ov(t,{x:e,y:r}){yd(t.x,e.translate,e.scale,e.originPoint),yd(t.y,r.translate,r.scale,r.originPoint)}const xg=.999999999999,wg=1.0000000000001;function rj(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ui(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Ov(t,u)),s&&Kr(l.latestValues)&&Ui(t,l.latestValues))}e.x<wg&&e.x>xg&&(e.x=1),e.y<wg&&e.y>xg&&(e.y=1)}function Vi(t,e){t.min=t.min+e,t.max=t.max+e}function bg(t,e,r,s,o=.5){const l=Ye(t.min,t.max,o);yd(t,e,r,l,s)}function Ui(t,e){bg(t.x,e.x,e.scaleX,e.scale,e.originX),bg(t.y,e.y,e.scaleY,e.scale,e.originY)}function Iv(t,e){return Rv(nj(t.getBoundingClientRect(),e))}function ij(t,e,r){const s=Iv(t,r),{scroll:o}=e;return o&&(Vi(s.x,o.offset.x),Vi(s.y,o.offset.y)),s}const Sg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:Sg(),y:Sg()}),_g=()=>({min:0,max:0}),rt=()=>({x:_g(),y:_g()}),vd={current:null},Lv={current:!1};function sj(){if(Lv.current=!0,!!zd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vd.current=t.matches;t.addEventListener("change",e),e()}else vd.current=!1}const oj=new WeakMap;function aj(t,e,r){for(const s in e){const o=e[s],l=r[s];if(Tt(o))t.addValue(s,o);else if(Tt(l))t.addValue(s,Gi(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,Gi(u!==void 0?u:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const kg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lj{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ih,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=zt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ue.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=jl(r),this.isVariantNode=xv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in v){const w=v[x];f[x]!==void 0&&Tt(w)&&w.set(f[x])}}mount(e){this.current=e,oj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Lv.current||sj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sr(this.notifyUpdate),Sr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ns.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yi){const r=Yi[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<kg.length;s++){const o=kg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=aj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Gi(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(jy(s)||Ty(s))?s=parseFloat(s):!gC(s)&&_r.test(r)&&(s=uv(e,r)),this.setBaseTarget(e,Tt(s)?s.get():s)),Tt(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=mh(this.props,r,this.presenceContext?.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Tt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){ah.render(this.render)}}class Dv extends lj{constructor(){super(...arguments),this.KeyframeResolver=iC}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Mv(t,{style:e,vars:r},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in r)l.setProperty(u,r[u])}function uj(t){return window.getComputedStyle(t)}class cj extends Dv{constructor(){super(...arguments),this.type="html",this.renderInstance=Mv}readValueFromInstance(e,r){if(ns.has(r))return this.projection?.isProjecting?ud(r):_k(e,r);{const s=uj(e),o=(Yd(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Iv(e,r)}build(e,r,s){hh(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return gh(e,r,s)}}const Nv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dj(t,e,r,s){Mv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Nv.has(o)?o:yh(o),e.attrs[o])}class hj extends Dv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ns.has(r)){const s=lv(r);return s&&s.default||0}return r=Nv.has(r)?r:yh(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return jv(e,r,s)}build(e,r,s){Sv(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){dj(e,r,s,o)}mount(e){this.isSVGTag=kv(e.tagName),super.mount(e)}}const fj=(t,e)=>ph(t)?new hj(e):new cj(e,{allowProjection:t!==S.Fragment});function qi(t,e,r){const s=t.getProps();return mh(s,e,r!==void 0?r:s.custom,t)}const xd=t=>Array.isArray(t);function pj(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Gi(r))}function mj(t){return xd(t)?t[t.length-1]||0:t}function gj(t,e){const r=qi(t,e);let{transitionEnd:s={},transition:o={},...l}=r||{};l={...l,...s};for(const u in l){const d=mj(l[u]);pj(t,u,d)}}function yj(t){return!!(Tt(t)&&t.add)}function wd(t,e){const r=t.getValue("willChange");if(yj(r))return r.add(e);if(!r&&Kn.WillChange){const s=new Kn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Bv(t){return t.props[Ev]}const vj=t=>t!==null;function xj(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(vj),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const wj={type:"spring",stiffness:500,damping:25,restSpeed:10},bj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Sj={type:"keyframes",duration:.8},_j={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kj=(t,{keyframes:e})=>e.length>2?Sj:ns.has(t)?t.startsWith("scale")?bj(e[1]):wj:_j;function Cj({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const vh=(t,e,r,s={},o,l)=>u=>{const d=sh(s,t)||{},f=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Tn(f);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};Cj(d)||Object.assign(g,kj(t,g)),g.duration&&(g.duration=Tn(g.duration)),g.repeatDelay&&(g.repeatDelay=Tn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(pd(g),g.delay===0&&(v=!0)),(Kn.instantAnimations||Kn.skipAnimations)&&(v=!0,pd(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const x=xj(g.keyframes,d);if(x!==void 0){Ue.update(()=>{g.onUpdate(x),g.onComplete()});return}}return d.isSync?new rh(g):new qk(g)};function jj({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function $v(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const f=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),x=d[g];if(x===void 0||m&&jj(m,g))continue;const w={delay:r,...sh(l||{},g)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===_&&!w.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=Bv(t);if(T){const R=window.MotionHandoffAnimation(T,g,Ue);R!==null&&(w.startTime=R,k=!0)}}wd(t,g),v.start(vh(g,v,x,t.shouldReduceMotion&&sv.has(g)?{type:!1}:w,t,k));const C=v.animation;C&&f.push(C)}return u&&Promise.all(f).then(()=>{Ue.update(()=>{u&&gj(t,u)})}),f}function Fv(t,e,r,s=0,o=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*s;return typeof r=="function"?r(l,u):o===1?l*s:d-l*s}function bd(t,e,r={}){const s=qi(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all($v(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=o;return Ej(t,e,f,m,g,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(r.delay)])}function Ej(t,e,r=0,s=0,o=0,l=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(bd(f,e,{...u,delay:r+(typeof s=="function"?0:s)+Fv(t.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function Tj(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>bd(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=bd(t,e,r);else{const o=typeof e=="function"?qi(t,e,r.custom):e;s=Promise.all($v(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function zv(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const Pj=dh.length;function Vv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Vv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Pj;r++){const s=dh[r],o=t.props[s];(po(o)||o===!1)&&(e[s]=o)}return e}const Rj=[...ch].reverse(),Aj=ch.length;function Oj(t){return e=>Promise.all(e.map(({animation:r,options:s})=>Tj(t,r,s)))}function Ij(t){let e=Oj(t),r=Cg(),s=!0;const o=f=>(m,g)=>{const v=qi(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:w,..._}=v;m={...m,..._,...w}}return m};function l(f){e=f(t)}function u(f){const{props:m}=t,g=Vv(t.parent)||{},v=[],x=new Set;let w={},_=1/0;for(let C=0;C<Aj;C++){const T=Rj[C],R=r[T],E=m[T]!==void 0?m[T]:g[T],O=po(E),B=T===f?R.isActive:null;B===!1&&(_=C);let F=E===g[T]&&E!==m[T]&&O;if(F&&s&&t.manuallyAnimateOnMount&&(F=!1),R.protectedKeys={...w},!R.isActive&&B===null||!E&&!R.prevProp||Cl(E)||typeof E=="boolean")continue;const q=Lj(R.prevProp,E);let Y=q||T===f&&R.isActive&&!F&&O||C>_&&O,D=!1;const J=Array.isArray(E)?E:[E];let ae=J.reduce(o(T),{});B===!1&&(ae={});const{prevResolvedValues:xe={}}=R,ye={...xe,...ae},Re=ge=>{Y=!0,x.has(ge)&&(D=!0,x.delete(ge)),R.needsAnimating[ge]=!0;const G=t.getValue(ge);G&&(G.liveStyle=!1)};for(const ge in ye){const G=ae[ge],oe=xe[ge];if(w.hasOwnProperty(ge))continue;let Q=!1;xd(G)&&xd(oe)?Q=!zv(G,oe):Q=G!==oe,Q?G!=null?Re(ge):x.add(ge):G!==void 0&&x.has(ge)?Re(ge):R.protectedKeys[ge]=!0}R.prevProp=E,R.prevResolvedValues=ae,R.isActive&&(w={...w,...ae}),s&&t.blockInitialAnimation&&(Y=!1);const ke=F&&q;Y&&(!ke||D)&&v.push(...J.map(ge=>{const G={type:T};if(typeof ge=="string"&&s&&!ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,Q=qi(oe,ge);if(oe.enteringChildren&&Q){const{delayChildren:I}=Q.transition||{};G.delay=Fv(oe.enteringChildren,t,I)}}return{animation:ge,options:G}}))}if(x.size){const C={};if(typeof m.initial!="boolean"){const T=qi(t,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(C.transition=T.transition)}x.forEach(T=>{const R=t.getBaseTarget(T),E=t.getValue(T);E&&(E.liveStyle=!0),C[T]=R??null}),v.push({animation:C})}let k=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(v):Promise.resolve()}function d(f,m){if(r[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),r[f].isActive=m;const g=u(f);for(const v in r)r[v].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Cg()}}}function Lj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zv(e,t):!1}function Hr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cg(){return{animate:Hr(!0),whileInView:Hr(),whileHover:Hr(),whileTap:Hr(),whileDrag:Hr(),whileFocus:Hr(),exit:Hr()}}class Cr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Dj extends Cr{constructor(e){super(e),e.animationState||(e.animationState=Ij(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Mj=0;class Nj extends Cr{constructor(){super(...arguments),this.id=Mj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Bj={animation:{Feature:Dj},exit:{Feature:Nj}};function go(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Co(t){return{point:{x:t.pageX,y:t.pageY}}}const $j=t=>e=>lh(e)&&t(e,Co(e));function ro(t,e,r,s){return go(t,e,$j(r),s)}const Uv=1e-4,Fj=1-Uv,zj=1+Uv,Wv=.01,Vj=0-Wv,Uj=0+Wv;function At(t){return t.max-t.min}function Wj(t,e,r){return Math.abs(t-e)<=r}function jg(t,e,r,s=.5){t.origin=s,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=At(r)/At(e),t.translate=Ye(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Fj&&t.scale<=zj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vj&&t.translate<=Uj||isNaN(t.translate))&&(t.translate=0)}function io(t,e,r,s){jg(t.x,e.x,r.x,s?s.originX:void 0),jg(t.y,e.y,r.y,s?s.originY:void 0)}function Eg(t,e,r){t.min=r.min+e.min,t.max=t.min+At(e)}function Hj(t,e,r){Eg(t.x,e.x,r.x),Eg(t.y,e.y,r.y)}function Tg(t,e,r){t.min=e.min-r.min,t.max=t.min+At(e)}function so(t,e,r){Tg(t.x,e.x,r.x),Tg(t.y,e.y,r.y)}function nn(t){return[t("x"),t("y")]}const Hv=({current:t})=>t?t.ownerDocument.defaultView:null,Pg=(t,e)=>Math.abs(t-e);function qj(t,e){const r=Pg(t.x,e.x),s=Pg(t.y,e.y);return Math.sqrt(r**2+s**2)}class qv{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Lc(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,_=qj(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!_)return;const{point:k}=x,{timestamp:C}=vt;this.history.push({...k,timestamp:C});const{onStart:T,onMove:R}=this.handlers;w||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ic(w,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lc(x.type==="pointercancel"?this.lastMoveEventInfo:Ic(w,this.transformPagePoint),this.history);this.startEvent&&_&&_(x,T),k&&k(x,T)},!lh(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=Co(e),f=Ic(d,this.transformPagePoint),{point:m}=f,{timestamp:g}=vt;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=r;v&&v(e,Lc(f,this.history)),this.removeListeners=So(ro(this.contextWindow,"pointermove",this.handlePointerMove),ro(this.contextWindow,"pointerup",this.handlePointerUp),ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sr(this.updatePoint)}}function Ic(t,e){return e?{point:e(t.point)}:t}function Rg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lc({point:t},e){return{point:t,delta:Rg(t,Kv(e)),offset:Rg(t,Kj(e)),velocity:Gj(e,.1)}}function Kj(t){return t[0]}function Kv(t){return t[t.length-1]}function Gj(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=Kv(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>Tn(e)));)r--;if(!s)return{x:0,y:0};const l=rn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Yj(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ye(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ye(r,t,s.max):Math.min(t,r)),t}function Ag(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Jj(t,{top:e,left:r,bottom:s,right:o}){return{x:Ag(t.x,r,o),y:Ag(t.y,e,s)}}function Og(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function Qj(t,e){return{x:Og(t.x,e.x),y:Og(t.y,e.y)}}function Xj(t,e){let r=.5;const s=At(t),o=At(e);return o>s?r=co(e.min,e.max-s,t.min):s>o&&(r=co(t.min,t.max-o,e.min)),qn(0,1,r)}function Zj(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Sd=.35;function eE(t=Sd){return t===!1?t=0:t===!0&&(t=Sd),{x:Ig(t,"left","right"),y:Ig(t,"top","bottom")}}function Ig(t,e,r){return{min:Lg(t,e),max:Lg(t,r)}}function Lg(t,e){return typeof t=="number"?t:t[e]||0}const tE=new WeakMap;class nE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Co(v).point)},u=(v,x)=>{const{drag:w,dragPropagation:_,onDragStart:k}=this.getProps();if(w&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lC(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(T=>{let R=this.getAxisMotionValue(T).get()||0;if(Pn.test(R)){const{projection:E}=this.visualElement;if(E&&E.layout){const O=E.layout.layoutBox[T];O&&(R=At(O)*(parseFloat(R)/100))}}this.originPoint[T]=R}),k&&Ue.postRender(()=>k(v,x)),wd(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:_,onDirectionLock:k,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:T}=x;if(_&&this.currentDirection===null){this.currentDirection=rE(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),C&&C(v,x)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>nn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new qv(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:Hv(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ue.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Qa(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Yj(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&zi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Jj(s.layoutBox,e):this.constraints=!1,this.elastic=eE(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Zj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!zi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=ij(s,o.root,this.visualElement.getTransformPagePoint());let u=Qj(o.layout.layoutBox,l);if(r){const d=r(tj(u));this.hasMutatedConstraints=!!d,d&&(u=Rv(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=nn(g=>{if(!Qa(g,r,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,_={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return wd(this.visualElement,e),s.start(vh(e,s,0,r,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){nn(r=>{const{drag:s}=this.getProps();if(!Qa(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-Ye(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!zi(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=Xj({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),nn(u=>{if(!Qa(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(Ye(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;tE.set(this.visualElement,this);const e=this.visualElement.current,r=ro(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();zi(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(s);const u=go(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(nn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Sd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Qa(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function rE(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class iE extends Cr{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new nE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dg=t=>(e,r)=>{t&&Ue.postRender(()=>t(e,r))};class sE extends Cr{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new qv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Dg(e),onStart:Dg(r),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ue.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ro(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const il={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const r=Mg(t,e.target.x),s=Mg(t,e.target.y);return`${r}% ${s}%`}},oE={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=_r.parse(t);if(o.length>5)return s;const l=_r.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,f=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=Ye(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};let Dc=!1;class aE extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;PC(lE),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),Dc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),il.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Dc=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ue.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ah.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;Dc=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Gv(t){const[e,r]=gv(),s=S.useContext($d);return h.jsx(aE,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(Tv),isPresent:e,safeToRemove:r})}const lE={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:oE};function uE(t,e,r){const s=Tt(t)?t:Gi(t);return s.start(vh("",s,e,r)),s.animation}const cE=(t,e)=>t.depth-e.depth;class dE{constructor(){this.children=[],this.isDirty=!1}add(e){Vd(this.children,e),this.isDirty=!0}remove(e){Ud(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cE),this.isDirty=!1,this.children.forEach(e)}}function hE(t,e){const r=zt.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(Sr(s),t(l-e))};return Ue.setup(s,!0),()=>Sr(s)}const Yv=["TopLeft","TopRight","BottomLeft","BottomRight"],fE=Yv.length,Ng=t=>typeof t=="string"?parseFloat(t):t,Bg=t=>typeof t=="number"||pe.test(t);function pE(t,e,r,s,o,l){o?(t.opacity=Ye(0,r.opacity??1,mE(s)),t.opacityExit=Ye(e.opacity??1,0,gE(s))):l&&(t.opacity=Ye(e.opacity??1,r.opacity??1,s));for(let u=0;u<fE;u++){const d=`border${Yv[u]}Radius`;let f=$g(e,d),m=$g(r,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Bg(f)===Bg(m)?(t[d]=Math.max(Ye(Ng(f),Ng(m),s),0),(Pn.test(m)||Pn.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||r.rotate)&&(t.rotate=Ye(e.rotate||0,r.rotate||0,s))}function $g(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mE=Jv(0,.5,My),gE=Jv(.5,.95,sn);function Jv(t,e,r){return s=>s<t?0:s>e?1:r(co(t,e,s))}function Fg(t,e){t.min=e.min,t.max=e.max}function tn(t,e){Fg(t.x,e.x),Fg(t.y,e.y)}function zg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vg(t,e,r,s,o){return t-=e,t=vl(t,1/r,s),o!==void 0&&(t=vl(t,1/o,s)),t}function yE(t,e=0,r=1,s=.5,o,l=t,u=t){if(Pn.test(e)&&(e=parseFloat(e),e=Ye(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ye(l.min,l.max,s);t===l&&(d-=e),t.min=Vg(t.min,e,r,d,o),t.max=Vg(t.max,e,r,d,o)}function Ug(t,e,[r,s,o],l,u){yE(t,e[r],e[s],e[o],e.scale,l,u)}const vE=["x","scaleX","originX"],xE=["y","scaleY","originY"];function Wg(t,e,r,s){Ug(t.x,e,vE,r?r.x:void 0,s?s.x:void 0),Ug(t.y,e,xE,r?r.y:void 0,s?s.y:void 0)}function Hg(t){return t.translate===0&&t.scale===1}function Qv(t){return Hg(t.x)&&Hg(t.y)}function qg(t,e){return t.min===e.min&&t.max===e.max}function wE(t,e){return qg(t.x,e.x)&&qg(t.y,e.y)}function Kg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Xv(t,e){return Kg(t.x,e.x)&&Kg(t.y,e.y)}function Gg(t){return At(t.x)/At(t.y)}function Yg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bE{constructor(){this.members=[]}add(e){Vd(this.members,e),e.scheduleRender()}remove(e){if(Ud(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SE(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=r?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:x,skewX:w,skewY:_}=r;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),_&&(s+=`skewY(${_}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const Mc=["","X","Y","Z"],_E=1e3;let kE=0;function Nc(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Zv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Bv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ue,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Zv(s)}function e1({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=kE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EE),this.nodes.forEach(AE),this.nodes.forEach(OE),this.nodes.forEach(TE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new dE)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=mv(u)&&!pC(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{v=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=hE(x,250),il.hasAnimatedSinceResize&&(il.hasAnimatedSinceResize=!1,this.nodes.forEach(Xg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||NE,{onLayoutAnimationStart:k,onLayoutAnimationComplete:C}=m.getProps(),T=!this.targetLayout||!Xv(this.targetLayout,w),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...sh(_,"layout"),onPlay:k,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(g,R)}else v||Xg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IE),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RE),this.nodes.forEach(CE),this.nodes.forEach(jE)):this.nodes.forEach(Qg),this.clearAllSnapshots();const d=zt.now();vt.delta=qn(0,1e3/60,d-vt.timestamp),vt.timestamp=d,vt.isProcessing=!0,Cc.update.process(vt),Cc.preRender.process(vt),Cc.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ah.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PE),this.sharedNodes.forEach(LE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Qv(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Kr(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),BE(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return rt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($E))){const{scroll:m}=this.root;m&&(Vi(d.x,m.offset.x),Vi(d.y,m.offset.y))}return d}removeElementScroll(u){const d=rt();if(tn(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&tn(d,u),Vi(d.x,g.offset.x),Vi(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=rt();tn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ui(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Kr(g.latestValues)&&Ui(f,g.latestValues)}return Kr(this.latestValues)&&Ui(f,this.latestValues),f}removeTransform(u){const d=rt();tn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Kr(m.latestValues))continue;gd(m.latestValues)&&m.updateSnapshot();const g=rt(),v=m.measurePageBox();tn(g,v),Wg(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Kr(this.latestValues)&&Wg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),so(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),Ov(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),so(this.relativeTargetOrigin,this.target,x.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||Av(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;tn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;rj(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=rt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zg(this.prevProjectionDelta.x,this.projectionDelta.x),zg(this.prevProjectionDelta.y,this.projectionDelta.y)),io(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Yg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=rt(),w=f?f.source:void 0,_=this.layout?this.layout.source:void 0,k=w!==_,C=this.getStack(),T=!C||C.members.length<=1,R=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(ME));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const B=O/1e3;Zg(v.x,u.x,B),Zg(v.y,u.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(so(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DE(this.relativeTarget,this.relativeTargetOrigin,x,B),E&&wE(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rt()),tn(E,this.relativeTarget)),k&&(this.animationValues=g,pE(g,m,this.latestValues,B,R,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{il.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gi(0)),this.currentAnimation=uE(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_E),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&t1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||rt();const v=At(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const x=At(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}tn(d,f),Ui(d,g),io(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new bE),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Nc("z",u,m,this.animationValues);for(let g=0;g<Mc.length;g++)Nc(`rotate${Mc[g]}`,u,m,this.animationValues),Nc(`skew${Mc[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=rl(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=rl(d?.pointerEvents)||""),this.hasProjected&&!Kr(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=SE(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x,y:w}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in mo){if(g[_]===void 0)continue;const{correct:k,applyTo:C,isCSSVariable:T}=mo[_],R=v==="none"?g[_]:k(g[_],m);if(C){const E=C.length;for(let O=0;O<E;O++)u[C[O]]=R}else T?this.options.visualElement.renderState.vars[_]=R:u[_]=R}this.options.layoutId&&(u.pointerEvents=m===this?rl(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Jg),this.root.sharedNodes.clear()}}}function CE(t){t.updateLayout()}function jE(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?nn(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],x=At(v);v.min=r[g].min,v.max=v.min+x}):t1(o,e.layoutBox,r)&&nn(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],x=At(r[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const u=Wi();io(u,r,e.layoutBox);const d=Wi();l?io(d,t.applyTransform(s,!0),e.measuredBox):io(d,r,e.layoutBox);const f=!Qv(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const w=rt();so(w,e.layoutBox,v.layoutBox);const _=rt();so(_,r,x.layoutBox),Xv(w,_)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EE(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PE(t){t.clearSnapshot()}function Jg(t){t.clearMeasurements()}function Qg(t){t.isLayoutDirty=!1}function RE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AE(t){t.resolveTargetDelta()}function OE(t){t.calcProjection()}function IE(t){t.resetSkewAndRotation()}function LE(t){t.removeLeadSnapshot()}function Zg(t,e,r){t.translate=Ye(e.translate,0,r),t.scale=Ye(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function e0(t,e,r,s){t.min=Ye(e.min,r.min,s),t.max=Ye(e.max,r.max,s)}function DE(t,e,r,s){e0(t.x,e.x,r.x,s),e0(t.y,e.y,r.y,s)}function ME(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NE={duration:.45,ease:[.4,0,.1,1]},t0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),n0=t0("applewebkit/")&&!t0("chrome/")?Math.round:sn;function r0(t){t.min=n0(t.min),t.max=n0(t.max)}function BE(t){r0(t.x),r0(t.y)}function t1(t,e,r){return t==="position"||t==="preserve-aspect"&&!Wj(Gg(e),Gg(r),.2)}function $E(t){return t!==t.root&&t.scroll?.wasRoot}const FE=e1({attachResizeListener:(t,e)=>go(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bc={current:void 0},n1=e1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bc.current){const t=new FE({});t.mount(window),t.setOptions({layoutScroll:!0}),Bc.current=t}return Bc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zE={pan:{Feature:sE},drag:{Feature:iE,ProjectionNode:n1,MeasureLayout:Gv}};function i0(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=s[o];l&&Ue.postRender(()=>l(e,Co(e)))}class VE extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=uC(e,(r,s)=>(i0(this.node,s,"Start"),o=>i0(this.node,o,"End"))))}unmount(){}}class UE extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=So(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s0(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=s[o];l&&Ue.postRender(()=>l(e,Co(e)))}class WE extends Cr{mount(){const{current:e}=this.node;e&&(this.unmount=fC(e,(r,s)=>(s0(this.node,s,"Start"),(o,{success:l})=>s0(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _d=new WeakMap,$c=new WeakMap,HE=t=>{const e=_d.get(t.target);e&&e(t)},qE=t=>{t.forEach(HE)};function KE({root:t,...e}){const r=t||document;$c.has(r)||$c.set(r,{});const s=$c.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(qE,{root:t,...e})),s[o]}function GE(t,e,r){const s=KE(e);return _d.set(t,r),s.observe(t),()=>{_d.delete(t),s.unobserve(t)}}const YE={some:0,all:1};class JE extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:YE[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=m?g:v;x&&x(f)};return GE(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(QE(e,r))&&this.startObserver()}unmount(){}}function QE({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const XE={inView:{Feature:JE},tap:{Feature:WE},focus:{Feature:UE},hover:{Feature:VE}},ZE={layout:{ProjectionNode:n1,MeasureLayout:Gv}},e4={...Bj,...XE,...zE,...ZE},Ae=ej(e4,fj),o0="/assets/fetop_logo-CEosw_QK.png";function t4(){const{totalItems:t}=bo(),{authUser:e}=on(),r=Ot(),s=bn(),[o,l]=S.useState(!1),[u,d]=S.useState(!1),[f,m]=S.useState(""),[g,v]=S.useState([]),[x,w]=S.useState(!1),[_,k]=S.useState(!1),C=S.useRef(null);S.useEffect(()=>{const E=()=>{k(window.scrollY>20)};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]),S.useEffect(()=>{if(!f.trim()){v([]);return}const E=setTimeout(async()=>{try{w(!0);const[O,B]=await Promise.all([se.from("products").select("id, name, images, price").ilike("name",`%${f}%`).limit(5),se.from("categories").select("id, name").ilike("name",`%${f}%`).limit(3)]),F=[...B.data?.map(q=>({...q,type:"category"}))||[],...O.data?.map(q=>({...q,type:"product"}))||[]];v(F)}catch(O){console.error("Search failed:",O.message)}finally{w(!1)}},400);return()=>clearTimeout(E)},[f]);const T=E=>{m(""),v([]),l(!1),E.type==="category"?r(`/shop?category=${E.name}`):r(`/product/${E.id}`)},R=async()=>{try{await se.auth.signOut(),r("/login")}catch(E){console.error("Logout error:",E.message)}};return S.useEffect(()=>{const E=O=>{!O.target.closest(".account-menu")&&!O.target.closest(".hamburger")&&d(!1),C.current&&!C.current.contains(O.target)&&v([])};return document.addEventListener("click",E),()=>document.removeEventListener("click",E)},[]),S.useEffect(()=>{document.body.style.overflow=o?"hidden":""},[o]),h.jsxs(h.Fragment,{children:[h.jsxs(Ae.nav,{initial:!1,animate:{background:_?"rgba(255, 255, 255, 0.85)":"rgba(255, 255, 255, 0.95)",backdropFilter:_?"blur(20px)":"blur(10px)",boxShadow:_?"0 4px 20px rgba(0,0,0,0.08)":"0 2px 10px rgba(0,0,0,0.04)"},transition:{duration:.3},style:n4,children:[h.jsxs("div",{style:r4,children:[h.jsx(Et,{to:"/",style:i4,children:h.jsx("img",{src:o0,alt:"Fetop",style:s4})}),h.jsx("div",{className:"nav-links",style:o4,children:["Home","Shop","About","Contact"].map(E=>{const O=E==="Home"?"/":`/${E.toLowerCase()}`,B=s.pathname===O;return h.jsx(Et,{to:O,style:a4,children:h.jsxs(Ae.div,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{position:"relative"},children:[h.jsx("span",{style:{color:B?"#4f46e5":"#374151",fontWeight:B?600:500},children:E}),B&&h.jsx(Ae.div,{layoutId:"underline",style:l4,transition:{type:"spring",stiffness:300,damping:30}})]})},E)})}),h.jsxs("div",{ref:C,className:"search-box",style:u4,children:[h.jsxs(Ae.div,{whileFocus:{scale:1.02},style:c4,children:[h.jsx(vm,{style:{color:"#9ca3af",fontSize:"14px"}}),h.jsx("input",{type:"text",placeholder:"Search products...",value:f,onChange:E=>m(E.target.value),style:d4})]}),h.jsx(br,{children:(x||g.length>0||f&&g.length===0&&!x)&&h.jsxs(Ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:h4,children:[x&&h.jsxs("div",{style:a0,children:[h.jsx("div",{style:f4}),h.jsx("span",{children:"Searching..."})]}),!x&&f&&g.length===0&&h.jsx("div",{style:a0,children:"No results found"}),!x&&g.length>0&&g.map(E=>{const O=Array.isArray(E.images)?E.images[0]:typeof E.images=="string"?E.images:"https://via.placeholder.com/40";return h.jsx(Ae.div,{whileHover:{background:"#f3f4f6"},onClick:()=>T(E),style:p4,children:E.type==="product"?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:O,alt:E.name,style:m4}),h.jsxs("div",{style:{flex:1},children:[h.jsx("div",{style:l0,children:E.name}),E.price&&h.jsxs("div",{style:g4,children:["Ksh ",E.price.toLocaleString()]})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:y4,children:h.jsx(vm,{size:14})}),h.jsxs("span",{style:l0,children:[E.name," ",h.jsx("span",{style:v4,children:"Category"})]})]})},E.id)})]})})]}),h.jsxs("div",{style:x4,children:[e?h.jsxs(h.Fragment,{children:[h.jsx(Ae.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsxs(Et,{to:"/cart",style:b4,children:[h.jsx(Qs,{size:22}),t>0&&h.jsx(Ae.span,{initial:{scale:0},animate:{scale:1},style:S4,children:t})]})}),h.jsxs("div",{style:{position:"relative",zIndex:5e3},className:"account-menu",children:[h.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(E=>!E),style:_4,children:h.jsx(Y2,{size:26})}),h.jsx(br,{children:u&&h.jsxs(Ae.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},style:k4,children:[h.jsxs(Et,{to:"/profile",style:Fc,onClick:()=>d(!1),children:[h.jsx(J2,{style:{marginRight:8}}),"Profile"]}),h.jsxs(Et,{to:"/orders",style:Fc,onClick:()=>d(!1),children:[h.jsx(z2,{style:{marginRight:8}}),"Orders"]}),h.jsxs("button",{onClick:R,style:{...Fc,borderTop:"1px solid #e5e7eb"},children:[h.jsx(q2,{style:{marginRight:8}}),"Logout"]})]})})]})]}):h.jsx(Ae.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(Et,{to:"/login",style:w4,children:"Login"})}),h.jsx("button",{onClick:()=>l(E=>!E),style:C4,className:"hamburger",children:o?h.jsx(ll,{size:24}):h.jsx(F2,{size:24})})]})]}),h.jsx(br,{children:o&&h.jsxs(h.Fragment,{children:[h.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:j4,onClick:()=>l(!1)}),h.jsxs(Ae.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:E4,children:[h.jsxs("div",{style:T4,children:[h.jsx("img",{src:o0,alt:"Fetop",style:{height:"36px"}}),h.jsx("button",{onClick:()=>l(!1),style:P4,children:h.jsx(ll,{size:24})})]}),["Home","Shop","About","Contact"].map(E=>h.jsx(Et,{to:`/${E.toLowerCase()==="home"?"":E.toLowerCase()}`,style:Ks,onClick:()=>l(!1),children:E},E)),e?h.jsxs(h.Fragment,{children:[h.jsx(Et,{to:"/profile",style:Ks,onClick:()=>l(!1),children:"Profile"}),h.jsx(Et,{to:"/orders",style:Ks,onClick:()=>l(!1),children:"Orders"}),h.jsx("button",{onClick:()=>{R(),l(!1)},style:{...Ks,marginTop:"auto",background:"#fee2e2",color:"#dc2626"},children:"Logout"})]}):h.jsx(Et,{to:"/login",style:{...Ks,marginTop:"auto",background:"#4f46e5",color:"#fff"},onClick:()=>l(!1),children:"Login"})]})]})})]}),h.jsx("div",{style:{height:"70px"}}),h.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 968px) {
          .nav-links { display: none !important; }
          .search-box { display: none !important; }
          .hamburger { display: block !important; }
        }
        
        .mobile-link:hover {
          background: #f3f4f6 !important;
        }
      `})]})}const n4={position:"fixed",top:0,left:0,width:"100%",zIndex:1e3,transition:"all 0.3s ease"},r4={maxWidth:"1400px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 24px",gap:"24px"},i4={display:"flex",alignItems:"center",flexShrink:0},s4={height:"46px",objectFit:"contain"},o4={display:"flex",gap:"32px",alignItems:"center"},a4={textDecoration:"none",fontSize:"15px",fontWeight:500,position:"relative"},l4={position:"absolute",bottom:"-6px",left:0,right:0,height:"3px",background:"#4f46e5",borderRadius:"2px"},u4={position:"relative",flex:1,maxWidth:"400px"},c4={display:"flex",alignItems:"center",background:"#f9fafb",border:"2px solid #e5e7eb",borderRadius:"12px",padding:"8px 14px",gap:"10px",transition:"all 0.2s ease"},d4={flex:1,border:"none",outline:"none",background:"transparent",fontSize:"14px",color:"#111827"},h4={position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"#fff",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",overflow:"hidden",maxHeight:"400px",overflowY:"auto",zIndex:1001},a0={padding:"16px",color:"#6b7280",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},f4={width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #4f46e5",borderRadius:"50%",animation:"spin 0.8s linear infinite"},p4={display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f3f4f6",transition:"background 0.2s ease"},m4={width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"1px solid #e5e7eb"},l0={fontSize:"14px",fontWeight:500,color:"#111827"},g4={fontSize:"13px",color:"#4f46e5",fontWeight:600,marginTop:"2px"},y4={width:"48px",height:"48px",background:"#f3f4f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},v4={fontSize:"12px",color:"#6b7280",background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",marginLeft:"8px"},x4={display:"flex",alignItems:"center",gap:"20px",flexShrink:0},w4={padding:"8px 20px",borderRadius:"10px",background:"linear-gradient(135deg, #667eea 0%, #4f46e5 100%)",color:"#fff",textDecoration:"none",fontWeight:600,fontSize:"14px",boxShadow:"0 2px 8px rgba(79,70,229,0.3)"},b4={position:"relative",color:"#374151",display:"flex",alignItems:"center"},S4={position:"absolute",top:"-8px",right:"-10px",background:"#ef4444",color:"#fff",fontSize:"11px",borderRadius:"50%",padding:"3px 6px",fontWeight:700,minWidth:"20px",textAlign:"center",boxShadow:"0 2px 6px rgba(239,68,68,0.4)"},_4={background:"none",border:"none",cursor:"pointer",color:"#374151",display:"flex",alignItems:"center",padding:0},k4={position:"absolute",top:"calc(100% + 10px)",right:0,background:"#fff",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",borderRadius:"12px",overflow:"hidden",minWidth:"180px",zIndex:5001},Fc={display:"flex",alignItems:"center",padding:"12px 16px",textDecoration:"none",color:"#374151",fontSize:"14px",fontWeight:500,width:"100%",background:"none",border:"none",cursor:"pointer",transition:"background 0.2s ease",textAlign:"left"},C4={display:"none",background:"none",border:"none",cursor:"pointer",color:"#374151",padding:0},j4={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)",zIndex:998},E4={position:"fixed",top:0,right:0,width:"80%",maxWidth:"320px",height:"100%",background:"#fff",zIndex:999,display:"flex",flexDirection:"column",padding:"24px",gap:"4px",boxShadow:"-4px 0 24px rgba(0,0,0,0.12)"},T4={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #f3f4f6"},P4={background:"none",border:"none",cursor:"pointer",color:"#374151",padding:0},Ks={textDecoration:"none",color:"#374151",fontSize:"16px",fontWeight:500,background:"none",border:"none",textAlign:"left",cursor:"pointer",padding:"14px 12px",borderRadius:"8px",transition:"background 0.2s ease"};function r1(t){return Ce({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41a1.42 1.42 0 0 1-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"},child:[]}]})(t)}const R4="https://via.placeholder.com/400x300?text=Product+Image";function A4(){const{authUser:t}=on(),{addToCart:e}=bo(),r=Ot(),[s,o]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[m,g]=S.useState(null);S.useEffect(()=>{document.title="Home | Nairobi Fashion Tops";async function w(){u(!0);try{const{data:_,error:k}=await se.from("products").select("id, name, description, price, discount_percent, images, stock_quantity").eq("is_active",!0).limit(6);if(k)throw k;o(_||[])}catch(_){f(_.message||String(_))}finally{u(!1)}}w()},[]);const v=async(w,_)=>{if(_.stopPropagation(),!t)return alert("Please log in to add items to your cart.");try{await e(w),alert(`Added ${w.name} to your cart!`)}catch(k){console.error("Add to cart failed:",k),alert("Failed to add item to cart.")}},x=w=>r(`/product/${w}`);return l?h.jsx("div",{style:te.loadingContainer,children:h.jsxs("div",{style:te.loadingContent,children:[h.jsx("div",{style:te.spinner}),h.jsx("p",{style:te.loadingText,children:"Curating your collection..."})]})}):d?h.jsx("div",{style:te.errorContainer,children:h.jsx("div",{style:te.errorContent,children:h.jsxs("p",{style:te.errorText,children:["Error loading products: ",String(d)]})})}):h.jsxs("div",{style:te.mainContainer,children:[h.jsxs("div",{style:te.heroSection,children:[h.jsxs("div",{style:te.backgroundPattern,children:[h.jsx("div",{style:te.bgCircle1}),h.jsx("div",{style:te.bgCircle2})]}),h.jsx("div",{style:te.heroContent,children:h.jsxs("div",{style:te.heroInner,children:[h.jsx("div",{style:te.newBadgeContainer,children:h.jsx("span",{style:te.newBadge,children:" New Collection Available"})}),h.jsx("h1",{style:te.heroTitle,children:"Elevate Your Style"}),h.jsxs("p",{style:te.heroSubtitle,children:["Discover premium fashion tops delivered across Kenya.",h.jsxs("span",{style:te.heroHighlight,children:[" ","Free delivery in Nairobi"]})," ","for orders above Ksh 2,000"]}),h.jsxs("div",{style:te.heroButtons,children:[h.jsxs("button",{onClick:()=>r("/shop"),style:te.primaryButton,onMouseEnter:w=>w.target.style.transform="scale(1.05)",onMouseLeave:w=>w.target.style.transform="scale(1)",children:[h.jsx(r1,{size:24}),h.jsx("span",{style:te.buttonText,children:"Shop Collection"}),h.jsx(pm,{})]}),h.jsx("button",{onClick:()=>r("/shop"),style:te.secondaryButton,onMouseEnter:w=>w.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseLeave:w=>w.target.style.backgroundColor="rgba(255, 255, 255, 0.1)",children:"Explore Trends"})]})]})})]}),h.jsx("div",{style:te.featuresBar,children:h.jsx("div",{style:te.featuresContent,children:h.jsx("div",{style:te.featuresGrid,children:[{Icon:K2,text:"Same-Day Delivery",subtext:"Within Nairobi"},{Icon:H2,text:"Secure Payment",subtext:"100% Protected"},{Icon:G2,text:"Easy Returns",subtext:"30-Day Policy"},{Icon:el,text:"Premium Quality",subtext:"Verified Products"}].map((w,_)=>h.jsxs("div",{style:te.featureItem,children:[h.jsx(w.Icon,{style:te.featureIcon,size:32}),h.jsx("p",{style:te.featureText,children:w.text}),h.jsx("p",{style:te.featureSubtext,children:w.subtext})]},_))})})}),h.jsxs("div",{style:te.productsSection,children:[h.jsxs("div",{style:te.sectionHeader,children:[h.jsx("h2",{style:te.sectionTitle,children:"Featured Collection"}),h.jsx("p",{style:te.sectionSubtitle,children:"Handpicked styles that define the season"})]}),s.length===0?h.jsx("p",{style:te.noProducts,children:"No products available at the moment."}):h.jsx("div",{style:te.productsGrid,children:s.map(w=>{const _=Array.isArray(w.images)&&w.images[0]?w.images[0]:R4,k=w.discount_percent||0,C=k?(w.price*(1-k/100)).toFixed(2):w.price.toFixed(2),T=w.stock_quantity===0;return h.jsxs("div",{style:{...te.productCard,...m===w.id?te.productCardHovered:{}},onClick:()=>x(w.id),onMouseEnter:()=>g(w.id),onMouseLeave:()=>g(null),children:[k>0&&h.jsxs("div",{style:te.discountBadge,children:["-",k,"%"]}),h.jsxs("div",{style:te.imageContainer,children:[h.jsx("img",{src:_,alt:w.name,style:{...te.productImage,...m===w.id?te.productImageHovered:{}}}),h.jsx("div",{style:{...te.imageOverlay,opacity:m===w.id?1:0}})]}),h.jsxs("div",{style:te.productInfo,children:[h.jsx("h3",{style:{...te.productName,color:m===w.id?"#c084fc":"#fff"},children:w.name}),h.jsx("p",{style:te.productDescription,children:w.description||"Premium quality fashion piece"}),h.jsxs("div",{style:te.priceContainer,children:[h.jsxs("span",{style:te.productPrice,children:["Ksh ",parseFloat(C).toLocaleString()]}),k>0&&h.jsxs("span",{style:te.oldPrice,children:["Ksh ",parseFloat(w.price).toLocaleString()]})]}),h.jsxs("div",{style:te.stockStatus,children:[h.jsx("div",{style:{...te.stockDot,backgroundColor:T?"#ef4444":"#10b981"}}),h.jsx("span",{style:{...te.stockText,color:T?"#f87171":"#34d399"},children:T?"Out of Stock":"In Stock"})]}),h.jsx("div",{style:te.actionsContainer,children:h.jsxs("button",{onClick:R=>v(w,R),disabled:T,style:T?te.addToCartDisabled:te.addToCart,onMouseEnter:R=>{T||(R.target.style.transform="scale(1.05)",R.target.style.boxShadow="0 10px 30px rgba(168, 85, 247, 0.5)")},onMouseLeave:R=>{T||(R.target.style.transform="scale(1)",R.target.style.boxShadow="none")},children:[h.jsx(Qs,{}),h.jsx("span",{children:T?"Sold Out":"Add to Cart"})]})})]})]},w.id)})})]}),h.jsx("div",{style:te.ctaSection,children:h.jsxs("div",{style:te.ctaCard,children:[h.jsx("div",{style:te.ctaBgCircle1}),h.jsx("div",{style:te.ctaBgCircle2}),h.jsxs("div",{style:te.ctaContent,children:[h.jsx("h3",{style:te.ctaTitle,children:"Ready to Transform Your Wardrobe?"}),h.jsx("p",{style:te.ctaSubtitle,children:"Explore hundreds of premium fashion pieces curated for the modern trendsetter"}),h.jsxs("button",{onClick:()=>r("/shop"),style:te.ctaButton,onMouseEnter:w=>{w.target.style.transform="scale(1.05)",w.target.style.boxShadow="0 20px 50px rgba(255, 255, 255, 0.5)"},onMouseLeave:w=>{w.target.style.transform="scale(1)",w.target.style.boxShadow="0 20px 50px rgba(0, 0, 0, 0.3)"},children:[h.jsx("span",{children:"View Full Collection"}),h.jsx(pm,{})]})]})]})}),h.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @keyframes gradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
      `})]})}const te={mainContainer:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%)",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif"},loadingContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%)"},loadingContent:{textAlign:"center"},spinner:{display:"inline-block",width:"64px",height:"64px",border:"4px solid rgba(168, 85, 247, 0.3)",borderTop:"4px solid #a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"},loadingText:{color:"#fff",fontSize:"20px",fontWeight:"600"},errorContainer:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f172a, #1e293b)"},errorContent:{textAlign:"center"},errorText:{color:"#f87171",fontSize:"20px"},heroSection:{position:"relative",overflow:"hidden"},backgroundPattern:{position:"absolute",inset:0,opacity:.1,pointerEvents:"none"},bgCircle1:{position:"absolute",top:0,left:"25%",width:"384px",height:"384px",background:"#a855f7",borderRadius:"50%",filter:"blur(80px)",animation:"pulse 3s ease-in-out infinite"},bgCircle2:{position:"absolute",bottom:0,right:"25%",width:"384px",height:"384px",background:"#ec4899",borderRadius:"50%",filter:"blur(80px)",animation:"pulse 3s ease-in-out infinite 1s"},heroContent:{position:"relative",maxWidth:"1280px",margin:"0 auto",padding:"80px 24px 128px"},heroInner:{textAlign:"center"},newBadgeContainer:{display:"inline-block",animation:"fadeIn 1s ease-out",marginBottom:"24px"},newBadge:{display:"inline-block",padding:"8px 16px",background:"rgba(168, 85, 247, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"9999px",color:"#d8b4fe",fontSize:"14px",fontWeight:"600"},heroTitle:{fontSize:"clamp(3rem, 8vw, 5rem)",fontWeight:"900",background:"linear-gradient(90deg, #c084fc, #f0abfc, #c084fc)",backgroundSize:"200% 200%",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",animation:"gradient 3s ease infinite",lineHeight:1.1,marginBottom:"32px"},heroSubtitle:{fontSize:"clamp(1.125rem, 3vw, 1.5rem)",color:"#d1d5db",maxWidth:"768px",margin:"0 auto 48px",fontWeight:"300",lineHeight:1.6},heroHighlight:{color:"#c084fc",fontWeight:"600"},heroButtons:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"center",justifyContent:"center"},primaryButton:{display:"flex",alignItems:"center",gap:"12px",padding:"16px 32px",background:"linear-gradient(90deg, #9333ea, #ec4899)",borderRadius:"12px",color:"#fff",fontWeight:"700",fontSize:"18px",border:"none",cursor:"pointer",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},buttonText:{margin:"0"},secondaryButton:{padding:"16px 32px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontWeight:"700",fontSize:"18px",cursor:"pointer",transition:"all 0.3s ease"},featuresBar:{background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},featuresContent:{maxWidth:"1280px",margin:"0 auto",padding:"24px"},featuresGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px",textAlign:"center"},featureItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer",transition:"transform 0.3s ease"},featureIcon:{color:"#c084fc",transition:"all 0.3s ease"},featureText:{color:"#fff",fontWeight:"600",margin:0},featureSubtext:{color:"#9ca3af",fontSize:"14px",margin:0},productsSection:{maxWidth:"1280px",margin:"0 auto",padding:"80px 24px"},sectionHeader:{textAlign:"center",marginBottom:"64px"},sectionTitle:{fontSize:"clamp(2.5rem, 5vw, 3rem)",fontWeight:"900",color:"#fff",marginBottom:"16px"},sectionSubtitle:{color:"#9ca3af",fontSize:"18px"},noProducts:{textAlign:"center",color:"#9ca3af",fontSize:"20px"},productsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"32px"},productCard:{position:"relative",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",borderRadius:"16px",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer",transition:"all 0.5s ease"},productCardHovered:{transform:"scale(1.05)",borderColor:"rgba(168, 85, 247, 0.5)",boxShadow:"0 20px 60px rgba(168, 85, 247, 0.2)"},discountBadge:{position:"absolute",top:"16px",right:"16px",zIndex:10,background:"linear-gradient(90deg, #ec4899, #dc2626)",color:"#fff",padding:"4px 12px",borderRadius:"9999px",fontSize:"14px",fontWeight:"700",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},imageContainer:{position:"relative",overflow:"hidden",background:"linear-gradient(135deg, rgba(88, 28, 135, 0.2), rgba(219, 39, 119, 0.2))"},productImage:{width:"100%",height:"288px",objectFit:"cover",transition:"transform 0.7s ease"},productImageHovered:{transform:"scale(1.1)"},imageOverlay:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent)",transition:"opacity 0.3s ease"},productInfo:{padding:"24px"},productName:{fontSize:"20px",fontWeight:"700",marginBottom:"8px",transition:"color 0.3s ease"},productDescription:{color:"#9ca3af",fontSize:"14px",marginBottom:"16px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},priceContainer:{display:"flex",alignItems:"baseline",gap:"12px",marginBottom:"16px"},productPrice:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(90deg, #c084fc, #f0abfc)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent"},oldPrice:{color:"#6b7280",textDecoration:"line-through",fontSize:"18px"},stockStatus:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",fontSize:"14px"},stockDot:{width:"8px",height:"8px",borderRadius:"50%",animation:"pulse 2s ease-in-out infinite"},stockText:{margin:0},actionsContainer:{display:"flex",gap:"12px",paddingTop:"8px"},addToCart:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"12px",background:"linear-gradient(90deg, #9333ea, #ec4899)",color:"#fff",fontWeight:"700",border:"none",cursor:"pointer",transition:"all 0.3s ease"},addToCartDisabled:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"12px",background:"#374151",color:"#9ca3af",fontWeight:"700",border:"none",cursor:"not-allowed"},ctaSection:{maxWidth:"1280px",margin:"0 auto",padding:"0 24px 80px"},ctaCard:{position:"relative",overflow:"hidden",background:"linear-gradient(90deg, #9333ea, #ec4899, #9333ea)",backgroundSize:"200% 200%",animation:"gradient 5s ease infinite",borderRadius:"24px",padding:"64px 48px",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4)"},ctaBgCircle1:{position:"absolute",top:0,left:"25%",width:"256px",height:"256px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(60px)",animation:"pulse 3s ease-in-out infinite"},ctaBgCircle2:{position:"absolute",bottom:0,right:"25%",width:"256px",height:"256px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",filter:"blur(60px)",animation:"pulse 3s ease-in-out infinite 1s"},ctaContent:{position:"relative",zIndex:10},ctaTitle:{fontSize:"clamp(2rem, 5vw, 3rem)",fontWeight:"900",color:"#fff",marginBottom:"24px"},ctaSubtitle:{fontSize:"20px",color:"#f3e8ff",maxWidth:"672px",margin:"0 auto 32px"},ctaButton:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"20px 40px",background:"#fff",color:"#9333ea",borderRadius:"12px",fontWeight:"700",fontSize:"18px",border:"none",cursor:"pointer",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"}},ze={container:{padding:"20px 5%",maxWidth:"1400px",margin:"0 auto",fontFamily:"Inter, sans-serif",color:"#eee",minHeight:"100vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16,marginBottom:20},title:{fontSize:28,fontWeight:700,color:"black"},search:{flex:1,minWidth:200,padding:"10px 14px",borderRadius:10,border:"1px solid #333",fontSize:14,color:"#fff"},categoriesWrapper:{display:"flex",gap:12,overflowX:"auto",paddingBottom:10,marginBottom:20,borderBottom:"1px solid #333",whiteSpace:"nowrap"},catBtn:{flexShrink:0,padding:"8px 16px",borderRadius:20,fontWeight:600,border:"1px solid transparent",cursor:"pointer",transition:"all 0.25s",minWidth:"100px",textAlign:"center",fontSize:14},catBtnDefault:{background:"#222",color:"#eee"},catBtnActive:{background:"#ff8c00",color:"#111"},catBtnImage:(t,e)=>({backgroundImage:`linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.8)), url(${t})`,backgroundSize:"cover",backgroundPosition:"center",color:"#fff",fontWeight:700,border:e?"3px solid #ff8c00":"none"}),grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 220px))",justifyContent:"center",gap:10},card:{borderRadius:10,boxShadow:"0 2px 8px rgba(0,0,0,0.8)",overflow:"hidden",cursor:"pointer",display:"flex",flexDirection:"column",transition:"transform 0.3s ease, box-shadow 0.3s ease",height:300},imgWrap:{position:"relative",overflow:"hidden",height:180},image:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"},discountBadge:{position:"absolute",top:8,right:8,background:"#e11d48",color:"#fff",padding:"4px 8px",borderRadius:"999px",fontSize:12,fontWeight:700},cardBody:{padding:10,flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},productName:{fontSize:14,fontWeight:600,marginBottom:4,color:"black",height:36,overflow:"hidden"},priceRow:{display:"flex",gap:6,alignItems:"baseline",marginBottom:6},price:{fontWeight:700,fontSize:14,color:"#ff8c00"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:12},stock:{fontSize:12,color:"#22c55e",fontWeight:600,display:"block"},stockOut:{color:"#ef4444"},addBtn:t=>({padding:"8px",borderRadius:6,background:t?"#555":"#111",color:t?"#ccc":"#fff",fontWeight:600,border:"1px solid #333",cursor:t?"not-allowed":"pointer",width:"100%",fontSize:13,transition:"all 0.25s",textAlign:"center",boxShadow:t?"none":"0 2px 6px rgba(0,0,0,0.4)"})};function O4(){const{authUser:t}=on(),[e,r]=S.useState([]),[s,o]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[m,g]=S.useState(null),[v,x]=S.useState(""),[w,_]=S.useState(""),k=S.useRef(null),C=Ot(),T=bn(),E=S.useMemo(()=>new URLSearchParams(T.search),[T.search]).get("category")||"",O=S.useCallback(D=>{if(!D)return null;const J=D.toLowerCase().trim();return s.find(xe=>xe.name.toLowerCase().trim()===J)?.id??null},[s]);S.useEffect(()=>{const D=setTimeout(()=>_(v.trim()),320);return()=>clearTimeout(D)},[v]),S.useEffect(()=>{(async()=>{try{const{data:D,error:J}=await se.from("categories").select("id, name").order("name",{ascending:!0});if(J)throw J;o(D||[])}catch(D){f(D.message||String(D))}})()},[]),S.useEffect(()=>{async function D(){u(!0),f(null);try{const J=O(E);if(E&&!J&&s.length>0){r([]),u(!1);return}let ae=se.from("products").select("id, name, price, discount_percent, images, stock_quantity, category_id").eq("is_active",!0).order("created_at",{ascending:!1});J&&(ae=ae.eq("category_id",J)),w&&(ae=ae.ilike("name",`%${w}%`));const{data:xe,error:ye}=await ae;if(ye)throw ye;r(xe||[])}catch(J){f(J.message||String(J))}finally{u(!1)}}(s.length>0||!E)&&D()},[E,w,s,O]),S.useEffect(()=>{const D=document.querySelectorAll("img[data-src]");if(!D.length)return;const J=new IntersectionObserver((ae,xe)=>{ae.forEach(ye=>{if(ye.isIntersecting){const Re=ye.target;Re.src=Re.dataset.src,xe.unobserve(Re)}})});return D.forEach(ae=>J.observe(ae)),()=>J.disconnect()},[e]);const B=D=>{C(D?`/shop?category=${encodeURIComponent(D)}`:"/shop")},F=D=>C(`/product/${D}`),q=async(D,J)=>{if(J.stopPropagation(),!t)return alert("Login to add to cart");try{let{data:ae,error:xe}=await se.from("cart").select("id").eq("user_id",t.id).single();if(xe&&xe.code!=="PGRST116")throw xe;let ye=ae?.id;if(!ye){const{data:ke,error:Be}=await se.from("cart").insert({user_id:t.id}).select().single();if(Be)throw Be;ye=ke.id}const{data:Re}=await se.from("cart_items").select("id, quantity").eq("cart_id",ye).eq("product_id",D).single();Re?await se.from("cart_items").update({quantity:Re.quantity+1}).eq("id",Re.id):await se.from("cart_items").insert({cart_id:ye,product_id:D,quantity:1}),alert("Added to cart!")}catch(ae){console.error("Add to cart failed:",ae),alert("Failed to add to cart.")}},Y=S.useMemo(()=>{const D={};return s.forEach(J=>{const xe=e.find(ye=>ye.category_id===J.id)?.images?.[0]||"https://via.placeholder.com/250x150?text=Category+Image";D[J.id]=xe}),D},[s,e]);return l?h.jsxs("div",{style:{textAlign:"center",paddingTop:60},children:[h.jsx("p",{style:{fontSize:40,animation:"spin 1.5s linear infinite"},children:""}),h.jsx("p",{children:"Loading products..."})]}):d?h.jsxs("div",{style:{textAlign:"center",padding:60,color:"crimson"},children:[h.jsx("h2",{children:"Error loading shop"}),h.jsx("p",{children:String(d)})]}):h.jsxs("div",{style:ze.container,children:[h.jsxs("div",{style:ze.header,children:[h.jsx("h1",{style:ze.title,children:E?`${E} Collection`:"Shop All"}),h.jsx("input",{ref:k,value:v,onChange:D=>x(D.target.value),placeholder:" Search products...",style:ze.search})]}),h.jsxs("div",{style:ze.categoriesWrapper,children:[h.jsx("button",{onClick:()=>B(null),style:{...ze.catBtn,...E?ze.catBtnDefault:ze.catBtnActive},children:"All"}),s.map(D=>{const J=D.name===E,ae=!!Y[D.id];return h.jsx("button",{onClick:()=>B(D.name),style:{...ze.catBtn,...ae?ze.catBtnImage(Y[D.id],J):J?ze.catBtnActive:ze.catBtnDefault},children:D.name},D.id)})]}),h.jsxs("div",{style:ze.grid,children:[e.length===0&&h.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#bbb"},children:"No products found."}),e.map(D=>{const J=Array.isArray(D.images)&&D.images.length?D.images[0]:"https://via.placeholder.com/400x300?text=No+Image",ae=D.discount_percent>0?D.price-D.price*D.discount_percent/100:D.price,xe=D.stock_quantity===0,ye=D.id===m,Re={...ze.card,...ye&&{transform:"translateY(-5px)",boxShadow:"0 6px 18px rgba(0,0,0,0.4)"}},ke={...ze.image,...ye&&{transform:"scale(1.05)"}};return h.jsxs("div",{style:Re,onClick:()=>F(D.id),onMouseEnter:()=>g(D.id),onMouseLeave:()=>g(null),children:[h.jsxs("div",{style:ze.imgWrap,children:[h.jsx("img",{"data-src":J,alt:D.name,style:ke}),D.discount_percent>0&&h.jsxs("div",{style:ze.discountBadge,children:["-",D.discount_percent,"%"]})]}),h.jsxs("div",{style:ze.cardBody,children:[h.jsxs("div",{children:[h.jsx("h3",{style:ze.productName,children:D.name}),h.jsxs("div",{style:ze.priceRow,children:[h.jsxs("span",{style:ze.price,children:["Ksh ",ae.toLocaleString()]}),D.discount_percent>0&&h.jsxs("span",{style:ze.oldPrice,children:["Ksh ",D.price.toLocaleString()]})]}),h.jsx("span",{style:{...ze.stock,...xe&&ze.stockOut},children:xe?"Out of stock":`${D.stock_quantity} in stock`})]}),h.jsxs("button",{onClick:Be=>q(D.id,Be),disabled:xe,style:ze.addBtn(xe),children:[" ",xe?"Unavailable":"Add to Cart"]})]})]},D.id)})]})]})}if(typeof document<"u"){const t=document.createElement("style");t.innerHTML="@keyframes spin { to { transform: rotate(360deg); } }",document.head.appendChild(t)}function I4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function L4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function D4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function M4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function N4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function B4(t){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const $4="https://via.placeholder.com/80x80?text=No+Image";function F4(){const{authUser:t}=on(),{cartItems:e,updateQuantity:r,removeFromCart:s}=bo(),o=Ot(),[l,u]=S.useState(null),[d,f]=S.useState(null);if(!t)return h.jsxs("div",{style:he.emptyState,children:[h.jsx(Qs,{size:64,style:{color:"#d1d5db",marginBottom:16}}),h.jsx("h2",{style:{marginBottom:8},children:"Please log in to view your cart"}),h.jsx("button",{style:he.primaryBtn,onClick:()=>o("/login"),children:"Go to Login"})]});if(!e)return h.jsxs("div",{style:he.emptyState,children:[h.jsx("div",{style:he.spinner}),h.jsx("p",{children:"Loading your cart..."})]});if(e.length===0)return h.jsxs("div",{style:he.emptyState,children:[h.jsx(Qs,{size:64,style:{color:"#d1d5db",marginBottom:16}}),h.jsx("h2",{style:{marginBottom:8},children:"Your cart is empty"}),h.jsx("p",{style:{color:"#6b7280",marginBottom:24},children:"Add some products to get started!"}),h.jsxs("button",{style:he.primaryBtn,onClick:()=>o("/shop"),children:[h.jsx(r1,{style:{marginRight:8},size:20}),"Start Shopping"]})]});const m=e.reduce((O,B)=>{const F=B.product.discount_percent?B.product.price*(1-B.product.discount_percent/100):B.product.price;return O+F*B.quantity},0),g=35,v=.1,x=m*v,w=m+g+x,_=e.some(O=>O.quantity>O.product.stock_quantity),k=O=>{const B=O.quantity+1;if(B>O.product.stock_quantity){alert(`Maximum stock for ${O.product.name} is ${O.product.stock_quantity}.`);return}r(O.id,B)},C=O=>{O.quantity>1&&r(O.id,O.quantity-1)},T=(O,B)=>{let F=parseInt(B,10);(isNaN(F)||F<1)&&(F=1),F>O.product.stock_quantity&&(alert(`Maximum stock for ${O.product.name} is ${O.product.stock_quantity}.`),F=O.product.stock_quantity),r(O.id,F)},R=async O=>{f(O),setTimeout(()=>{s(O),f(null)},300)},E=()=>{if(_){alert("Please adjust the quantity of items exceeding available stock before checking out.");return}o("/checkout")};return h.jsxs("div",{style:he.page,children:[h.jsxs("div",{style:he.container,children:[h.jsxs(Ae.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:he.header,children:[h.jsxs("div",{style:he.titleSection,children:[h.jsx(Qs,{style:{color:"#4f46e5"},size:32}),h.jsx("h1",{style:he.title,children:"Shopping Cart"})]}),h.jsxs("div",{style:he.itemCount,children:[e.length," items"]})]}),h.jsxs("div",{style:he.cartGrid,children:[h.jsx("div",{style:he.itemsColumn,children:h.jsx(br,{children:e.map((O,B)=>{const F=O.product.discount_percent?O.product.price*(1-O.product.discount_percent/100):O.product.price,q=F*O.quantity,Y=O.quantity>O.product.stock_quantity,D=O.id===l,J=O.quantity>=O.product.stock_quantity;return h.jsxs(Ae.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:d===O.id?0:1,y:0,scale:d===O.id?.9:1},exit:{opacity:0,x:-100},transition:{delay:B*.05},style:{...he.itemCard,background:Y?"linear-gradient(135deg, #fef2f2 0%, #fff 100%)":"#fff",borderColor:Y?"#fca5a5":D?"#c7d2fe":"#e5e7eb",transform:D?"translateY(-2px)":"translateY(0)"},onMouseEnter:()=>u(O.id),onMouseLeave:()=>u(null),children:[h.jsxs("div",{style:he.imageWrapper,children:[h.jsx("img",{src:O.product.images?.[0]||$4,alt:O.product.name,style:he.image}),O.product.discount_percent>0&&h.jsxs("div",{style:he.discountBadge,children:["-",O.product.discount_percent,"%"]})]}),h.jsxs("div",{style:he.itemDetails,children:[h.jsx("div",{style:he.itemName,children:O.product.name}),Y&&h.jsxs("div",{style:he.stockError,children:[" Only ",O.product.stock_quantity," in stock"]}),h.jsxs("div",{style:he.priceRow,children:[O.product.discount_percent>0&&h.jsxs("span",{style:he.originalPrice,children:["Ksh ",O.product.price.toLocaleString()]}),h.jsxs("span",{style:he.price,children:["Ksh ",F.toFixed(2).toLocaleString()]})]})]}),h.jsxs("div",{style:he.quantitySection,children:[h.jsx("div",{style:he.qtyLabel,children:"Quantity"}),h.jsxs("div",{style:he.qtyControls,children:[h.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>C(O),style:he.qtyBtn(O.quantity<=1),disabled:O.quantity<=1,children:h.jsx(M4,{size:16})}),h.jsx("input",{type:"number",value:O.quantity,min:1,onChange:ae=>T(O,ae.target.value),style:{...he.qtyInput,borderColor:Y?"#fca5a5":"#d1d5db"}}),h.jsx(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(O),style:he.qtyBtn(J),disabled:J,children:h.jsx(N4,{size:16})})]})]}),h.jsxs("div",{style:he.lineTotalSection,children:[h.jsx("div",{style:he.qtyLabel,children:"Total"}),h.jsxs("div",{style:he.lineTotal,children:["Ksh ",q.toFixed(2).toLocaleString()]})]}),h.jsx(Ae.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},onClick:()=>R(O.id),style:he.removeBtn,title:"Remove Item",children:h.jsx(B4,{size:20})})]},O.id)})})}),h.jsxs(Ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},style:he.summary,children:[h.jsx("h2",{style:he.summaryTitle,children:"Order Summary"}),h.jsxs("div",{style:he.summaryContent,children:[h.jsxs("div",{style:he.summaryRow,children:[h.jsxs("span",{children:["Subtotal (",e.length," items)"]}),h.jsxs("span",{style:he.summaryValue,children:["Ksh ",m.toFixed(2).toLocaleString()]})]}),h.jsxs("div",{style:he.summaryRow,children:[h.jsx("span",{children:"Shipping Fee"}),h.jsxs("span",{style:he.summaryValue,children:["Ksh ",g.toFixed(2)]})]}),h.jsxs("div",{style:he.summaryRow,children:[h.jsxs("span",{children:["Tax (",v*100,"%)"]}),h.jsxs("span",{style:he.summaryValue,children:["Ksh ",x.toFixed(2).toLocaleString()]})]}),h.jsx("div",{style:he.divider}),h.jsxs("div",{style:he.totalRow,children:[h.jsx("span",{children:"Order Total"}),h.jsxs("span",{style:he.totalValue,children:["Ksh ",w.toFixed(2).toLocaleString()]})]})]}),_&&h.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},style:he.errorBox,children:[h.jsx(mm,{style:{color:"#dc2626"}}),h.jsx("p",{children:"Please adjust quantities before checkout"})]}),h.jsx(Ae.button,{whileHover:{scale:_?1:1.02},whileTap:{scale:_?1:.98},style:he.checkoutBtn(_),onClick:E,disabled:_,children:_?" Fix Stock Errors":"Proceed to Checkout"}),h.jsxs("div",{style:he.secureText,children:[h.jsx(mm,{style:{color:"#10b981"},size:14}),h.jsx("span",{children:"Secure Checkout"})]})]})]})]}),h.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 968px) {
          .cart-grid { flex-direction: column !important; }
        }
      `})]})}const he={page:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%)",padding:"40px 20px"},container:{maxWidth:"1200px",margin:"0 auto",width:"100%"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",padding:"20px 24px",background:"#fff",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",flexWrap:"wrap"},titleSection:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},title:{fontSize:"28px",fontWeight:700,color:"#1f2937",margin:0},itemCount:{background:"#eef2ff",color:"#4f46e5",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:600},cartGrid:{display:"flex",gap:"24px",alignItems:"flex-start",flexWrap:"wrap"},itemsColumn:{flex:2,display:"flex",flexDirection:"column",gap:"16px",minWidth:"280px"},itemCard:{display:"grid",gridTemplateColumns:"100px 1fr auto auto 40px",gap:"20px",alignItems:"center",padding:"20px",background:"#fff",borderRadius:"16px",border:"2px solid #e5e7eb",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",transition:"all 0.3s ease",minWidth:"100%"},imageWrapper:{position:"relative"},image:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"12px",border:"1px solid #e5e7eb"},discountBadge:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"#fff",fontSize:"12px",fontWeight:700,padding:"4px 8px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(239,68,68,0.4)"},itemDetails:{display:"flex",flexDirection:"column",gap:"8px"},itemName:{fontSize:"16px",fontWeight:600,color:"#111827"},stockError:{fontSize:"13px",color:"#dc2626",fontWeight:600},priceRow:{display:"flex",alignItems:"center",gap:"8px"},originalPrice:{fontSize:"14px",color:"#9ca3af",textDecoration:"line-through"},price:{fontSize:"16px",fontWeight:700,color:"#4f46e5"},quantitySection:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},qtyLabel:{fontSize:"12px",color:"#6b7280",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},qtyControls:{display:"flex",alignItems:"center",gap:"6px"},qtyBtn:t=>({background:t?"#e5e7eb":"#4f46e5",color:"#fff",border:"none",borderRadius:"6px",width:"28px",height:"28px",cursor:t?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center"}),qtyInput:{width:"48px",textAlign:"center",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",padding:"4px",outline:"none"},lineTotalSection:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},lineTotal:{fontWeight:700,fontSize:"15px",color:"#1f2937"},removeBtn:{background:"none",border:"none",color:"#ef4444",cursor:"pointer"},summary:{flex:1,padding:"24px",background:"#fff",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0,0,0,0.06)",display:"flex",flexDirection:"column",gap:"24px",minWidth:"280px",width:"100%"},summaryTitle:{fontSize:"20px",fontWeight:700,color:"#1f2937",margin:0},summaryContent:{display:"flex",flexDirection:"column",gap:"12px"},summaryRow:{display:"flex",justifyContent:"space-between",fontSize:"15px",color:"#4b5563"},summaryValue:{fontWeight:600,color:"#111827"},divider:{height:"1px",background:"#e5e7eb",margin:"12px 0"},totalRow:{display:"flex",justifyContent:"space-between",fontSize:"17px",fontWeight:700,color:"#111827"},totalValue:{fontSize:"17px",fontWeight:700},errorBox:{display:"flex",alignItems:"center",gap:"8px",background:"#fee2e2",color:"#b91c1c",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},checkoutBtn:t=>({padding:"12px",fontSize:"16px",fontWeight:600,borderRadius:"12px",border:"none",cursor:t?"not-allowed":"pointer",background:t?"#e5e7eb":"#4f46e5",color:t?"#9ca3af":"#fff",transition:"all 0.2s ease"}),secureText:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#6b7280",marginTop:"12px"},emptyState:{minHeight:"60vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",gap:"16px"},primaryBtn:{background:"#4f46e5",color:"#fff",padding:"10px 24px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"14px"},spinner:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTopColor:"#4f46e5",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 12px auto"},responsive:{"@media(max-width:1024px)":{cartGrid:{flexDirection:"column",gap:"20px"},itemsColumn:{width:"100%"},summary:{width:"100%",padding:"20px"}},"@media(max-width:768px)":{itemCard:{gridTemplateColumns:"80px 1fr auto",gap:"12px",padding:"16px"},image:{width:"80px",height:"80px"},qtyInput:{width:"40px"},lineTotalSection:{display:"none"},summaryTitle:{fontSize:"18px"},checkoutBtn:{fontSize:"15px",padding:"10px"}},"@media(max-width:480px)":{itemCard:{gridTemplateColumns:"60px 1fr",gap:"8px",padding:"12px"},image:{width:"60px",height:"60px"},qtyBtn:{width:"24px",height:"24px"},qtyInput:{width:"36px",fontSize:"13px",padding:"2px"},summary:{padding:"16px"},summaryTitle:{fontSize:"16px"},checkoutBtn:{fontSize:"14px",padding:"8px"},secureText:{fontSize:"12px"}}}},z4=()=>h.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:h.jsxs("div",{style:{maxWidth:980,margin:"0 auto"},children:[h.jsx("h1",{children:"About Fetop"}),h.jsx("p",{children:"Fetop is a curated clothing brand focused on quality essentials and everyday style. We design and source durable, high-quality garments and accessories at honest prices."}),h.jsx("h3",{children:"Our Mission"}),h.jsx("p",{children:"To make premium basics accessible while keeping ethical production and great customer service at the core of everything we do."}),h.jsx("h3",{children:"Contact & Support"}),h.jsx("p",{children:"For support, please use the Contact page. If you're a retailer or influencer interested in partnering with us, email partnerships@fetop.com (replace with real address later)."})]})}),V4=()=>{const[t,e]=S.useState({name:"",email:"",message:""}),r=o=>e(l=>({...l,[o.target.name]:o.target.value})),s=o=>{o.preventDefault(),alert("Thanks  message sent (demo)."),e({name:"",email:"",message:""})};return h.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:h.jsxs("div",{style:{maxWidth:720,margin:"0 auto"},children:[h.jsx("h1",{children:"Contact Us"}),h.jsx("p",{children:"Have questions? Fill the form and well get back to you within 24-48 hours."}),h.jsxs("form",{onSubmit:s,style:{marginTop:20,display:"grid",gap:12},children:[h.jsx("input",{name:"name",placeholder:"Your name",value:t.name,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),h.jsx("input",{name:"email",type:"email",placeholder:"Your email",value:t.email,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),h.jsx("textarea",{name:"message",placeholder:"Message",value:t.message,onChange:r,required:!0,rows:6,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),h.jsx("button",{type:"submit",style:{padding:"10px 16px",borderRadius:8,cursor:"pointer",background:"#15273f",color:"#fff",border:"none"},children:"Send Message"})]})]})})},dt={center:{textAlign:"center",marginTop:"60px",fontSize:"18px",fontFamily:"Arial, sans-serif"},container:{maxWidth:"1200px",margin:"0 auto",padding:"32px"},heading:{fontSize:"28px",fontWeight:"600",marginBottom:"24px",textAlign:"center",color:"#333"},tableWrapper:{overflowX:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"8px"},table:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff"},th:{textAlign:"left",padding:"16px 24px",backgroundColor:"#f7f7f7",fontWeight:"700",color:"#555",borderBottom:"2px solid #ddd",fontSize:"14px",textTransform:"uppercase"},td:{padding:"16px 24px",borderBottom:"1px solid #eee",fontSize:"14px",cursor:"pointer",transition:"background-color 0.2s"},tr:{":hover":{backgroundColor:"#f0f8ff"}},status:t=>{let e,r;switch(t){case"completed":e="#155724",r="#d4edda";break;case"pending":e="#856404",r="#fff3cd";break;case"shipped":case"processing":e="#004085",r="#cce5ff";break;default:e="#383d41",r="#e2e3e5"}return{padding:"4px 8px",borderRadius:"4px",fontWeight:"600",color:e,backgroundColor:r,display:"inline-block",textTransform:"capitalize"}}};function U4(){const{authUser:t}=on(),[e,r]=S.useState([]),[s,o]=S.useState(!0),[l,u]=S.useState(""),d=Ot();S.useEffect(()=>{t&&f()},[t]);async function f(){o(!0),u("");try{const{data:m,error:g}=await se.from("orders").select(`
          id,
          total_amount,
          status,
          created_at,
          addresses:address_id(
            city,
            country
          )
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(g)throw g;r(m||[])}catch(m){console.error("Error fetching orders:",m),u(m.message||"Failed to fetch orders.")}finally{o(!1)}}return t?s?h.jsx("p",{style:dt.center,children:" Loading your orders..."}):l?h.jsxs("p",{style:{...dt.center,color:"red"},children:[" ",l]}):e.length===0?h.jsx("p",{style:dt.center,children:"No orders placed yet."}):h.jsxs("div",{style:dt.container,children:[h.jsx("h2",{style:dt.heading,children:"My Orders"}),h.jsx("div",{style:dt.tableWrapper,children:h.jsxs("table",{style:dt.table,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{...dt.th,width:"15%"},children:"Order ID"}),h.jsx("th",{style:{...dt.th,width:"20%"},children:"Date"}),h.jsx("th",{style:{...dt.th,width:"20%"},children:"Status"}),h.jsx("th",{style:{...dt.th,width:"25%",textAlign:"right"},children:"Total"}),h.jsx("th",{style:{...dt.th,width:"20%"},children:"Shipping To"})]})}),h.jsx("tbody",{children:e.map(m=>h.jsxs("tr",{onClick:()=>d(`/orders/${m.id}`),children:[h.jsxs("td",{style:dt.td,children:[m.id.slice(0,8),"..."]}),h.jsx("td",{style:dt.td,children:new Date(m.created_at).toLocaleDateString()}),h.jsx("td",{style:dt.td,children:h.jsx("span",{style:dt.status(m.status),children:m.status})}),h.jsxs("td",{style:{...dt.td,fontWeight:"600",textAlign:"right"},children:["Ksh ",Number(m.total_amount).toLocaleString()]}),h.jsx("td",{style:dt.td,children:m.addresses?`${m.addresses.city}, ${m.addresses.country}`:"-"})]},m.id))})]})})]}):h.jsx("p",{style:dt.center,children:"Please log in to view your orders."})}function W4(){const{id:t}=b0(),e=Ot(),{authUser:r}=on(),[s,o]=S.useState(null),[l,u]=S.useState(!0),[d,f]=S.useState(null);S.useEffect(()=>{r&&m()},[t,r]);async function m(){try{u(!0),f(null);const{data:g,error:v}=await se.from("orders").select("*").eq("id",t).eq("user_id",r.id).single();if(v)throw v;const{data:x}=await se.from("addresses").select("*").eq("id",g.address_id).maybeSingle(),{data:w}=await se.from("order_items").select("*").eq("order_id",g.id),_=await Promise.all((w||[]).map(async k=>{const{data:C}=await se.from("products").select("name, sku, images").eq("id",k.product_id).single();return{...k,product:C}}));o({...g,address:x,items:_})}catch(g){f(g.message)}finally{u(!1)}}return l?h.jsxs("div",{style:Te.loaderContainer,children:[h.jsx("div",{style:Te.skeletonCard}),h.jsx("div",{style:Te.skeletonCard}),h.jsx("div",{style:Te.skeletonTable})]}):d?h.jsxs("div",{style:Te.errorBox,children:[h.jsxs("p",{children:[" ",d]}),h.jsx("button",{style:Te.backBtn,onClick:()=>e("/orders"),children:" Back"})]}):s?h.jsxs("div",{style:Te.page,children:[h.jsxs("div",{style:Te.header,children:[h.jsx("button",{style:Te.backBtn,onClick:()=>e("/orders"),children:" Back to Orders"}),h.jsxs("h1",{style:Te.title,children:["Order"," ",h.jsxs("span",{style:Te.highlight,children:["#",s.id.slice(0,8)]})]})]}),h.jsxs("div",{style:Te.card,children:[h.jsx("h2",{style:Te.sectionTitle,children:" Order Summary"}),h.jsxs("div",{style:Te.grid,children:[h.jsxs("div",{style:Te.infoBox,children:[h.jsx("span",{style:Te.label,children:"Status"}),h.jsx("span",{style:Te.badge(s.status),children:s.status})]}),h.jsxs("div",{style:Te.infoBox,children:[h.jsx("span",{style:Te.label,children:"Date"}),h.jsxs("span",{children:[new Date(s.created_at).toLocaleDateString()," ",new Date(s.created_at).toLocaleTimeString()]})]}),h.jsxs("div",{style:Te.infoBox,children:[h.jsx("span",{style:Te.label,children:"Total Amount"}),h.jsxs("strong",{style:{color:"#0070f3",fontSize:18},children:["Ksh ",Number(s.total_amount).toLocaleString()]})]})]})]}),s.address&&h.jsxs("div",{style:Te.card,children:[h.jsx("h2",{style:Te.sectionTitle,children:" Shipping Address"}),h.jsxs("p",{style:Te.address,children:[s.address.address_line_1,s.address.address_line_2&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),s.address.address_line_2]}),h.jsx("br",{}),s.address.city,", ",s.address.country]})]}),h.jsxs("div",{style:Te.card,children:[h.jsx("h2",{style:Te.sectionTitle,children:" Ordered Items"}),h.jsxs("table",{style:Te.table,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Product"}),h.jsx("th",{children:"Qty"}),h.jsx("th",{children:"Price"}),h.jsx("th",{children:"Subtotal"})]})}),h.jsx("tbody",{children:s.items?.map((g,v)=>{const x=g.product?.image_url||Array.isArray(g.product?.images)&&g.product.images[0];return h.jsxs("tr",{children:[h.jsxs("td",{style:Te.productCell,children:[x?h.jsx("img",{src:x,alt:g.product?.name,style:Te.thumbnail}):h.jsx("div",{style:Te.placeholderThumb,children:""}),h.jsxs("div",{children:[h.jsx("b",{children:g.product?.name}),h.jsxs("div",{style:Te.sku,children:["SKU: ",g.product?.sku]})]})]}),h.jsx("td",{style:{textAlign:"center"},children:g.quantity}),h.jsxs("td",{style:{textAlign:"right"},children:["Ksh ",Number(g.price).toLocaleString()]}),h.jsxs("td",{style:{textAlign:"right",fontWeight:"700"},children:["Ksh ",Number(g.subtotal).toLocaleString()]})]},v)})})]})]}),h.jsxs("div",{style:Te.totalCard,children:[h.jsx("span",{children:"Total Payable:"}),h.jsxs("strong",{children:["Ksh ",Number(s.total_amount).toLocaleString()]})]})]}):h.jsx("p",{children:"No order found."})}const Te={page:{padding:"40px 20px",maxWidth:"900px",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30},title:{fontSize:"28px",fontWeight:"800",color:"#1f2937"},highlight:{background:"linear-gradient(90deg, #0070f3, #00b4d8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},backBtn:{background:"#fff",border:"2px solid #e5e7eb",borderRadius:"8px",padding:"8px 14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},card:{background:"#fff",borderRadius:12,padding:24,marginBottom:20,boxShadow:"0 3px 8px rgba(0,0,0,0.05)"},sectionTitle:{marginBottom:16,fontSize:18,fontWeight:"700",color:"#111827",borderBottom:"2px solid #f3f4f6",paddingBottom:8},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:20},infoBox:{padding:12,background:"#f9fafb",borderRadius:8,border:"1px solid #e5e7eb"},label:{fontSize:12,color:"#6b7280",textTransform:"uppercase",display:"block",marginBottom:6},badge:t=>({padding:"6px 10px",borderRadius:8,fontWeight:"700",backgroundColor:t==="completed"?"#d1fae5":t==="cancelled"?"#fee2e2":"#fef3c7",color:t==="completed"?"#065f46":t==="cancelled"?"#991b1b":"#92400e"}),address:{lineHeight:1.8,color:"#374151"},table:{width:"100%",borderCollapse:"collapse"},sku:{fontSize:12,color:"#6b7280"},productCell:{display:"flex",alignItems:"center",gap:12},thumbnail:{width:50,height:50,borderRadius:8,objectFit:"cover",border:"1px solid #e5e7eb"},placeholderThumb:{width:50,height:50,borderRadius:8,background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:18},totalCard:{background:"#f3f4f6",borderRadius:10,padding:"18px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:18,fontWeight:"700",marginTop:30,border:"2px solid #e5e7eb"},errorBox:{maxWidth:600,margin:"80px auto",background:"#fee2e2",padding:24,borderRadius:10,textAlign:"center",color:"#991b1b"},loaderContainer:{maxWidth:900,margin:"80px auto",display:"flex",flexDirection:"column",gap:20},skeletonCard:{height:120,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",borderRadius:10,animation:"pulse 1.5s infinite"},skeletonTable:{height:200,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",borderRadius:10,animation:"pulse 1.5s infinite"}},H4=()=>h.jsxs("main",{style:{padding:"120px 20px",textAlign:"center"},children:[h.jsx("h1",{children:"404  Page Not Found"}),h.jsx("p",{children:"The page you're looking for doesn't exist. Try going back home."}),h.jsx("div",{style:{marginTop:20},children:h.jsx(Et,{to:"/",style:{padding:"10px 14px",background:"#ff8c00",color:"#fff",borderRadius:8,textDecoration:"none"},children:"Go to Home"})})]}),q4=(()=>h.jsx("div",{className:"container",style:{height:"23vh"}}));function K4(){const[t,e]=S.useState(!1);S.useEffect(()=>{const s=()=>{const o=window.innerHeight+window.scrollY>=document.body.offsetHeight-200;e(o)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const r={footer:{background:"linear-gradient(180deg, #0f172a 0%, #1e293b 100%)",color:"#cbd5e1",padding:"56px 20px 24px",width:"100%",boxShadow:"0 -1px 16px rgba(0, 0, 0, 0.3)",borderTop:"1px solid #1e293b",opacity:t?1:0,transform:t?"translateY(0)":"translateY(50px)",transition:"all 0.5s ease",fontFamily:"'Poppins', sans-serif"},container:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"50px"},brand:{display:"flex",alignItems:"center",gap:"14px",flex:"1 1 220px"},logo:{width:"58px",height:"58px",borderRadius:"12px",objectFit:"cover",boxShadow:"0 0 10px rgba(96, 165, 250, 0.25)"},brandText:{color:"#fff"},brandTitle:{fontSize:"22px",margin:0,letterSpacing:"0.3px"},brandSubtitle:{fontSize:"14px",color:"#94a3b8",marginTop:"4px"},links:{display:"flex",flexWrap:"wrap",gap:"60px",flex:"2 1 400px"},linkGroup:{minWidth:"130px"},linkTitle:{fontSize:"15px",color:"#fff",marginBottom:"10px",fontWeight:600},link:{display:"block",color:"#cbd5e1",fontSize:"14px",textDecoration:"none",marginBottom:"6px",transition:"color 0.3s ease, transform 0.2s ease"},bottom:{maxWidth:"1200px",margin:"40px auto 0",borderTop:"1px solid #1e293b",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",fontSize:"13px",color:"#94a3b8"},socials:{display:"flex",gap:"16px"},socialLink:{color:"#cbd5e1",fontSize:"18px",transition:"color 0.3s ease, transform 0.2s ease"}};return h.jsxs("footer",{style:r.footer,children:[h.jsxs("div",{style:r.container,children:[h.jsxs("div",{style:r.brand,children:[h.jsx("img",{src:"/src/customer/assets/fetop_logo.png",alt:"Fetop Logo",style:r.logo}),h.jsxs("div",{style:r.brandText,children:[h.jsx("h2",{style:r.brandTitle,children:"Fetop"}),h.jsx("p",{style:r.brandSubtitle,children:"Quality essentials  Everyday style"})]})]}),h.jsxs("div",{style:r.links,children:[h.jsxs("div",{style:r.linkGroup,children:[h.jsx("h4",{style:r.linkTitle,children:"Shop"}),h.jsx("a",{href:"/shop",style:r.link,children:"All Products"}),h.jsx("a",{href:"/shop?category=men",style:r.link,children:"Men"}),h.jsx("a",{href:"/shop?category=women",style:r.link,children:"Women"})]}),h.jsxs("div",{style:r.linkGroup,children:[h.jsx("h4",{style:r.linkTitle,children:"Company"}),h.jsx("a",{href:"/about",style:r.link,children:"About"}),h.jsx("a",{href:"/contact",style:r.link,children:"Contact"}),h.jsx("a",{href:"/careers",style:r.link,children:"Careers"})]}),h.jsxs("div",{style:r.linkGroup,children:[h.jsx("h4",{style:r.linkTitle,children:"Legal"}),h.jsx("a",{href:"/terms",style:r.link,children:"Terms"}),h.jsx("a",{href:"/policy",style:r.link,children:"Privacy"})]})]})]}),h.jsxs("div",{style:r.bottom,children:[h.jsxs("p",{children:[" ",new Date().getFullYear()," Fetop. All rights reserved."]}),h.jsxs("div",{style:r.socials,children:[h.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Facebook",children:h.jsx("i",{className:"fa-brands fa-facebook"})}),h.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Instagram",children:h.jsx("i",{className:"fa-brands fa-instagram"})}),h.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Twitter",children:h.jsx("i",{className:"fa-brands fa-x-twitter"})})]})]})]})}const G4=S.createContext(),Y4=({children:t})=>{const[e,r]=S.useState(()=>{const o=localStorage.getItem("fetop_orders");return o?JSON.parse(o):[]});S.useEffect(()=>{localStorage.setItem("fetop_orders",JSON.stringify(e))},[e]);const s=o=>{const l={id:`ORD-${Date.now()}`,items:o,date:new Date().toLocaleString()};r(u=>[...u,l])};return h.jsx(G4.Provider,{value:{orders:e,addOrder:s},children:t})},u0="https://via.placeholder.com/900x700?text=No+Image",J4="254748859705";function Q4(){const{id:t}=b0(),e=Ot(),{addToCart:r}=bo(),{authUser:s}=on(),[o,l]=S.useState(null),[u,d]=S.useState([]),[f,m]=S.useState(""),[g,v]=S.useState(0),[x,w]=S.useState(!1),[_,k]=S.useState(!1),C=S.useRef(null),[T,R]=S.useState(1),[E,O]=S.useState(!1),[B,F]=S.useState([]),[q,Y]=S.useState(!1),[D,J]=S.useState(!1),[ae,xe]=S.useState([]),[ye,Re]=S.useState(null),[ke,Be]=S.useState(!0),[ge,G]=S.useState("recent"),[oe,Q]=S.useState(1),I=5,[z,we]=S.useState([]),[ve,_e]=S.useState(0),Se=4,[Oe,Pe]=S.useState(!1),[Le,xt]=S.useState(!1),[ni,Gn]=S.useState(!1),[an,ri]=S.useState(0),[Sn,rs]=S.useState(""),[jr,is]=S.useState(!1),[ii,Yn]=S.useState(!1),[In,si]=S.useState(null),Gt=S.useRef(!0),oi=S.useRef(null);S.useEffect(()=>(Gt.current=!0,Eo(),()=>{Gt.current=!1}),[t,s]),S.useEffect(()=>{const V=de=>{_&&(de.key==="Escape"&&k(!1),de.key==="ArrowLeft"&&Jn(-1),de.key==="ArrowRight"&&Jn(1))};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[_,g,u.length]);const jo=S.useCallback(()=>{oi.current&&clearTimeout(oi.current),oi.current=setTimeout(()=>{w(V=>!V)},100)},[]);S.useEffect(()=>{if(!x||!C.current)return;const V=C.current;function de(He){const et=V.getBoundingClientRect(),Ln=(He.clientX-et.left)/et.width,wt=(He.clientY-et.top)/et.height,It=Math.max(0,Math.min(100,Ln*100)),Xn=Math.max(0,Math.min(100,wt*100));V.style.transformOrigin=`${It}% ${Xn}%`}return window.addEventListener("mousemove",de),()=>window.removeEventListener("mousemove",de)},[x]);async function Eo(){Be(!0),si(null);try{const{data:V,error:de}=await se.from("products").select("*, categories(name)").eq("id",t).single();if(de)throw new Error("Product not found");if(!Gt.current)return;l(V);const He=Array.isArray(V?.images)?V.images:[];d(He),m(He[0]||u0),v(0);const{data:et,error:Ln}=await se.from("reviews").select("id, rating, comment, created_at, users(full_name)").eq("product_id",t).order("created_at",{ascending:!1});if(Ln)throw Ln;if(!Gt.current)return;if(xe(et||[]),et&&et.length>0){const wt=et.reduce((It,Xn)=>It+Number(Xn.rating||0),0)/et.length;Re(Number(wt.toFixed(2)))}if(V?.category_id){const{data:wt,error:It}=await se.from("products").select("id, name, price, discount_percent, images, stock_quantity").eq("category_id",V.category_id).neq("id",t).eq("is_active",!0).limit(12);!It&&Gt.current&&we(wt||[])}if(s){const{data:wt}=await se.from("wishlist").select("id").eq("user_id",s.id).eq("product_id",t).maybeSingle();Gt.current&&Y(!!wt?.id);const{data:It}=await se.from("orders").select("id, order_items(product_id)").eq("user_id",s.id).eq("status","completed");if(Gt.current&&It){const Tr=It.some(us=>(us.order_items||[]).some(Pr=>String(Pr.product_id)===String(t)));Pe(Tr)}const{data:Xn}=await se.from("reviews").select("id").eq("product_id",t).eq("user_id",s.id).maybeSingle();Gt.current&&xt(!!Xn?.id)}}catch(V){console.error("Load error:",V),si(V.message||"Failed to load product")}finally{Gt.current&&Be(!1)}}function Jn(V){const de=(g+V+u.length)%u.length;v(de),m(u[de])}async function ai(){if(!o||o.stock_quantity<=0){We("Out of stock");return}O(!0);try{const{data:V}=await se.from("products").select("stock_quantity").eq("id",o.id).single();if(!V||V.stock_quantity<T){We("Not enough stock"),O(!1);return}await r(o,T).catch(()=>r(o)),We(" Added to cart")}catch{We("Failed to add to cart")}finally{O(!1)}}async function To(){if(!s){We("Please log in to use wishlist");return}J(!0);try{q?(await se.from("wishlist").delete().eq("user_id",s.id).eq("product_id",t),Y(!1),We("Removed from wishlist")):(await se.from("wishlist").insert([{user_id:s.id,product_id:t}]),Y(!0),We("Added to wishlist"))}catch{We("Wishlist error")}finally{J(!1)}}async function Er(V){if(V?.preventDefault(),!s)return We("Login to post review");if(!Oe)return We("Only verified buyers can review");if(Le)return We("You already reviewed this");if(!an)return We("Please select a rating");if(!Sn.trim())return We("Please write a comment");is(!0);try{const{data:de}=await se.from("reviews").insert([{user_id:s.id,product_id:t,rating:an,comment:Sn.trim()}]).select("id, rating, comment, created_at, users(full_name)").maybeSingle(),He=de||{id:`local-${Date.now()}`,rating:an,comment:Sn.trim(),created_at:new Date().toISOString(),users:{full_name:s.full_name||"You"}};xe(wt=>[He,...wt]);const et=[He.rating,...ae.map(wt=>Number(wt.rating||0))],Ln=et.reduce((wt,It)=>wt+It,0)/et.length;Re(Number(Ln.toFixed(2))),xt(!0),Gn(!1),ri(0),rs(""),We(" Review submitted!")}catch{We("Failed to submit review")}finally{is(!1)}}function We(V){const de=Date.now();F(He=>[...He,{id:de,text:V}]),setTimeout(()=>{F(He=>He.filter(et=>et.id!==de))},3e3)}function ss(V){const de=window.location.href,He=`Check out ${o.name}`,et={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(de)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(de)}&text=${encodeURIComponent(He)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(He+" "+de)}`};et[V]&&window.open(et[V],"_blank","width=600,height=400"),Yn(!1)}function Po(){if(!o)return"#";const V=o.discount_percent>0?Number(o.price)-Number(o.price)*Number(o.discount_percent)/100:Number(o.price),de=`Hi, I am ${s?.full_name||"Customer"}. I want to order ${T} x ${o.name} (Ksh ${V.toLocaleString()}).`;return`https://wa.me/${J4}?text=${encodeURIComponent(de)}`}const li=V=>V==null?"-":Number(V).toLocaleString(),El=(V="C")=>V.split(" ").map(de=>de[0]).join("").slice(0,2).toUpperCase(),ui=[...ae].sort((V,de)=>ge==="rating_high"?de.rating-V.rating:ge==="rating_low"?V.rating-de.rating:new Date(de.created_at)-new Date(V.created_at)),ci=ui.slice(0,oe*I),os=ui.length>ci.length,as=z.slice(ve*Se,(ve+1)*Se),ls=Math.ceil(z.length/Se);if(In)return h.jsx("div",{style:$.container,children:h.jsxs("div",{style:$.errorBox,children:[h.jsx("h2",{children:"Oops! Something went wrong"}),h.jsx("p",{children:In}),h.jsx("button",{onClick:()=>e("/"),style:$.errorBtn,children:"Go Home"})]})});if(!o)return h.jsx("div",{style:$.container,children:h.jsxs("div",{style:$.skeleton,children:[h.jsx("div",{style:$.skeletonImage}),h.jsx("div",{style:$.skeletonText}),h.jsx("div",{style:$.skeletonText})]})});const Qn=o.discount_percent>0?Number(o.price)-Number(o.price)*Number(o.discount_percent)/100:Number(o.price);return h.jsxs("div",{style:$.container,children:[h.jsxs("nav",{style:$.breadcrumb,children:[h.jsx(Et,{to:"/",style:$.breadcrumbLink,children:"Home"}),h.jsx("span",{style:$.breadcrumbSep,children:"/"}),h.jsx(Et,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"All")}`,style:$.breadcrumbLink,children:o.categories?.name||"All"}),h.jsx("span",{style:$.breadcrumbSep,children:"/"}),h.jsx("span",{style:$.breadcrumbCurrent,children:o.name})]}),h.jsxs("div",{style:$.grid,children:[h.jsxs("section",{style:$.gallery,children:[h.jsxs("div",{style:$.mainImageWrap,children:[h.jsx(Ae.img,{ref:C,src:f,alt:o.name,loading:"eager",onClick:jo,initial:{opacity:.98},animate:{scale:x?1.8:1,transition:{duration:.3}},style:{...$.mainImage,cursor:x?"zoom-out":"zoom-in"}}),h.jsx("button",{onClick:()=>k(!0),style:$.expandBtn,"aria-label":"View fullscreen",children:h.jsx(V2,{})})]}),h.jsx("div",{style:$.thumbs,children:u.map((V,de)=>h.jsx("img",{src:V,alt:`Thumbnail ${de+1}`,loading:"lazy",onClick:()=>{m(V),v(de),w(!1)},style:{...$.thumb,border:de===g?"3px solid #111":"1px solid #ddd"}},de))})]}),h.jsxs("aside",{style:$.details,children:[h.jsxs("div",{style:$.detailsHeader,children:[h.jsx("h1",{style:$.title,children:o.name}),h.jsxs("div",{style:$.headerActions,children:[h.jsx("button",{onClick:()=>Yn(!ii),style:$.iconBtn,"aria-label":"Share product",children:h.jsx(W2,{})}),h.jsx(br,{children:ii&&h.jsxs(Ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:$.shareMenu,children:[h.jsxs("button",{onClick:()=>ss("facebook"),style:$.shareBtn,children:[h.jsx(B2,{})," Facebook"]}),h.jsxs("button",{onClick:()=>ss("twitter"),style:$.shareBtn,children:[h.jsx($2,{})," Twitter"]}),h.jsxs("button",{onClick:()=>ss("whatsapp"),style:$.shareBtn,children:[h.jsx(fm,{})," WhatsApp"]})]})})]})]}),h.jsxs("div",{style:$.metaRow,children:[h.jsxs("div",{style:$.priceWrap,children:[h.jsxs("div",{style:$.price,children:["Ksh ",li(Qn)]}),o.discount_percent>0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:$.oldPrice,children:["Ksh ",li(o.price)]}),h.jsxs("span",{style:$.discountBadge,children:["-",o.discount_percent,"%"]})]})]}),h.jsxs("div",{style:$.rating,children:[h.jsx("div",{style:{display:"flex",gap:4},children:Array.from({length:5}).map((V,de)=>h.jsx(el,{size:16,color:de<Math.round(ye||0)?"#FFD700":"#ddd"},de))}),h.jsxs("span",{style:$.ratingText,children:[ye?`${ye.toFixed(1)}`:"No reviews",ae.length>0&&` (${ae.length})`]})]})]}),h.jsxs("p",{style:$.categoryLine,children:["Category:"," ",h.jsx(Et,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"")}`,style:$.categoryLink,children:o.categories?.name||"Uncategorized"})]}),h.jsx("p",{style:$.desc,children:o.description}),h.jsxs("div",{style:$.stockRow,children:[o.stock_quantity>0?h.jsxs("span",{style:$.inStock,children:[" ",o.stock_quantity," in stock"]}):h.jsx("span",{style:$.outStock,children:" Out of stock"}),h.jsxs("div",{style:$.qtyBox,children:[h.jsx("button",{onClick:()=>R(V=>Math.max(1,V-1)),style:$.qtyBtn,"aria-label":"Decrease quantity",children:""}),h.jsx("div",{style:$.qtyVal,children:T}),h.jsx("button",{onClick:()=>R(V=>Math.min(V+1,o.stock_quantity||V+1)),style:$.qtyBtn,"aria-label":"Increase quantity",children:"+"})]})]}),h.jsxs("div",{style:$.actions,children:[h.jsx(Ae.button,{whileTap:{scale:.97},whileHover:{scale:1.02},onClick:ai,disabled:E||o.stock_quantity<=0,style:{...$.addBtn,opacity:o.stock_quantity<=0?.6:1},children:E?"Adding":"Add to cart"}),h.jsxs(Ae.button,{whileTap:{scale:.97},whileHover:{scale:1.02},onClick:()=>window.open(Po(),"_blank"),disabled:o.stock_quantity<=0,style:$.whatsappBtn,children:[h.jsx(fm,{})," WhatsApp Order"]}),h.jsx("button",{onClick:To,style:$.wishBtn,disabled:D,"aria-label":q?"Remove from wishlist":"Add to wishlist",children:q?h.jsx(U2,{color:"#e11d48"}):h.jsx(Q2,{})})]}),h.jsxs("div",{style:$.infoGrid,children:[h.jsxs("div",{style:$.infoCard,children:[h.jsx("strong",{children:" Delivery"}),h.jsx("p",{style:$.small,children:"Free within Nairobi"})]}),h.jsxs("div",{style:$.infoCard,children:[h.jsx("strong",{children:" Returns"}),h.jsx("p",{style:$.small,children:"7-day return policy"})]}),h.jsxs("div",{style:$.infoCard,children:[h.jsx("strong",{children:" Payment"}),h.jsx("p",{style:$.small,children:"COD & Card accepted"})]})]}),Oe&&!Le&&h.jsx("button",{onClick:()=>Gn(!0),style:$.reviewBtn,children:" Write a verified review"})]})]}),h.jsxs("section",{style:$.reviewsSection,children:[h.jsxs("div",{style:$.reviewsHeader,children:[h.jsx("h2",{style:$.sectionTitle,children:"Customer Reviews"}),h.jsxs("select",{value:ge,onChange:V=>G(V.target.value),style:$.sortSelect,children:[h.jsx("option",{value:"recent",children:"Most Recent"}),h.jsx("option",{value:"rating_high",children:"Highest Rated"}),h.jsx("option",{value:"rating_low",children:"Lowest Rated"})]})]}),ke?h.jsx("div",{style:$.loading,children:"Loading reviews..."}):ae.length===0?h.jsx("div",{style:$.emptyState,children:h.jsx("p",{children:"No reviews yet. Be the first to review!"})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:$.reviewsList,children:ci.map(V=>h.jsxs("div",{style:$.reviewItem,children:[h.jsxs("div",{style:$.reviewHeader,children:[h.jsx("div",{style:$.avatar,children:El(V.users?.full_name)}),h.jsxs("div",{style:$.reviewMeta,children:[h.jsx("div",{style:$.reviewerName,children:V.users?.full_name||"Customer"}),h.jsx("div",{style:$.reviewDate,children:new Date(V.created_at).toLocaleDateString()})]}),h.jsx("div",{style:$.reviewStars,children:Array.from({length:5}).map((de,He)=>h.jsx(el,{size:14,color:He<V.rating?"#FFD700":"#ddd"},He))})]}),h.jsx("p",{style:$.reviewComment,children:V.comment})]},V.id))}),os&&h.jsx("button",{onClick:()=>Q(V=>V+1),style:$.loadMoreBtn,children:"Load More Reviews"})]})]}),z.length>0&&h.jsxs("section",{style:$.relatedSection,children:[h.jsx("h2",{style:$.sectionTitle,children:"Related Products"}),h.jsxs("div",{style:$.carouselWrap,children:[ve>0&&h.jsx("button",{onClick:()=>_e(V=>V-1),style:{...$.carouselBtn,left:0},"aria-label":"Previous products",children:h.jsx(gm,{})}),h.jsx("div",{style:$.carousel,children:as.map(V=>{const de=Array.isArray(V.images)&&V.images[0]?V.images[0]:u0,He=V.discount_percent>0?Number(V.price)-Number(V.price)*Number(V.discount_percent)/100:Number(V.price);return h.jsxs("article",{style:$.relatedCard,children:[h.jsx("img",{src:de,alt:V.name,style:$.relatedImg,loading:"lazy"}),h.jsxs("div",{style:$.relatedBody,children:[h.jsx("div",{style:$.relatedName,children:V.name}),h.jsxs("div",{style:$.relatedPrice,children:["Ksh ",li(He)]}),h.jsxs("div",{style:$.relatedActions,children:[h.jsx("button",{onClick:()=>e(`/product/${V.id}`),style:$.relatedViewBtn,children:"View"}),h.jsx("button",{onClick:async()=>{try{await r(V,1),We(" Added to cart")}catch{We("Failed to add")}},style:$.relatedCartBtn,children:"Add"})]})]})]},V.id)})}),ve<ls-1&&h.jsx("button",{onClick:()=>_e(V=>V+1),style:{...$.carouselBtn,right:0},"aria-label":"Next products",children:h.jsx(ym,{})})]})]}),h.jsx(br,{children:ni&&h.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:$.modalBackdrop,onClick:()=>Gn(!1),children:h.jsxs(Ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},style:$.modal,onClick:V=>V.stopPropagation(),children:[h.jsxs("div",{style:$.modalHeader,children:[h.jsx("h3",{style:$.modalTitle,children:"Write a Review"}),h.jsx("button",{onClick:()=>Gn(!1),style:$.modalClose,"aria-label":"Close modal",children:h.jsx(ll,{})})]}),h.jsxs("div",{style:$.modalBody,children:[h.jsx("div",{style:$.starSelector,children:[1,2,3,4,5].map(V=>h.jsx(el,{size:32,color:V<=an?"#FFD700":"#ddd",style:{cursor:"pointer",transition:"color 0.2s"},onClick:()=>ri(V),onMouseEnter:de=>de.currentTarget.style.transform="scale(1.1)",onMouseLeave:de=>de.currentTarget.style.transform="scale(1)"},V))}),h.jsx("textarea",{value:Sn,onChange:V=>rs(V.target.value),placeholder:"Share your experience with this product...",style:$.modalTextarea,rows:5,maxLength:500}),h.jsxs("div",{style:$.charCount,children:[Sn.length,"/500 characters"]}),h.jsxs("div",{style:$.modalActions,children:[h.jsx("button",{onClick:Er,disabled:jr||!an||!Sn.trim(),style:{...$.submitBtn,opacity:jr||!an||!Sn.trim()?.6:1},children:jr?"Posting...":"Post Review"}),h.jsx("button",{onClick:()=>Gn(!1),style:$.cancelBtn,children:"Cancel"})]})]})]})})}),h.jsx(br,{children:_&&h.jsxs(Ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:$.lightbox,onClick:()=>k(!1),children:[h.jsx("button",{onClick:()=>k(!1),style:$.lightboxClose,"aria-label":"Close lightbox",children:h.jsx(ll,{size:24})}),u.length>1&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:V=>{V.stopPropagation(),Jn(-1)},style:{...$.lightboxNav,left:20},"aria-label":"Previous image",children:h.jsx(gm,{size:24})}),h.jsx("button",{onClick:V=>{V.stopPropagation(),Jn(1)},style:{...$.lightboxNav,right:20},"aria-label":"Next image",children:h.jsx(ym,{size:24})})]}),h.jsx(Ae.img,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},src:f,alt:o.name,style:$.lightboxImg,onClick:V=>V.stopPropagation()},g),h.jsxs("div",{style:$.lightboxCounter,children:[g+1," / ",u.length]})]})}),h.jsx("div",{style:$.toastContainer,children:h.jsx(br,{children:B.map((V,de)=>h.jsx(Ae.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},style:{...$.toast,bottom:20+de*60},children:V.text},V.id))})})]})}const Xe=window.innerWidth<=768,c0=window.innerWidth<=1024,$={container:{padding:Xe?"16px 4%":"24px 5%",maxWidth:1400,margin:"0 auto",fontFamily:"Inter, system-ui, -apple-system, sans-serif",background:"linear-gradient(to bottom, #fafafa 0%, #ffffff 100%)",minHeight:"100vh"},breadcrumb:{display:"flex",gap:8,alignItems:"center",marginBottom:16,fontSize:Xe?13:14,flexWrap:"wrap"},breadcrumbLink:{color:"#666",textDecoration:"none",transition:"color 0.2s"},breadcrumbSep:{color:"#ccc"},breadcrumbCurrent:{color:"#111",fontWeight:600},grid:{display:"grid",gridTemplateColumns:Xe?"1fr":c0?"1fr 1fr":"1.2fr 1fr",gap:Xe?20:32,marginBottom:40},gallery:{position:"relative"},mainImageWrap:{position:"relative",width:"100%",borderRadius:16,overflow:"hidden",background:"#fff",boxShadow:"0 8px 24px rgba(0,0,0,0.08)"},mainImage:{width:"100%",height:Xe?320:520,objectFit:"cover",display:"block",transition:"transform 0.3s ease"},expandBtn:{position:"absolute",top:16,right:16,background:"rgba(255,255,255,0.9)",border:"none",borderRadius:8,padding:10,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},thumbs:{display:"flex",gap:8,marginTop:12,flexWrap:"wrap"},thumb:{width:Xe?60:80,height:Xe?60:80,objectFit:"cover",borderRadius:12,cursor:"pointer",transition:"all 0.2s"},details:{background:"#fff",padding:Xe?20:28,borderRadius:16,boxShadow:"0 8px 24px rgba(0,0,0,0.06)"},detailsHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},title:{fontSize:Xe?22:28,margin:0,fontWeight:700,lineHeight:1.3,color:"#111"},headerActions:{position:"relative",display:"flex",gap:8},iconBtn:{background:"#f3f4f6",border:"none",borderRadius:8,padding:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},shareMenu:{position:"absolute",top:"100%",right:0,marginTop:8,background:"#fff",borderRadius:12,boxShadow:"0 8px 24px rgba(0,0,0,0.15)",padding:8,zIndex:100,minWidth:160},shareBtn:{width:"100%",padding:"10px 12px",border:"none",background:"transparent",cursor:"pointer",textAlign:"left",borderRadius:8,display:"flex",alignItems:"center",gap:8,fontSize:14,transition:"background 0.2s"},metaRow:{display:"flex",flexDirection:Xe?"column":"row",justifyContent:"space-between",alignItems:Xe?"flex-start":"center",gap:12,marginBottom:16,paddingBottom:16,borderBottom:"1px solid #eee"},priceWrap:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},price:{fontSize:Xe?24:32,fontWeight:800,color:"#111"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:18},discountBadge:{background:"#dc2626",color:"#fff",padding:"4px 8px",borderRadius:6,fontSize:13,fontWeight:700},rating:{display:"flex",alignItems:"center",gap:8},ratingText:{color:"#666",fontSize:14,fontWeight:500},categoryLine:{color:"#666",marginBottom:16,fontSize:14},categoryLink:{color:"#111",textDecoration:"none",fontWeight:600,borderBottom:"1px solid #111"},desc:{color:"#444",lineHeight:1.7,fontSize:Xe?15:16,marginBottom:20},stockRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,flexWrap:"wrap",gap:12},inStock:{color:"#16a34a",fontWeight:700,fontSize:15},outStock:{color:"#dc2626",fontWeight:700,fontSize:15},qtyBox:{display:"flex",alignItems:"center",gap:12,background:"#f9fafb",padding:8,borderRadius:10},qtyBtn:{background:"#fff",border:"1px solid #e5e7eb",padding:"8px 14px",borderRadius:8,cursor:"pointer",fontWeight:700,fontSize:16,transition:"all 0.2s"},qtyVal:{minWidth:32,textAlign:"center",fontWeight:700,fontSize:16},actions:{display:"flex",gap:10,marginBottom:20,flexWrap:"wrap"},addBtn:{flex:1,minWidth:Xe?"100%":140,padding:"14px 24px",borderRadius:12,border:"none",background:"#111",color:"#fff",cursor:"pointer",fontWeight:700,fontSize:15,transition:"all 0.2s"},whatsappBtn:{flex:1,minWidth:Xe?"100%":140,padding:"14px 24px",borderRadius:12,border:"none",background:"#25D366",color:"#fff",cursor:"pointer",fontWeight:700,fontSize:15,display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s"},wishBtn:{padding:"14px 20px",borderRadius:12,border:"1px solid #e5e7eb",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},infoGrid:{display:"grid",gridTemplateColumns:Xe?"1fr":"repeat(3, 1fr)",gap:12,marginBottom:20},infoCard:{background:"#f9fafb",padding:16,borderRadius:12,border:"1px solid #e5e7eb"},small:{color:"#666",fontSize:13,marginTop:4,lineHeight:1.5},reviewBtn:{width:"100%",padding:"12px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",borderRadius:12,cursor:"pointer",fontWeight:700,fontSize:15,transition:"all 0.2s"},reviewsSection:{background:"#fff",padding:Xe?20:32,borderRadius:16,boxShadow:"0 8px 24px rgba(0,0,0,0.06)",marginBottom:32},reviewsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24,flexWrap:"wrap",gap:12},sectionTitle:{fontSize:Xe?20:24,margin:0,fontWeight:700},sortSelect:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",background:"#fff",fontSize:14,cursor:"pointer"},reviewsList:{display:"flex",flexDirection:"column",gap:20},reviewItem:{padding:20,background:"#f9fafb",borderRadius:12,border:"1px solid #e5e7eb"},reviewHeader:{display:"flex",gap:12,alignItems:"center",marginBottom:12},avatar:{width:48,height:48,borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:16},reviewMeta:{flex:1},reviewerName:{fontWeight:700,fontSize:15,color:"#111"},reviewDate:{fontSize:12,color:"#999",marginTop:2},reviewStars:{display:"flex",gap:4},reviewComment:{color:"#444",lineHeight:1.6,fontSize:14,margin:0},loadMoreBtn:{width:"100%",padding:"12px 20px",marginTop:20,background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:12,cursor:"pointer",fontWeight:600,fontSize:14,transition:"all 0.2s"},emptyState:{textAlign:"center",padding:40,color:"#999"},loading:{textAlign:"center",padding:40,color:"#666"},relatedSection:{background:"#fff",padding:Xe?20:32,borderRadius:16,boxShadow:"0 8px 24px rgba(0,0,0,0.06)",marginBottom:32},carouselWrap:{position:"relative",marginTop:20},carousel:{display:"grid",gridTemplateColumns:Xe?"repeat(2, 1fr)":c0?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:16},carouselBtn:{position:"absolute",top:"50%",transform:"translateY(-50%)",background:"#fff",border:"none",borderRadius:"50%",width:48,height:48,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:10,transition:"all 0.2s"},relatedCard:{border:"1px solid #e5e7eb",borderRadius:12,overflow:"hidden",background:"#fff",transition:"all 0.2s"},relatedImg:{width:"100%",height:Xe?140:180,objectFit:"cover"},relatedBody:{padding:12},relatedName:{fontWeight:600,fontSize:14,marginBottom:8,color:"#111",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},relatedPrice:{color:"#667eea",fontWeight:700,fontSize:16,marginBottom:12},relatedActions:{display:"flex",gap:8},relatedViewBtn:{flex:1,padding:"8px 12px",borderRadius:8,border:"1px solid #111",background:"#fff",cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.2s"},relatedCartBtn:{flex:1,padding:"8px 12px",borderRadius:8,border:"none",background:"#111",color:"#fff",cursor:"pointer",fontSize:13,fontWeight:600,transition:"all 0.2s"},modalBackdrop:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:20,backdropFilter:"blur(4px)"},modal:{background:"#fff",borderRadius:16,padding:Xe?20:28,width:"100%",maxWidth:480,maxHeight:"90vh",overflow:"auto"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{margin:0,fontSize:20,fontWeight:700},modalClose:{background:"none",border:"none",cursor:"pointer",fontSize:20,color:"#666",padding:4,transition:"color 0.2s"},modalBody:{display:"flex",flexDirection:"column",gap:16},starSelector:{display:"flex",justifyContent:"center",gap:12,padding:20,background:"#f9fafb",borderRadius:12},modalTextarea:{width:"100%",minHeight:120,padding:12,borderRadius:12,border:"1px solid #e5e7eb",fontSize:14,fontFamily:"inherit",resize:"vertical"},charCount:{fontSize:12,color:"#999",textAlign:"right"},modalActions:{display:"flex",gap:12,marginTop:8},submitBtn:{flex:1,padding:"12px 20px",background:"#111",color:"#fff",border:"none",borderRadius:12,cursor:"pointer",fontWeight:700,fontSize:15,transition:"all 0.2s"},cancelBtn:{flex:1,padding:"12px 20px",background:"#f3f4f6",color:"#111",border:"none",borderRadius:12,cursor:"pointer",fontWeight:600,fontSize:15,transition:"all 0.2s"},lightbox:{position:"fixed",inset:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:20},lightboxClose:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:12,cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},lightboxNav:{position:"absolute",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:8,padding:12,cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},lightboxImg:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain",borderRadius:8},lightboxCounter:{position:"absolute",bottom:20,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"#fff",padding:"8px 16px",borderRadius:8,fontSize:14,fontWeight:600},toastContainer:{position:"fixed",left:"50%",transform:"translateX(-50%)",zIndex:3e3,pointerEvents:"none"},toast:{position:"absolute",left:"50%",transform:"translateX(-50%)",background:"#111",color:"#fff",padding:"12px 24px",borderRadius:12,fontSize:14,fontWeight:600,boxShadow:"0 8px 24px rgba(0,0,0,0.2)",whiteSpace:"nowrap"},errorBox:{textAlign:"center",padding:60,background:"#fff",borderRadius:16,boxShadow:"0 8px 24px rgba(0,0,0,0.06)"},errorBtn:{marginTop:20,padding:"12px 24px",background:"#111",color:"#fff",border:"none",borderRadius:12,cursor:"pointer",fontWeight:700},skeleton:{padding:40},skeletonImage:{width:"100%",height:400,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:16,marginBottom:20},skeletonText:{height:20,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",borderRadius:8,marginBottom:12}};function X4(){const[t,e]=S.useState(null),[r,s]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(!1),[f,m]=S.useState(!1),[g,v]=S.useState(""),[x,w]=S.useState("");S.useEffect(()=>{async function k(){try{const{data:{user:C},error:T}=await se.auth.getUser();if(T)throw T;if(!C)throw new Error("User not logged in.");s(C);const{data:R,error:E}=await se.from("users").select("id, full_name, email, is_admin, created_at, updated_at").eq("id",C.id).single();if(E)throw E;e(R)}catch(C){v(C.message)}finally{l(!1)}}k()},[]);async function _(){if(t){m(!0),v(""),w("");try{const{error:k}=await se.from("users").update({full_name:t.full_name,email:t.email,updated_at:new Date().toISOString()}).eq("id",t.id);if(k)throw k;if(r.email!==t.email){const{error:C}=await se.auth.updateUser({email:t.email});if(C)throw C}w("Profile updated successfully!"),d(!1)}catch(k){v(k.message)}finally{m(!1)}}}return o?h.jsx("div",{className:"loader",children:"Loading profile..."}):g&&!t?h.jsx("div",{className:"error",children:g}):h.jsxs("div",{className:"profile-container",children:[h.jsx("h2",{children:"My Profile"}),x&&h.jsx("div",{className:"message success",children:x}),g&&h.jsx("div",{className:"message error",children:g}),t&&h.jsxs("div",{className:"profile-card",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Full Name"}),u?h.jsx("input",{type:"text",value:t.full_name,onChange:k=>e({...t,full_name:k.target.value})}):h.jsx("p",{children:t.full_name})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Email"}),u?h.jsx("input",{type:"email",value:t.email,onChange:k=>e({...t,email:k.target.value})}):h.jsx("p",{children:t.email})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Role"}),h.jsx("p",{children:t.is_admin?"Admin":"Customer"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Joined"}),h.jsx("p",{children:new Date(t.created_at).toLocaleDateString()})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Last Updated"}),h.jsx("p",{children:new Date(t.updated_at).toLocaleDateString()})]}),h.jsx("div",{className:"button-row",children:u?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn save",onClick:_,disabled:f,children:f?"Saving...":"Save Changes"}),h.jsx("button",{className:"btn cancel",onClick:()=>{d(!1),w("")},children:"Cancel"})]}):h.jsx("button",{className:"btn edit",onClick:()=>d(!0),children:"Edit Profile"})})]}),h.jsx("style",{children:`
          .profile-container {
            max-width: 550px;
            margin: 60px auto;
            padding: 25px;
            background: #f9f9f9;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            font-family: "Segoe UI", sans-serif;
          }

          h2 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
          }

          .profile-card {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e5e5e5;
          }

          .form-group {
            margin-bottom: 16px;
          }

          label {
            font-weight: 600;
            color: #333;
            display: block;
            margin-bottom: 6px;
          }

          p {
            color: #555;
            margin: 0;
          }

          input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 15px;
          }

          .button-row {
            display: flex;
            justify-content: ${u?"space-between":"center"};
            margin-top: 20px;
          }

          .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: background 0.2s ease;
          }

          .btn.edit {
            background: #007bff;
            color: white;
          }

          .btn.save {
            background: #28a745;
            color: white;
          }

          .btn.cancel {
            background: #dc3545;
            color: white;
          }

          .btn:hover {
            opacity: 0.9;
          }

          .message {
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-weight: 500;
          }

          .message.success {
            background: #e7f9ed;
            color: #217a32;
            border: 1px solid #b6e2c3;
          }

          .message.error {
            background: #fce8e8;
            color: #b40000;
            border: 1px solid #e5b7b7;
          }

          .loader {
            text-align: center;
            margin-top: 100px;
            color: #555;
          }
        `})]})}function Z4(t){return Ce({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(t)}function eT(t){return Ce({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(t)}function tT(t){return Ce({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 1 0-56 0z"},child:[]}]})(t)}function nT(t){return Ce({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"},child:[]}]})(t)}function rT(){const{login:t,authUser:e}=on(),r=Ot(),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(!1),[m,g]=S.useState("");S.useEffect(()=>{e&&r("/")},[e,r]);const v=async x=>{x.preventDefault(),g("");try{await t(s,l),r("/")}catch(w){g(w.message||"Login failed")}};return h.jsx("div",{style:st.page,children:h.jsxs("div",{style:st.container,children:[h.jsx("h1",{style:st.logo,children:"Fetop"}),h.jsx("h2",{style:st.title,children:"Welcome Back"}),h.jsx("p",{style:st.subtitle,children:"Login to continue to your account"}),m&&h.jsx("p",{style:st.error,children:m}),h.jsxs("form",{style:st.form,onSubmit:v,children:[h.jsxs("div",{style:st.inputGroup,children:[h.jsx(nT,{style:st.icon}),h.jsx("input",{type:"email",placeholder:"Email address",value:s,onChange:x=>o(x.target.value),required:!0,style:{...st.input,paddingLeft:"35px"}})]}),h.jsxs("div",{style:st.inputGroup,children:[h.jsx(tT,{style:st.icon}),h.jsx("input",{type:d?"text":"password",placeholder:"Password",value:l,onChange:x=>u(x.target.value),required:!0,style:{...st.input,paddingLeft:"35px",paddingRight:"35px"}}),d?h.jsx(Z4,{style:st.eyeIcon,onClick:()=>f(!1)}):h.jsx(eT,{style:st.eyeIcon,onClick:()=>f(!0)})]}),h.jsx("button",{type:"submit",style:st.button,children:"Login"})]}),h.jsxs("p",{style:st.switchText,children:["Forgot password?"," ",h.jsx("span",{style:st.switchLink,onClick:()=>r("/forgot-password"),children:"Reset"})]}),h.jsxs("p",{style:st.switchText,children:["Don't have an account?"," ",h.jsx("span",{style:st.switchLink,onClick:()=>r("/register"),children:"Register"})]})]})})}const st={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"20px"},container:{width:"100%",maxWidth:"420px",backdropFilter:"blur(15px)",background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",padding:"50px 40px",boxShadow:"0 8px 30px rgba(0,0,0,0.15)",textAlign:"center",transition:"transform 0.2s ease"},logo:{fontSize:"36px",fontWeight:"800",color:"#2563eb",marginBottom:"10px"},title:{marginBottom:"6px",color:"#1f2937",fontSize:"24px",fontWeight:"700"},subtitle:{color:"#6b7280",fontSize:"14px",marginBottom:"25px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",padding:"12px 14px",fontSize:"15px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",transition:"border 0.2s, box-shadow 0.2s"},icon:{position:"absolute",left:"10px",fontSize:"18px",color:"#9ca3af"},eyeIcon:{position:"absolute",right:"10px",fontSize:"18px",color:"#9ca3af",cursor:"pointer"},button:{padding:"12px 15px",fontSize:"16px",background:"linear-gradient(90deg, #2563eb, #1d4ed8)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"700",transition:"transform 0.15s ease, box-shadow 0.15s ease"},error:{color:"#dc2626",background:"#fee2e2",borderRadius:"8px",padding:"10px",marginBottom:"10px",fontSize:"14px"},switchText:{marginTop:"20px",fontSize:"14px",color:"#374151"},switchLink:{color:"#2563eb",cursor:"pointer",fontWeight:"700"}};function iT(){const{signup:t}=on(),e=Ot(),[r,s]=S.useState(""),[o,l]=S.useState(""),[u,d]=S.useState(""),[f,m]=S.useState(""),[g,v]=S.useState(!1),x=async w=>{w.preventDefault(),m("");try{await t(o,u,r),v(!0)}catch(_){m(_.message||"Registration failed")}};return g?h.jsx("div",{style:Ft.page,children:h.jsxs("div",{style:Ft.container,children:[h.jsx("h2",{style:Ft.title,children:"Check Your Email"}),h.jsxs("p",{style:Ft.subtitle,children:["A confirmation link has been sent to ",h.jsx("strong",{children:o}),". Please confirm your email to continue."]}),h.jsx("button",{style:Ft.button,onClick:()=>e("/login"),children:"Go to Login"})]})}):h.jsx("div",{style:Ft.page,children:h.jsxs("div",{style:Ft.container,children:[h.jsx("h2",{style:Ft.title,children:"Create Account"}),f&&h.jsx("p",{style:Ft.error,children:f}),h.jsxs("form",{style:Ft.form,onSubmit:x,children:[h.jsx("input",{type:"text",placeholder:"Full Name",value:r,onChange:w=>s(w.target.value),required:!0,style:Ft.input}),h.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:w=>l(w.target.value),required:!0,style:Ft.input}),h.jsx("input",{type:"password",placeholder:"Password (min 6 chars)",value:u,onChange:w=>d(w.target.value),required:!0,style:Ft.input}),h.jsx("button",{type:"submit",style:Ft.button,children:"Register"})]})]})})}const Ft={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"25px",color:"#2563eb",fontSize:"28px",fontWeight:"700"},subtitle:{fontSize:"16px",marginBottom:"25px",color:"#333"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 15px",fontSize:"16px",backgroundColor:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},error:{color:"red",marginBottom:"15px",fontSize:"14px"}};function sT(){return S.useEffect(()=>{(async()=>{const{data:t,error:e,status:r}=await se.from("products").select("id, name, price, stock_quantity, product_images (id, image_url, is_primary)").eq("is_active",!0).limit(10);console.log("TEST PRODUCTS:",{status:r,data:t,error:e})})()},[]),h.jsx("div",{children:"Check console for TEST PRODUCTS output"})}function oT(){const t=Ot(),{authUser:e}=on(),{cartItems:r,cartId:s,setCartItems:o}=bo(),[l,u]=S.useState([]),[d,f]=S.useState(null),[m,g]=S.useState({address_line_1:"",city:"",country:""}),[v,x]=S.useState("cod"),[w,_]=S.useState("bike"),[k,C]=S.useState(!1);S.useEffect(()=>{if(!e)return;async function D(){try{const{data:J,error:ae}=await se.from("addresses").select("*").eq("user_id",e.id);if(ae)throw ae;if(!J||J.length===0){const{data:xe,error:ye}=await se.from("addresses").insert({user_id:e.id,address_line_1:"Default Address",city:"Nairobi",country:"Kenya",is_default:!0}).select().single();if(ye)throw ye;u([xe]),f(xe)}else{u(J);const xe=J.find(ye=>ye.is_default);f(xe||J[0])}}catch(J){console.error("Address load failed:",J)}}D()},[e]);const T=r.reduce((D,J)=>D+J.product.price*J.quantity,0),R=w==="bike"?150:350,E=T*.1,O=Math.round((T+R+E)*100)/100,B=async()=>{if(!m.address_line_1||!m.city||!m.country)return alert("Please fill all address fields.");try{const{data:D,error:J}=await se.from("addresses").insert({...m,user_id:e.id}).select().single();if(J)throw J;u(ae=>[...ae,D]),f(D),g({address_line_1:"",city:"",country:""})}catch(D){console.error("Create address failed:",D),alert("Failed to create address.")}},F=S.useCallback(async()=>{if(s)try{const{error:D}=await se.from("cart_items").delete().eq("cart_id",s);if(D)throw D;o([])}catch(D){console.error("Failed to clear cart:",D)}},[s,o]);async function q(){if(!(!e||!e.id))try{const D={id:e.id,full_name:e.user_metadata?.full_name||e.full_name||null,email:e.email||null};Object.keys(D).forEach(ae=>{D[ae]===null&&delete D[ae]});const{error:J}=await se.from("users").upsert(D,{onConflict:"id"});J&&console.warn("Upsert public.users failed:",J)}catch(D){console.warn("ensurePublicUserRow error:",D)}}const Y=async()=>{if(!e)return alert("You must be logged in.");if(!d)return alert("Select an address.");if(r.length===0)return alert("Cart is empty.");C(!0);try{for(let ke of r)if(ke.quantity>(ke.product.stock_quantity||0))throw new Error(`Insufficient stock for ${ke.product.name}`);await q();const D={user_id:e.id,total_amount:O,address_id:d.id,status:"pending",payment_method:v,delivery_type:w},{data:J,error:ae}=await se.from("orders").insert(D).select().single();if(ae)throw ae;const xe=r.map(ke=>({order_id:J.id,product_id:ke.product.id,quantity:ke.quantity,price:ke.product.price})),{error:ye}=await se.from("order_items").insert(xe);if(ye)throw ye;for(const ke of r){const Be=Math.max((ke.product.stock_quantity||0)-ke.quantity,0);await se.from("products").update({stock_quantity:Be}).eq("id",ke.product.id)}const{data:Re}=await se.from("payments").select("*").eq("order_id",J.id).limit(1);if(!Re||Re.length===0){const{error:ke}=await se.from("payments").insert({order_id:J.id,payment_method:v,payment_status:"pending",amount:O});if(ke)throw ke}await F(),alert(" Order placed successfully!"),t("/shop")}catch(D){console.error("Checkout error:",D),alert(D.message||"Failed to place order.")}finally{C(!1)}};return h.jsx("div",{style:De.page,children:h.jsxs("div",{style:De.card,children:[h.jsx("h1",{style:De.title,children:"Checkout"}),h.jsxs("section",{style:De.section,children:[h.jsx("h2",{style:De.sectionTitle,children:"Delivery Method"}),h.jsxs("div",{style:De.deliveryOptions,children:[h.jsxs("label",{style:De.radioLabel,children:[h.jsx("input",{type:"radio",name:"delivery",value:"bike",checked:w==="bike",onChange:D=>_(D.target.value)}),"Within Nairobi (Bike Courier)  Ksh 150"]}),h.jsxs("label",{style:De.radioLabel,children:[h.jsx("input",{type:"radio",name:"delivery",value:"courier",checked:w==="courier",onChange:D=>_(D.target.value)}),"Outside Nairobi (Courier)  Ksh 350"]})]})]}),h.jsxs("section",{style:De.section,children:[h.jsx("h2",{style:De.sectionTitle,children:"Shipping Address"}),l.map(D=>h.jsxs("div",{style:{...De.addressBox,borderColor:d?.id===D.id?"#4f46e5":"transparent",background:d?.id===D.id?"rgba(79,70,229,0.1)":"rgba(255,255,255,0.7)"},onClick:()=>f(D),children:[h.jsx("p",{style:{fontWeight:600},children:D.address_line_1}),h.jsxs("p",{style:{color:"#555"},children:[D.city,", ",D.country]})]},D.id)),h.jsxs("div",{style:De.newAddressForm,children:[h.jsx("input",{placeholder:"Address line 1",value:m.address_line_1,onChange:D=>g({...m,address_line_1:D.target.value}),style:De.input}),h.jsx("input",{placeholder:"City",value:m.city,onChange:D=>g({...m,city:D.target.value}),style:De.input}),h.jsx("input",{placeholder:"Country",value:m.country,onChange:D=>g({...m,country:D.target.value}),style:De.input}),h.jsx("button",{onClick:B,style:De.button,children:"Add Address"})]})]}),h.jsxs("section",{style:De.section,children:[h.jsx("h2",{style:De.sectionTitle,children:"Order Summary"}),r.map(D=>h.jsxs("div",{style:De.itemRow,children:[h.jsxs("span",{children:[D.product.name,"  ",D.quantity]}),h.jsxs("span",{children:["Ksh ",(D.product.price*D.quantity).toLocaleString()]})]},D.id)),h.jsx("hr",{style:{margin:"10px 0"}}),h.jsxs("div",{style:De.summaryRow,children:[h.jsx("span",{children:"Subtotal:"}),h.jsxs("span",{children:["Ksh ",T.toLocaleString()]})]}),h.jsxs("div",{style:De.summaryRow,children:[h.jsx("span",{children:"Shipping:"}),h.jsxs("span",{children:["Ksh ",R]})]}),h.jsxs("div",{style:De.summaryRow,children:[h.jsx("span",{children:"Tax (10%):"}),h.jsxs("span",{children:["Ksh ",E.toLocaleString()]})]}),h.jsxs("div",{style:{...De.summaryRow,fontWeight:"bold"},children:[h.jsx("span",{children:"Total:"}),h.jsxs("span",{children:["Ksh ",O.toLocaleString()]})]})]}),h.jsxs("section",{style:De.section,children:[h.jsx("h2",{style:De.sectionTitle,children:"Payment Method"}),h.jsxs("select",{value:v,onChange:D=>x(D.target.value),style:De.select,children:[h.jsx("option",{value:"cod",children:"Cash on Delivery"}),h.jsx("option",{value:"card",children:"Credit/Debit Card"}),h.jsx("option",{value:"mobile",children:"Mobile Payment (M-Pesa)"})]})]}),h.jsx("button",{onClick:Y,disabled:k||r.length===0,style:{...De.checkoutBtn,opacity:k?.7:1},children:k?"Processing...":"Place Order"})]})})}const De={page:{minHeight:"100vh",background:"linear-gradient(135deg, rgba(99,102,241,0.15), rgba(79,70,229,0.05))",padding:"40px 15px",display:"flex",justifyContent:"center"},card:{width:"100%",maxWidth:"800px",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"30px 25px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"},title:{textAlign:"center",fontSize:"2rem",fontWeight:"700",color:"#1f2937",marginBottom:"25px"},section:{marginBottom:"30px"},sectionTitle:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"10px",color:"#374151"},deliveryOptions:{display:"flex",flexDirection:"column",gap:"10px"},radioLabel:{background:"#f3f4f6",padding:"10px",borderRadius:"8px",cursor:"pointer"},addressBox:{padding:"12px",border:"2px solid transparent",borderRadius:"10px",marginBottom:"10px",cursor:"pointer",transition:"all 0.2s ease"},newAddressForm:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px"},input:{padding:"10px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"15px"},button:{padding:"10px",background:"#4f46e5",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},itemRow:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"15px"},summaryRow:{display:"flex",justifyContent:"space-between",marginBottom:"6px",color:"#111827"},select:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"15px"},checkoutBtn:{width:"100%",padding:"14px",background:"linear-gradient(90deg, #6366f1, #4f46e5)",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"1rem",cursor:"pointer",transition:"opacity 0.2s ease, transform 0.1s ease"}},aT=()=>{const{logout:t}=on(),e=Ot();return S.useEffect(()=>{(async()=>{await t(),e("/",{replace:!0})})()},[t,e]),h.jsx("p",{children:"Logging out..."})};function lT(){const[t,e]=S.useState(null),[r,s]=S.useState(null);return S.useEffect(()=>{async function o(){const{data:l,error:u}=await se.from("orders").select(`
          id,
          total_amount,
          status,
          created_at,
          users:orders_user_fk (
            full_name,
            email
          ),
          addresses:orders_address_fk (
            city,
            country,
            address_line_1,
            address_line_2
          ),
          order_items:order_items_order_fk (
            quantity,
            price,
            subtotal,
            products:order_items_product_fk (
              name,
              price,
              product_images (
                image_url
              )
            )
          ),
          payments (
            payment_method,
            payment_status,
            amount
          )
        `).limit(5);u?s(u.message):e(l)}o()},[]),r?h.jsxs("div",{style:Gs.container,children:[h.jsx("h2",{children:" Supabase Order Fetch Test"}),h.jsxs("p",{style:{color:"red"},children:["Error: ",r]})]}):t?h.jsxs("div",{style:Gs.container,children:[h.jsxs("h2",{children:[" Orders Overview (",t.length,")"]}),t.map(o=>h.jsxs("div",{style:Gs.card,children:[h.jsxs("h3",{children:["Order #",o.id.slice(0,8).toUpperCase()]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Status:"})," ",o.status]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Date:"})," ",new Date(o.created_at).toLocaleString()]}),h.jsx("h4",{children:" Customer"}),h.jsxs("p",{children:[o.users?.full_name," (",o.users?.email,")"]}),h.jsx("h4",{children:" Shipping Address"}),h.jsxs("p",{children:[o.addresses?.address_line_1,","," ",o.addresses?.address_line_2&&`${o.addresses.address_line_2}, `,o.addresses?.city,", ",o.addresses?.country]}),o.order_items?.length>0?h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:" Items"}),h.jsxs("table",{style:Gs.table,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Product"}),h.jsx("th",{children:"Qty"}),h.jsx("th",{children:"Price"}),h.jsx("th",{children:"Subtotal"})]})}),h.jsx("tbody",{children:o.order_items.map((l,u)=>h.jsxs("tr",{children:[h.jsx("td",{children:l.products?.name}),h.jsx("td",{children:l.quantity}),h.jsxs("td",{children:["KES ",l.price]}),h.jsxs("td",{children:["KES ",l.subtotal]})]},u))})]})]}):h.jsx("p",{style:{color:"#aaa"},children:"No items in this order."}),h.jsxs("h4",{children:[" Total: KES ",o.total_amount]})]},o.id))]}):h.jsxs("div",{style:Gs.container,children:[h.jsx("h2",{children:" Supabase Order Fetch Test"}),h.jsx("p",{children:"Loading"})]})}const Gs={container:{padding:"20px",fontFamily:"Inter, sans-serif",background:"#f9fafb",minHeight:"100vh"},card:{background:"#fff",borderRadius:"12px",padding:"16px",marginBottom:"20px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},table:{width:"100%",borderCollapse:"collapse",marginTop:"8px"}};function uT(){const[t,e]=S.useState(""),[r,s]=S.useState(""),[o,l]=S.useState(""),[u,d]=S.useState(!1),f=Ot(),m=async g=>{if(g.preventDefault(),l(""),s(""),!/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(t)){l("Please enter a valid Gmail address.");return}try{d(!0);const{error:x}=await se.auth.resetPasswordForEmail(t,{redirectTo:"https://fetop.vercel.app/reset-password"});if(x)throw x;s("If your email exists in our system, a password reset link has been sent.")}catch(x){l(x.message||"Failed to send reset email. Try again later.")}finally{d(!1)}};return h.jsx("div",{style:mn.page,children:h.jsxs("div",{style:mn.container,children:[h.jsx("h2",{style:mn.title,children:"Forgot Password"}),o&&h.jsx("p",{style:mn.error,children:o}),r&&h.jsx("p",{style:mn.success,children:r}),!r&&h.jsxs("form",{style:mn.form,onSubmit:m,children:[h.jsxs("div",{style:mn.inputGroup,children:[h.jsx(D4,{style:mn.icon}),h.jsx("input",{type:"email",placeholder:"Enter your Gmail",value:t,onChange:g=>e(g.target.value),required:!0,style:{...mn.input,paddingLeft:"35px"},disabled:u})]}),h.jsx("button",{type:"submit",style:mn.button,disabled:u,children:u?"Sending...":"Send Reset Link"})]}),r&&h.jsx("button",{style:mn.button,onClick:()=>f("/login"),children:"Back to Login"})]})})}const mn={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"20px"},container:{width:"100%",maxWidth:"420px",background:"#fff",borderRadius:"16px",padding:"40px 30px",boxShadow:"0 8px 30px rgba(0,0,0,0.1)",textAlign:"center"},title:{fontSize:"28px",color:"#2563eb",fontWeight:"700",marginBottom:"20px"},form:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{position:"relative"},input:{width:"100%",padding:"12px 15px",fontSize:"16px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",transition:"border 0.2s"},icon:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",color:"#888"},button:{padding:"12px",fontSize:"16px",background:"linear-gradient(90deg, #2563eb, #1d4ed8)",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"700",cursor:"pointer",transition:"opacity 0.2s"},error:{color:"#dc2626",fontSize:"14px",marginBottom:"15px"},success:{color:"#16a34a",fontSize:"14px",marginBottom:"15px"}};function cT(){const t=Ot(),[e,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(!1),[d,f]=S.useState(!1),[m,g]=S.useState("");S.useEffect(()=>{const{data:w}=se.auth.onAuthStateChange(async(_,k)=>{_==="PASSWORD_RECOVERY"&&k&&(console.log("Recovery session active:",k),window.history.replaceState({},document.title,"/reset-password"))});return()=>w.subscription.unsubscribe()},[]);const v=async w=>{if(w.preventDefault(),e!==s)return g("Passwords do not match.");if(e.length<6)return g("Password must be at least 6 characters long.");try{f(!0),g("");const{error:_}=await se.auth.updateUser({password:e});if(_)throw _;g(" Password updated successfully! Redirecting to login..."),setTimeout(()=>t("/login"),2e3)}catch(_){console.error("Password update error:",_),g(_.message||"Something went wrong.")}finally{f(!1)}},x={container:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"1rem"},card:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 30px rgba(0,0,0,0.1)"},title:{fontSize:"24px",fontWeight:"700",textAlign:"center",marginBottom:"1.5rem",color:"#2563eb"},message:{textAlign:"center",marginBottom:"1rem",color:m.includes("success")||m.includes("")?"green":"red"},passwordContainer:{position:"relative",marginBottom:"1rem"},input:{width:"100%",padding:"12px 40px 12px 12px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",fontSize:"14px"},eyeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#555",fontSize:"18px"},button:{width:"100%",padding:"12px",fontSize:"16px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"700",cursor:"pointer"},buttonDisabled:{opacity:.6,cursor:"not-allowed"}};return h.jsx("div",{style:x.container,children:h.jsxs("div",{style:x.card,children:[h.jsx("h2",{style:x.title,children:"Reset Password"}),m&&h.jsx("p",{style:x.message,children:m}),h.jsxs("form",{onSubmit:v,children:[h.jsxs("div",{style:x.passwordContainer,children:[h.jsx("input",{type:l?"text":"password",style:x.input,value:e,onChange:w=>r(w.target.value),placeholder:"New Password",required:!0}),h.jsx("button",{type:"button",style:x.eyeButton,onClick:()=>u(w=>!w),children:l?h.jsx(I4,{}):h.jsx(L4,{})})]}),h.jsx("div",{style:x.passwordContainer,children:h.jsx("input",{type:l?"text":"password",style:x.input,value:s,onChange:w=>o(w.target.value),placeholder:"Confirm Password",required:!0})}),h.jsx("button",{type:"submit",style:{...x.button,...d?x.buttonDisabled:{}},disabled:d,children:d?"Updating...":"Update Password"})]})]})})}function dT(){const[t,e]=S.useState("Verifying..."),r=Ot();return S.useEffect(()=>{(async()=>{const{data:o,error:l}=await se.auth.getSessionFromUrl();if(l||!o?.session){e("Email confirmation failed. Please try again.");return}if(!o.session.user.email_confirmed_at){e("Email not yet confirmed. Check your inbox.");return}e("Email confirmed! Redirecting to login..."),setTimeout(()=>r("/login"),3e3)})()},[r]),h.jsx("div",{style:zc.page,children:h.jsx("div",{style:zc.container,children:h.jsx("h2",{style:zc.title,children:t})})})}const zc={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"20px",color:"#2563eb",fontSize:"28px",fontWeight:"700"}};function hT(){const{pathname:t}=bn();return S.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function fT({children:t}){const e=bn(),r=e.pathname==="/",s=["/login","/register","/logout","/confirm","/reset-password","/forgot-password"].includes(e.pathname);return h.jsxs(h.Fragment,{children:[!s&&h.jsx(t4,{isHome:r}),!s&&h.jsx("hr",{style:{marginTop:0}}),h.jsx("main",{className:"main-content",children:t}),!s&&h.jsxs(h.Fragment,{children:[h.jsx(q4,{}),h.jsx(K4,{})]})]})}function pT(){return h.jsx(w_,{children:h.jsxs(Y4,{children:[h.jsx(hT,{}),h.jsx(fT,{children:h.jsxs(Xw,{children:[h.jsx(ot,{path:"/",element:h.jsx(A4,{})}),h.jsx(ot,{path:"/shop",element:h.jsx(O4,{})}),h.jsx(ot,{path:"/product/:id",element:h.jsx(Q4,{})}),h.jsx(ot,{path:"/cart",element:h.jsx(F4,{})}),h.jsx(ot,{path:"/about",element:h.jsx(z4,{})}),h.jsx(ot,{path:"/contact",element:h.jsx(V4,{})}),h.jsx(ot,{path:"/orders",element:h.jsx(U4,{})}),h.jsx(ot,{path:"/orders/:id",element:h.jsx(W4,{})}),h.jsx(ot,{path:"/login",element:h.jsx(rT,{})}),h.jsx(ot,{path:"/register",element:h.jsx(iT,{})}),h.jsx(ot,{path:"/logout",element:h.jsx(aT,{})}),h.jsx(ot,{path:"/checkout",element:h.jsx(oT,{})}),h.jsx(ot,{path:"/testshop",element:h.jsx(sT,{})}),h.jsx(ot,{path:"/profile",element:h.jsx(X4,{})}),h.jsx(ot,{path:"/forgot-password",element:h.jsx(uT,{})}),h.jsx(ot,{path:"/reset-password",element:h.jsx(cT,{})}),h.jsx(ot,{path:"/confirm",element:h.jsx(dT,{})}),h.jsx(ot,{path:"/test-order-fetch",element:h.jsx(lT,{})}),h.jsx(ot,{path:"*",element:h.jsx(H4,{})})]})})]})})}lw.createRoot(document.getElementById("root")).render(h.jsx(S.StrictMode,{children:h.jsx(x_,{children:h.jsx(b2,{children:h.jsx(pT,{})})})}));
