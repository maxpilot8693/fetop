function Wx(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function ty(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var Qu={exports:{}},Ts={},Xu={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Hx(){if(Yp)return we;Yp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(O,B,ge){this.props=O,this.context=B,this.refs=S,this.updater=ge||_}k.prototype.isReactComponent={},k.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=k.prototype;function P(O,B,ge){this.props=O,this.context=B,this.refs=S,this.updater=ge||_}var R=P.prototype=new j;R.constructor=P,E(R,k.prototype),R.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,U={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function G(O,B,ge){var ye,ve={},xe=null,je=null;if(B!=null)for(ye in B.ref!==void 0&&(je=B.ref),B.key!==void 0&&(xe=""+B.key),B)$.call(B,ye)&&!K.hasOwnProperty(ye)&&(ve[ye]=B[ye]);var be=arguments.length-2;if(be===1)ve.children=ge;else if(1<be){for(var Oe=Array(be),xt=0;xt<be;xt++)Oe[xt]=arguments[xt+2];ve.children=Oe}if(O&&O.defaultProps)for(ye in be=O.defaultProps,be)ve[ye]===void 0&&(ve[ye]=be[ye]);return{$$typeof:t,type:O,key:xe,ref:je,props:ve,_owner:U.current}}function I(O,B){return{$$typeof:t,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function oe(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return B[ge]})}var pe=/\/+/g;function me(O,B){return typeof O=="object"&&O!==null&&O.key!=null?oe(""+O.key):B.toString(36)}function Te(O,B,ge,ye,ve){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(xe){case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case t:case e:je=!0}}if(je)return je=O,ve=ve(je),O=ye===""?"."+me(je,0):ye,M(ve)?(ge="",O!=null&&(ge=O.replace(pe,"$&/")+"/"),Te(ve,B,ge,"",function(xt){return xt})):ve!=null&&(J(ve)&&(ve=I(ve,ge+(!ve.key||je&&je.key===ve.key?"":(""+ve.key).replace(pe,"$&/")+"/")+O)),B.push(ve)),1;if(je=0,ye=ye===""?".":ye+":",M(O))for(var be=0;be<O.length;be++){xe=O[be];var Oe=ye+me(xe,be);je+=Te(xe,B,ge,Oe,ve)}else if(Oe=w(O),typeof Oe=="function")for(O=Oe.call(O),be=0;!(xe=O.next()).done;)xe=xe.value,Oe=ye+me(xe,be++),je+=Te(xe,B,ge,Oe,ve);else if(xe==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return je}function _e(O,B,ge){if(O==null)return O;var ye=[],ve=0;return Te(O,ye,"","",function(xe){return B.call(ge,xe,ve++)}),ye}function Ne(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var fe={current:null},H={transition:null},ne={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:H,ReactCurrentOwner:U};function Y(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:_e,forEach:function(O,B,ge){_e(O,function(){B.apply(this,arguments)},ge)},count:function(O){var B=0;return _e(O,function(){B++}),B},toArray:function(O){return _e(O,function(B){return B})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=k,we.Fragment=r,we.Profiler=o,we.PureComponent=P,we.StrictMode=s,we.Suspense=h,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,we.act=Y,we.cloneElement=function(O,B,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ye=E({},O.props),ve=O.key,xe=O.ref,je=O._owner;if(B!=null){if(B.ref!==void 0&&(xe=B.ref,je=U.current),B.key!==void 0&&(ve=""+B.key),O.type&&O.type.defaultProps)var be=O.type.defaultProps;for(Oe in B)$.call(B,Oe)&&!K.hasOwnProperty(Oe)&&(ye[Oe]=B[Oe]===void 0&&be!==void 0?be[Oe]:B[Oe])}var Oe=arguments.length-2;if(Oe===1)ye.children=ge;else if(1<Oe){be=Array(Oe);for(var xt=0;xt<Oe;xt++)be[xt]=arguments[xt+2];ye.children=be}return{$$typeof:t,type:O.type,key:ve,ref:xe,props:ye,_owner:je}},we.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},we.createElement=G,we.createFactory=function(O){var B=G.bind(null,O);return B.type=O,B},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:d,render:O}},we.isValidElement=J,we.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:Ne}},we.memo=function(O,B){return{$$typeof:p,type:O,compare:B===void 0?null:B}},we.startTransition=function(O){var B=H.transition;H.transition={};try{O()}finally{H.transition=B}},we.unstable_act=Y,we.useCallback=function(O,B){return fe.current.useCallback(O,B)},we.useContext=function(O){return fe.current.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O){return fe.current.useDeferredValue(O)},we.useEffect=function(O,B){return fe.current.useEffect(O,B)},we.useId=function(){return fe.current.useId()},we.useImperativeHandle=function(O,B,ge){return fe.current.useImperativeHandle(O,B,ge)},we.useInsertionEffect=function(O,B){return fe.current.useInsertionEffect(O,B)},we.useLayoutEffect=function(O,B){return fe.current.useLayoutEffect(O,B)},we.useMemo=function(O,B){return fe.current.useMemo(O,B)},we.useReducer=function(O,B,ge){return fe.current.useReducer(O,B,ge)},we.useRef=function(O){return fe.current.useRef(O)},we.useState=function(O){return fe.current.useState(O)},we.useSyncExternalStore=function(O,B,ge){return fe.current.useSyncExternalStore(O,B,ge)},we.useTransition=function(){return fe.current.useTransition()},we.version="18.3.1",we}var Qp;function md(){return Qp||(Qp=1,Xu.exports=Hx()),Xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Kx(){if(Xp)return Ts;Xp=1;var t=md(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,v={},w=null,_=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)s.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:w,ref:_,props:v,_owner:o.current}}return Ts.Fragment=r,Ts.jsx=u,Ts.jsxs=u,Ts}var Zp;function Gx(){return Zp||(Zp=1,Qu.exports=Kx()),Qu.exports}var m=Gx(),b=md();const Wr=ty(b);var xa={},Zu={exports:{}},Bt={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Jx(){return em||(em=1,(function(t){function e(H,ne){var Y=H.length;H.push(ne);e:for(;0<Y;){var O=Y-1>>>1,B=H[O];if(0<o(B,ne))H[O]=ne,H[Y]=B,Y=O;else break e}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ne=H[0],Y=H.pop();if(Y!==ne){H[0]=Y;e:for(var O=0,B=H.length,ge=B>>>1;O<ge;){var ye=2*(O+1)-1,ve=H[ye],xe=ye+1,je=H[xe];if(0>o(ve,Y))xe<B&&0>o(je,ve)?(H[O]=je,H[xe]=Y,O=xe):(H[O]=ve,H[ye]=Y,O=ye);else if(xe<B&&0>o(je,Y))H[O]=je,H[xe]=Y,O=xe;else break e}}return ne}function o(H,ne){var Y=H.sortIndex-ne.sortIndex;return Y!==0?Y:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,v=null,w=3,_=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(H){for(var ne=r(p);ne!==null;){if(ne.callback===null)s(p);else if(ne.startTime<=H)s(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=r(p)}}function M(H){if(S=!1,R(H),!E)if(r(h)!==null)E=!0,Ne($);else{var ne=r(p);ne!==null&&fe(M,ne.startTime-H)}}function $(H,ne){E=!1,S&&(S=!1,j(G),G=-1),_=!0;var Y=w;try{for(R(ne),v=r(h);v!==null&&(!(v.expirationTime>ne)||H&&!oe());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var B=O(v.expirationTime<=ne);ne=t.unstable_now(),typeof B=="function"?v.callback=B:v===r(h)&&s(h),R(ne)}else s(h);v=r(h)}if(v!==null)var ge=!0;else{var ye=r(p);ye!==null&&fe(M,ye.startTime-ne),ge=!1}return ge}finally{v=null,w=Y,_=!1}}var U=!1,K=null,G=-1,I=5,J=-1;function oe(){return!(t.unstable_now()-J<I)}function pe(){if(K!==null){var H=t.unstable_now();J=H;var ne=!0;try{ne=K(!0,H)}finally{ne?me():(U=!1,K=null)}}else U=!1}var me;if(typeof P=="function")me=function(){P(pe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,_e=Te.port2;Te.port1.onmessage=pe,me=function(){_e.postMessage(null)}}else me=function(){k(pe,0)};function Ne(H){K=H,U||(U=!0,me())}function fe(H,ne){G=k(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,Ne($))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Y=w;w=ne;try{return H()}finally{w=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=w;w=H;try{return ne()}finally{w=Y}},t.unstable_scheduleCallback=function(H,ne,Y){var O=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?O+Y:O):Y=O,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Y+B,H={id:g++,callback:ne,priorityLevel:H,startTime:Y,expirationTime:B,sortIndex:-1},Y>O?(H.sortIndex=Y,e(p,H),r(h)===null&&H===r(p)&&(S?(j(G),G=-1):S=!0,fe(M,Y-O))):(H.sortIndex=B,e(h,H),E||_||(E=!0,Ne($))),H},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(H){var ne=w;return function(){var Y=w;w=ne;try{return H.apply(this,arguments)}finally{w=Y}}}})(tc)),tc}var tm;function Yx(){return tm||(tm=1,ec.exports=Jx()),ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Qx(){if(nm)return Bt;nm=1;var t=md(),e=Yx();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(n){return h.call(v,n)?!0:h.call(g,n)?!1:p.test(n)?v[n]=!0:(g[n]=!0,!1)}function _(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,i,a,c){if(i===null||typeof i>"u"||_(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(n,i,a,c,f,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];k[i]=new S(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(j,P);k[i]=new S(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(j,P);k[i]=new S(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(j,P);k[i]=new S(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,a,c){var f=k.hasOwnProperty(i)?k[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,a,f,c)&&(a=null),c||f===null?w(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),U=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),oe=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,O;function B(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var ge=!1;function ye(n,i){if(!n||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var c=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){c=N}n.call(i.prototype)}else{try{throw Error()}catch(N){c=N}n()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),y=c.stack.split(`
`),x=f.length-1,C=y.length-1;1<=x&&0<=C&&f[x]!==y[C];)C--;for(;1<=x&&0<=C;x--,C--)if(f[x]!==y[C]){if(x!==1||C!==1)do if(x--,C--,0>C||f[x]!==y[C]){var T=`
`+f[x].replace(" at new "," at ");return n.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",n.displayName)),T}while(1<=x&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?B(n):""}function ve(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=ye(n.type,!1),n;case 11:return n=ye(n.type.render,!1),n;case 1:return n=ye(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case U:return"Portal";case I:return"Profiler";case G:return"StrictMode";case me:return"Suspense";case Te:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oe:return(n.displayName||"Context")+".Consumer";case J:return(n._context.displayName||"Context")+".Provider";case pe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _e:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case Ne:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}function je(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xt(n){var i=Oe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ot(n){n._valueTracker||(n._valueTracker=xt(n))}function lo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Oe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wi(n,i){var a=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function uo(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=be(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function co(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function Ge(n,i){co(n,i);var a=be(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?qi(n,i.type,a):i.hasOwnProperty("defaultValue")&&qi(n,i.type,be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Gr(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function qi(n,i,a){(i!=="number"||Kr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Kn=Array.isArray;function Gn(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+be(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function W(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Se(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(r(92));if(Kn(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:be(a)}}function nt(n,i){var a=be(i.value),c=be(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Je(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Kt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Kt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Fe,on=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Fe=Fe||document.createElement("div"),Fe.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Fe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function On(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(n){Jr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),In[i]=In[n]})});function ho(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||In.hasOwnProperty(n)&&In[n]?(""+i).trim():i+"px"}function dh(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ho(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Jv=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(n,i){if(i){if(Jv[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function cl(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function hl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fl=null,Yr=null,Qr=null;function hh(n){if(n=fs(n)){if(typeof fl!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Do(i),fl(n.stateNode,n.type,i))}}function fh(n){Yr?Qr?Qr.push(n):Qr=[n]:Yr=n}function ph(){if(Yr){var n=Yr,i=Qr;if(Qr=Yr=null,hh(n),i)for(n=0;n<i.length;n++)hh(i[n])}}function mh(n,i){return n(i)}function gh(){}var pl=!1;function yh(n,i,a){if(pl)return n(i,a);pl=!0;try{return mh(n,i,a)}finally{pl=!1,(Yr!==null||Qr!==null)&&(gh(),ph())}}function Hi(n,i){var a=n.stateNode;if(a===null)return null;var c=Do(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ml=!1;if(d)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{ml=!1}function Yv(n,i,a,c,f,y,x,C,T){var N=Array.prototype.slice.call(arguments,3);try{i.apply(a,N)}catch(V){this.onError(V)}}var Gi=!1,fo=null,po=!1,gl=null,Qv={onError:function(n){Gi=!0,fo=n}};function Xv(n,i,a,c,f,y,x,C,T){Gi=!1,fo=null,Yv.apply(Qv,arguments)}function Zv(n,i,a,c,f,y,x,C,T){if(Xv.apply(this,arguments),Gi){if(Gi){var N=fo;Gi=!1,fo=null}else throw Error(r(198));po||(po=!0,gl=N)}}function _r(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function vh(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function wh(n){if(_r(n)!==n)throw Error(r(188))}function ew(n){var i=n.alternate;if(!i){if(i=_r(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return wh(f),n;if(y===c)return wh(f),i;y=y.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=y;else{for(var x=!1,C=f.child;C;){if(C===a){x=!0,a=f,c=y;break}if(C===c){x=!0,c=f,a=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===a){x=!0,a=y,c=f;break}if(C===c){x=!0,c=y,a=f;break}C=C.sibling}if(!x)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function xh(n){return n=ew(n),n!==null?_h(n):null}function _h(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=_h(n);if(i!==null)return i;n=n.sibling}return null}var bh=e.unstable_scheduleCallback,Sh=e.unstable_cancelCallback,tw=e.unstable_shouldYield,nw=e.unstable_requestPaint,Xe=e.unstable_now,rw=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,kh=e.unstable_UserBlockingPriority,mo=e.unstable_NormalPriority,iw=e.unstable_LowPriority,Eh=e.unstable_IdlePriority,go=null,_n=null;function sw(n){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(go,n,void 0,(n.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:lw,ow=Math.log,aw=Math.LN2;function lw(n){return n>>>=0,n===0?32:31-(ow(n)/aw|0)|0}var yo=64,vo=4194304;function Ji(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wo(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,y=n.pingedLanes,x=a&268435455;if(x!==0){var C=x&~f;C!==0?c=Ji(C):(y&=x,y!==0&&(c=Ji(y)))}else x=a&~f,x!==0?c=Ji(x):y!==0&&(c=Ji(y));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,y=i&-i,f>=y||f===16&&(y&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-an(i),f=1<<a,c|=n[a],i&=~f;return c}function uw(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,y=n.pendingLanes;0<y;){var x=31-an(y),C=1<<x,T=f[x];T===-1?((C&a)===0||(C&c)!==0)&&(f[x]=uw(C,i)):T<=i&&(n.expiredLanes|=C),y&=~C}}function vl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ch(){var n=yo;return yo<<=1,(yo&4194240)===0&&(yo=64),n}function wl(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Yi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-an(i),n[i]=a}function dw(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-an(a),y=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~y}}function xl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-an(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Re=0;function jh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Th,_l,Ph,Rh,Ah,bl=!1,xo=[],Jn=null,Yn=null,Qn=null,Qi=new Map,Xi=new Map,Xn=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(n,i){switch(n){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Qi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Zi(n,i,a,c,f,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[f]},i!==null&&(i=fs(i),i!==null&&_l(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function fw(n,i,a,c,f){switch(i){case"focusin":return Jn=Zi(Jn,n,i,a,c,f),!0;case"dragenter":return Yn=Zi(Yn,n,i,a,c,f),!0;case"mouseover":return Qn=Zi(Qn,n,i,a,c,f),!0;case"pointerover":var y=f.pointerId;return Qi.set(y,Zi(Qi.get(y)||null,n,i,a,c,f)),!0;case"gotpointercapture":return y=f.pointerId,Xi.set(y,Zi(Xi.get(y)||null,n,i,a,c,f)),!0}return!1}function Ih(n){var i=br(n.target);if(i!==null){var a=_r(i);if(a!==null){if(i=a.tag,i===13){if(i=vh(a),i!==null){n.blockedOn=i,Ah(n.priority,function(){Ph(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _o(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=kl(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);dl=c,a.target.dispatchEvent(c),dl=null}else return i=fs(a),i!==null&&_l(i),n.blockedOn=a,!1;i.shift()}return!0}function Lh(n,i,a){_o(n)&&a.delete(i)}function pw(){bl=!1,Jn!==null&&_o(Jn)&&(Jn=null),Yn!==null&&_o(Yn)&&(Yn=null),Qn!==null&&_o(Qn)&&(Qn=null),Qi.forEach(Lh),Xi.forEach(Lh)}function es(n,i){n.blockedOn===i&&(n.blockedOn=null,bl||(bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pw)))}function ts(n){function i(f){return es(f,n)}if(0<xo.length){es(xo[0],n);for(var a=1;a<xo.length;a++){var c=xo[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Jn!==null&&es(Jn,n),Yn!==null&&es(Yn,n),Qn!==null&&es(Qn,n),Qi.forEach(i),Xi.forEach(i),a=0;a<Xn.length;a++)c=Xn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)Ih(a),a.blockedOn===null&&Xn.shift()}var Xr=M.ReactCurrentBatchConfig,bo=!0;function mw(n,i,a,c){var f=Re,y=Xr.transition;Xr.transition=null;try{Re=1,Sl(n,i,a,c)}finally{Re=f,Xr.transition=y}}function gw(n,i,a,c){var f=Re,y=Xr.transition;Xr.transition=null;try{Re=4,Sl(n,i,a,c)}finally{Re=f,Xr.transition=y}}function Sl(n,i,a,c){if(bo){var f=kl(n,i,a,c);if(f===null)Vl(n,i,c,So,a),Oh(n,c);else if(fw(f,n,i,a,c))c.stopPropagation();else if(Oh(n,c),i&4&&-1<hw.indexOf(n)){for(;f!==null;){var y=fs(f);if(y!==null&&Th(y),y=kl(n,i,a,c),y===null&&Vl(n,i,c,So,a),y===f)break;f=y}f!==null&&c.stopPropagation()}else Vl(n,i,c,null,a)}}var So=null;function kl(n,i,a,c){if(So=null,n=hl(c),n=br(n),n!==null)if(i=_r(n),i===null)n=null;else if(a=i.tag,a===13){if(n=vh(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return So=n,null}function Dh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rw()){case yl:return 1;case kh:return 4;case mo:case iw:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var Zn=null,El=null,ko=null;function Nh(){if(ko)return ko;var n,i=El,a=i.length,c,f="value"in Zn?Zn.value:Zn.textContent,y=f.length;for(n=0;n<a&&i[n]===f[n];n++);var x=a-n;for(c=1;c<=x&&i[a-c]===f[y-c];c++);return ko=f.slice(n,1<c?1-c:void 0)}function Eo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Co(){return!0}function Mh(){return!1}function Vt(n){function i(a,c,f,y,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Co:Mh,this.isPropagationStopped=Mh,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),i}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Vt(Zr),ns=Y({},Zr,{view:0,detail:0}),yw=Vt(ns),jl,Tl,rs,jo=Y({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rs&&(rs&&n.type==="mousemove"?(jl=n.screenX-rs.screenX,Tl=n.screenY-rs.screenY):Tl=jl=0,rs=n),jl)},movementY:function(n){return"movementY"in n?n.movementY:Tl}}),Bh=Vt(jo),vw=Y({},jo,{dataTransfer:0}),ww=Vt(vw),xw=Y({},ns,{relatedTarget:0}),Pl=Vt(xw),_w=Y({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=Vt(_w),Sw=Y({},Zr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kw=Vt(Sw),Ew=Y({},Zr,{data:0}),$h=Vt(Ew),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Tw[n])?!!i[n]:!1}function Rl(){return Pw}var Rw=Y({},ns,{key:function(n){if(n.key){var i=Cw[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Eo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(n){return n.type==="keypress"?Eo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Eo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Aw=Vt(Rw),Ow=Y({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Vt(Ow),Iw=Y({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Lw=Vt(Iw),Dw=Y({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nw=Vt(Dw),Mw=Y({},jo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=Vt(Mw),$w=[9,13,27,32],Al=d&&"CompositionEvent"in window,is=null;d&&"documentMode"in document&&(is=document.documentMode);var Fw=d&&"TextEvent"in window&&!is,Vh=d&&(!Al||is&&8<is&&11>=is),Uh=" ",zh=!1;function Wh(n,i){switch(n){case"keyup":return $w.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ei=!1;function Vw(n,i){switch(n){case"compositionend":return qh(i);case"keypress":return i.which!==32?null:(zh=!0,Uh);case"textInput":return n=i.data,n===Uh&&zh?null:n;default:return null}}function Uw(n,i){if(ei)return n==="compositionend"||!Al&&Wh(n,i)?(n=Nh(),ko=El=Zn=null,ei=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vh&&i.locale!=="ko"?null:i.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!zw[n.type]:i==="textarea"}function Kh(n,i,a,c){fh(c),i=Oo(i,"onChange"),0<i.length&&(a=new Cl("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ss=null,os=null;function Ww(n){hf(n,0)}function To(n){var i=si(n);if(lo(i))return n}function qw(n,i){if(n==="change")return i}var Gh=!1;if(d){var Ol;if(d){var Il="oninput"in document;if(!Il){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Il=typeof Jh.oninput=="function"}Ol=Il}else Ol=!1;Gh=Ol&&(!document.documentMode||9<document.documentMode)}function Yh(){ss&&(ss.detachEvent("onpropertychange",Qh),os=ss=null)}function Qh(n){if(n.propertyName==="value"&&To(os)){var i=[];Kh(i,os,n,hl(n)),yh(Ww,i)}}function Hw(n,i,a){n==="focusin"?(Yh(),ss=i,os=a,ss.attachEvent("onpropertychange",Qh)):n==="focusout"&&Yh()}function Kw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return To(os)}function Gw(n,i){if(n==="click")return To(i)}function Jw(n,i){if(n==="input"||n==="change")return To(i)}function Yw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ln=typeof Object.is=="function"?Object.is:Yw;function as(n,i){if(ln(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(i,f)||!ln(n[f],i[f]))return!1}return!0}function Xh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zh(n,i){var a=Xh(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xh(a)}}function ef(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ef(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function tf(){for(var n=window,i=Kr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Kr(n.document)}return i}function Ll(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Qw(n){var i=tf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&ef(a.ownerDocument.documentElement,a)){if(c!==null&&Ll(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,y=Math.min(c.start,f);c=c.end===void 0?y:Math.min(c.end,f),!n.extend&&y>c&&(f=c,c=y,y=f),f=Zh(a,y);var x=Zh(a,c);f&&x&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),y>c?(n.addRange(i),n.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Xw=d&&"documentMode"in document&&11>=document.documentMode,ti=null,Dl=null,ls=null,Nl=!1;function nf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nl||ti==null||ti!==Kr(c)||(c=ti,"selectionStart"in c&&Ll(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ls&&as(ls,c)||(ls=c,c=Oo(Dl,"onSelect"),0<c.length&&(i=new Cl("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=ti)))}function Po(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ni={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Ml={},rf={};d&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Ro(n){if(Ml[n])return Ml[n];if(!ni[n])return n;var i=ni[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in rf)return Ml[n]=i[a];return n}var sf=Ro("animationend"),of=Ro("animationiteration"),af=Ro("animationstart"),lf=Ro("transitionend"),uf=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(n,i){uf.set(n,i),l(i,[n])}for(var Bl=0;Bl<cf.length;Bl++){var $l=cf[Bl],Zw=$l.toLowerCase(),ex=$l[0].toUpperCase()+$l.slice(1);er(Zw,"on"+ex)}er(sf,"onAnimationEnd"),er(of,"onAnimationIteration"),er(af,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(lf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function df(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Zv(c,i,void 0,n),n.currentTarget=null}function hf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var x=c.length-1;0<=x;x--){var C=c[x],T=C.instance,N=C.currentTarget;if(C=C.listener,T!==y&&f.isPropagationStopped())break e;df(f,C,N),y=T}else for(x=0;x<c.length;x++){if(C=c[x],T=C.instance,N=C.currentTarget,C=C.listener,T!==y&&f.isPropagationStopped())break e;df(f,C,N),y=T}}}if(po)throw n=gl,po=!1,gl=null,n}function Me(n,i){var a=i[Kl];a===void 0&&(a=i[Kl]=new Set);var c=n+"__bubble";a.has(c)||(ff(i,n,2,!1),a.add(c))}function Fl(n,i,a){var c=0;i&&(c|=4),ff(a,n,c,i)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function cs(n){if(!n[Ao]){n[Ao]=!0,s.forEach(function(a){a!=="selectionchange"&&(tx.has(a)||Fl(a,!1,n),Fl(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ao]||(i[Ao]=!0,Fl("selectionchange",!1,i))}}function ff(n,i,a,c){switch(Dh(i)){case 1:var f=mw;break;case 4:f=gw;break;default:f=Sl}a=f.bind(null,i,a,n),f=void 0,!ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function Vl(n,i,a,c,f){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var T=x.tag;if((T===3||T===4)&&(T=x.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;x=x.return}for(;C!==null;){if(x=br(C),x===null)return;if(T=x.tag,T===5||T===6){c=y=x;continue e}C=C.parentNode}}c=c.return}yh(function(){var N=y,V=hl(a),z=[];e:{var F=uf.get(n);if(F!==void 0){var Q=Cl,ee=n;switch(n){case"keypress":if(Eo(a)===0)break e;case"keydown":case"keyup":Q=Aw;break;case"focusin":ee="focus",Q=Pl;break;case"focusout":ee="blur",Q=Pl;break;case"beforeblur":case"afterblur":Q=Pl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Lw;break;case sf:case of:case af:Q=bw;break;case lf:Q=Nw;break;case"scroll":Q=yw;break;case"wheel":Q=Bw;break;case"copy":case"cut":case"paste":Q=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fh}var te=(i&4)!==0,Ze=!te&&n==="scroll",L=te?F!==null?F+"Capture":null:F;te=[];for(var A=N,D;A!==null;){D=A;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,L!==null&&(q=Hi(A,L),q!=null&&te.push(ds(A,q,D)))),Ze)break;A=A.return}0<te.length&&(F=new Q(F,ee,null,a,V),z.push({event:F,listeners:te}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&a!==dl&&(ee=a.relatedTarget||a.fromElement)&&(br(ee)||ee[Ln]))break e;if((Q||F)&&(F=V.window===V?V:(F=V.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(ee=a.relatedTarget||a.toElement,Q=N,ee=ee?br(ee):null,ee!==null&&(Ze=_r(ee),ee!==Ze||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=N),Q!==ee)){if(te=Bh,q="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(te=Fh,q="onPointerLeave",L="onPointerEnter",A="pointer"),Ze=Q==null?F:si(Q),D=ee==null?F:si(ee),F=new te(q,A+"leave",Q,a,V),F.target=Ze,F.relatedTarget=D,q=null,br(V)===N&&(te=new te(L,A+"enter",ee,a,V),te.target=D,te.relatedTarget=Ze,q=te),Ze=q,Q&&ee)t:{for(te=Q,L=ee,A=0,D=te;D;D=ri(D))A++;for(D=0,q=L;q;q=ri(q))D++;for(;0<A-D;)te=ri(te),A--;for(;0<D-A;)L=ri(L),D--;for(;A--;){if(te===L||L!==null&&te===L.alternate)break t;te=ri(te),L=ri(L)}te=null}else te=null;Q!==null&&pf(z,F,Q,te,!1),ee!==null&&Ze!==null&&pf(z,Ze,ee,te,!0)}}e:{if(F=N?si(N):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var re=qw;else if(Hh(F))if(Gh)re=Jw;else{re=Kw;var le=Hw}else(Q=F.nodeName)&&Q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(re=Gw);if(re&&(re=re(n,N))){Kh(z,re,a,V);break e}le&&le(n,F,N),n==="focusout"&&(le=F._wrapperState)&&le.controlled&&F.type==="number"&&qi(F,"number",F.value)}switch(le=N?si(N):window,n){case"focusin":(Hh(le)||le.contentEditable==="true")&&(ti=le,Dl=N,ls=null);break;case"focusout":ls=Dl=ti=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,nf(z,a,V);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":nf(z,a,V)}var ue;if(Al)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else ei?Wh(n,a)&&(he="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(Vh&&a.locale!=="ko"&&(ei||he!=="onCompositionStart"?he==="onCompositionEnd"&&ei&&(ue=Nh()):(Zn=V,El="value"in Zn?Zn.value:Zn.textContent,ei=!0)),le=Oo(N,he),0<le.length&&(he=new $h(he,n,null,a,V),z.push({event:he,listeners:le}),ue?he.data=ue:(ue=qh(a),ue!==null&&(he.data=ue)))),(ue=Fw?Vw(n,a):Uw(n,a))&&(N=Oo(N,"onBeforeInput"),0<N.length&&(V=new $h("onBeforeInput","beforeinput",null,a,V),z.push({event:V,listeners:N}),V.data=ue))}hf(z,i)})}function ds(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Oo(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=Hi(n,a),y!=null&&c.unshift(ds(n,y,f)),y=Hi(n,i),y!=null&&c.push(ds(n,y,f))),n=n.return}return c}function ri(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function pf(n,i,a,c,f){for(var y=i._reactName,x=[];a!==null&&a!==c;){var C=a,T=C.alternate,N=C.stateNode;if(T!==null&&T===c)break;C.tag===5&&N!==null&&(C=N,f?(T=Hi(a,y),T!=null&&x.unshift(ds(a,T,C))):f||(T=Hi(a,y),T!=null&&x.push(ds(a,T,C)))),a=a.return}x.length!==0&&n.push({event:i,listeners:x})}var nx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function mf(n){return(typeof n=="string"?n:""+n).replace(nx,`
`).replace(rx,"")}function Io(n,i,a){if(i=mf(i),mf(n)!==i&&a)throw Error(r(425))}function Lo(){}var Ul=null,zl=null;function Wl(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(n){return gf.resolve(null).then(n).catch(ox)}:ql;function ox(n){setTimeout(function(){throw n})}function Hl(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),ts(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);ts(i)}function tr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function yf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var ii=Math.random().toString(36).slice(2),bn="__reactFiber$"+ii,hs="__reactProps$"+ii,Ln="__reactContainer$"+ii,Kl="__reactEvents$"+ii,ax="__reactListeners$"+ii,lx="__reactHandles$"+ii;function br(n){var i=n[bn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ln]||a[bn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=yf(n);n!==null;){if(a=n[bn])return a;n=yf(n)}return i}n=a,a=n.parentNode}return null}function fs(n){return n=n[bn]||n[Ln],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function si(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Do(n){return n[hs]||null}var Gl=[],oi=-1;function nr(n){return{current:n}}function Be(n){0>oi||(n.current=Gl[oi],Gl[oi]=null,oi--)}function Le(n,i){oi++,Gl[oi]=n.current,n.current=i}var rr={},_t=nr(rr),It=nr(!1),Sr=rr;function ai(n,i){var a=n.type.contextTypes;if(!a)return rr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in a)f[y]=i[y];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Lt(n){return n=n.childContextTypes,n!=null}function No(){Be(It),Be(_t)}function vf(n,i,a){if(_t.current!==rr)throw Error(r(168));Le(_t,i),Le(It,a)}function wf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(r(108,je(n)||"Unknown",f));return Y({},a,c)}function Mo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rr,Sr=_t.current,Le(_t,n),Le(It,It.current),!0}function xf(n,i,a){var c=n.stateNode;if(!c)throw Error(r(169));a?(n=wf(n,i,Sr),c.__reactInternalMemoizedMergedChildContext=n,Be(It),Be(_t),Le(_t,n)):Be(It),Le(It,a)}var Dn=null,Bo=!1,Jl=!1;function _f(n){Dn===null?Dn=[n]:Dn.push(n)}function ux(n){Bo=!0,_f(n)}function ir(){if(!Jl&&Dn!==null){Jl=!0;var n=0,i=Re;try{var a=Dn;for(Re=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Dn=null,Bo=!1}catch(f){throw Dn!==null&&(Dn=Dn.slice(n+1)),bh(yl,ir),f}finally{Re=i,Jl=!1}}return null}var li=[],ui=0,$o=null,Fo=0,Gt=[],Jt=0,kr=null,Nn=1,Mn="";function Er(n,i){li[ui++]=Fo,li[ui++]=$o,$o=n,Fo=i}function bf(n,i,a){Gt[Jt++]=Nn,Gt[Jt++]=Mn,Gt[Jt++]=kr,kr=n;var c=Nn;n=Mn;var f=32-an(c)-1;c&=~(1<<f),a+=1;var y=32-an(i)+f;if(30<y){var x=f-f%5;y=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Nn=1<<32-an(i)+f|a<<f|c,Mn=y+n}else Nn=1<<y|a<<f|c,Mn=n}function Yl(n){n.return!==null&&(Er(n,1),bf(n,1,0))}function Ql(n){for(;n===$o;)$o=li[--ui],li[ui]=null,Fo=li[--ui],li[ui]=null;for(;n===kr;)kr=Gt[--Jt],Gt[Jt]=null,Mn=Gt[--Jt],Gt[Jt]=null,Nn=Gt[--Jt],Gt[Jt]=null}var Ut=null,zt=null,Ve=!1,un=null;function Sf(n,i){var a=Zt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function kf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ut=n,zt=tr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ut=n,zt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=kr!==null?{id:Nn,overflow:Mn}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Zt(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,Ut=n,zt=null,!0):!1;default:return!1}}function Xl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zl(n){if(Ve){var i=zt;if(i){var a=i;if(!kf(n,i)){if(Xl(n))throw Error(r(418));i=tr(a.nextSibling);var c=Ut;i&&kf(n,i)?Sf(c,a):(n.flags=n.flags&-4097|2,Ve=!1,Ut=n)}}else{if(Xl(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ve=!1,Ut=n}}}function Ef(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ut=n}function Vo(n){if(n!==Ut)return!1;if(!Ve)return Ef(n),Ve=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Wl(n.type,n.memoizedProps)),i&&(i=zt)){if(Xl(n))throw Cf(),Error(r(418));for(;i;)Sf(n,i),i=tr(i.nextSibling)}if(Ef(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){zt=tr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}zt=null}}else zt=Ut?tr(n.stateNode.nextSibling):null;return!0}function Cf(){for(var n=zt;n;)n=tr(n.nextSibling)}function ci(){zt=Ut=null,Ve=!1}function eu(n){un===null?un=[n]:un.push(n)}var cx=M.ReactCurrentBatchConfig;function ps(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,n));var f=c,y=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var C=f.refs;x===null?delete C[y]:C[y]=x},i._stringRef=y,i)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function Uo(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function jf(n){var i=n._init;return i(n._payload)}function Tf(n){function i(L,A){if(n){var D=L.deletions;D===null?(L.deletions=[A],L.flags|=16):D.push(A)}}function a(L,A){if(!n)return null;for(;A!==null;)i(L,A),A=A.sibling;return null}function c(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function f(L,A){return L=hr(L,A),L.index=0,L.sibling=null,L}function y(L,A,D){return L.index=D,n?(D=L.alternate,D!==null?(D=D.index,D<A?(L.flags|=2,A):D):(L.flags|=2,A)):(L.flags|=1048576,A)}function x(L){return n&&L.alternate===null&&(L.flags|=2),L}function C(L,A,D,q){return A===null||A.tag!==6?(A=qu(D,L.mode,q),A.return=L,A):(A=f(A,D),A.return=L,A)}function T(L,A,D,q){var re=D.type;return re===K?V(L,A,D.props.children,q,D.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ne&&jf(re)===A.type)?(q=f(A,D.props),q.ref=ps(L,A,D),q.return=L,q):(q=ha(D.type,D.key,D.props,null,L.mode,q),q.ref=ps(L,A,D),q.return=L,q)}function N(L,A,D,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Hu(D,L.mode,q),A.return=L,A):(A=f(A,D.children||[]),A.return=L,A)}function V(L,A,D,q,re){return A===null||A.tag!==7?(A=Ir(D,L.mode,q,re),A.return=L,A):(A=f(A,D),A.return=L,A)}function z(L,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return A=qu(""+A,L.mode,D),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $:return D=ha(A.type,A.key,A.props,null,L.mode,D),D.ref=ps(L,null,A),D.return=L,D;case U:return A=Hu(A,L.mode,D),A.return=L,A;case Ne:var q=A._init;return z(L,q(A._payload),D)}if(Kn(A)||ne(A))return A=Ir(A,L.mode,D,null),A.return=L,A;Uo(L,A)}return null}function F(L,A,D,q){var re=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return re!==null?null:C(L,A,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return D.key===re?T(L,A,D,q):null;case U:return D.key===re?N(L,A,D,q):null;case Ne:return re=D._init,F(L,A,re(D._payload),q)}if(Kn(D)||ne(D))return re!==null?null:V(L,A,D,q,null);Uo(L,D)}return null}function Q(L,A,D,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return L=L.get(D)||null,C(A,L,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return L=L.get(q.key===null?D:q.key)||null,T(A,L,q,re);case U:return L=L.get(q.key===null?D:q.key)||null,N(A,L,q,re);case Ne:var le=q._init;return Q(L,A,D,le(q._payload),re)}if(Kn(q)||ne(q))return L=L.get(D)||null,V(A,L,q,re,null);Uo(A,q)}return null}function ee(L,A,D,q){for(var re=null,le=null,ue=A,he=A=0,mt=null;ue!==null&&he<D.length;he++){ue.index>he?(mt=ue,ue=null):mt=ue.sibling;var Ee=F(L,ue,D[he],q);if(Ee===null){ue===null&&(ue=mt);break}n&&ue&&Ee.alternate===null&&i(L,ue),A=y(Ee,A,he),le===null?re=Ee:le.sibling=Ee,le=Ee,ue=mt}if(he===D.length)return a(L,ue),Ve&&Er(L,he),re;if(ue===null){for(;he<D.length;he++)ue=z(L,D[he],q),ue!==null&&(A=y(ue,A,he),le===null?re=ue:le.sibling=ue,le=ue);return Ve&&Er(L,he),re}for(ue=c(L,ue);he<D.length;he++)mt=Q(ue,L,he,D[he],q),mt!==null&&(n&&mt.alternate!==null&&ue.delete(mt.key===null?he:mt.key),A=y(mt,A,he),le===null?re=mt:le.sibling=mt,le=mt);return n&&ue.forEach(function(fr){return i(L,fr)}),Ve&&Er(L,he),re}function te(L,A,D,q){var re=ne(D);if(typeof re!="function")throw Error(r(150));if(D=re.call(D),D==null)throw Error(r(151));for(var le=re=null,ue=A,he=A=0,mt=null,Ee=D.next();ue!==null&&!Ee.done;he++,Ee=D.next()){ue.index>he?(mt=ue,ue=null):mt=ue.sibling;var fr=F(L,ue,Ee.value,q);if(fr===null){ue===null&&(ue=mt);break}n&&ue&&fr.alternate===null&&i(L,ue),A=y(fr,A,he),le===null?re=fr:le.sibling=fr,le=fr,ue=mt}if(Ee.done)return a(L,ue),Ve&&Er(L,he),re;if(ue===null){for(;!Ee.done;he++,Ee=D.next())Ee=z(L,Ee.value,q),Ee!==null&&(A=y(Ee,A,he),le===null?re=Ee:le.sibling=Ee,le=Ee);return Ve&&Er(L,he),re}for(ue=c(L,ue);!Ee.done;he++,Ee=D.next())Ee=Q(ue,L,he,Ee.value,q),Ee!==null&&(n&&Ee.alternate!==null&&ue.delete(Ee.key===null?he:Ee.key),A=y(Ee,A,he),le===null?re=Ee:le.sibling=Ee,le=Ee);return n&&ue.forEach(function(zx){return i(L,zx)}),Ve&&Er(L,he),re}function Ze(L,A,D,q){if(typeof D=="object"&&D!==null&&D.type===K&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case $:e:{for(var re=D.key,le=A;le!==null;){if(le.key===re){if(re=D.type,re===K){if(le.tag===7){a(L,le.sibling),A=f(le,D.props.children),A.return=L,L=A;break e}}else if(le.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ne&&jf(re)===le.type){a(L,le.sibling),A=f(le,D.props),A.ref=ps(L,le,D),A.return=L,L=A;break e}a(L,le);break}else i(L,le);le=le.sibling}D.type===K?(A=Ir(D.props.children,L.mode,q,D.key),A.return=L,L=A):(q=ha(D.type,D.key,D.props,null,L.mode,q),q.ref=ps(L,A,D),q.return=L,L=q)}return x(L);case U:e:{for(le=D.key;A!==null;){if(A.key===le)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(L,A.sibling),A=f(A,D.children||[]),A.return=L,L=A;break e}else{a(L,A);break}else i(L,A);A=A.sibling}A=Hu(D,L.mode,q),A.return=L,L=A}return x(L);case Ne:return le=D._init,Ze(L,A,le(D._payload),q)}if(Kn(D))return ee(L,A,D,q);if(ne(D))return te(L,A,D,q);Uo(L,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,A!==null&&A.tag===6?(a(L,A.sibling),A=f(A,D),A.return=L,L=A):(a(L,A),A=qu(D,L.mode,q),A.return=L,L=A),x(L)):a(L,A)}return Ze}var di=Tf(!0),Pf=Tf(!1),zo=nr(null),Wo=null,hi=null,tu=null;function nu(){tu=hi=Wo=null}function ru(n){var i=zo.current;Be(zo),n._currentValue=i}function iu(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function fi(n,i){Wo=n,tu=hi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Dt=!0),n.firstContext=null)}function Yt(n){var i=n._currentValue;if(tu!==n)if(n={context:n,memoizedValue:i,next:null},hi===null){if(Wo===null)throw Error(r(308));hi=n,Wo.dependencies={lanes:0,firstContext:n}}else hi=hi.next=n;return i}var Cr=null;function su(n){Cr===null?Cr=[n]:Cr.push(n)}function Rf(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,su(i)):(a.next=f.next,f.next=a),i.interleaved=a,Bn(n,c)}function Bn(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var sr=!1;function ou(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $n(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function or(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ke&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Bn(n,a)}return f=c.interleaved,f===null?(i.next=i,su(c)):(i.next=f.next,f.next=i),c.interleaved=i,Bn(n,a)}function qo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,xl(n,a)}}function Of(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?f=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?f=y=i:y=y.next=i}else f=y=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Ho(n,i,a,c){var f=n.updateQueue;sr=!1;var y=f.firstBaseUpdate,x=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var T=C,N=T.next;T.next=null,x===null?y=N:x.next=N,x=T;var V=n.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==x&&(C===null?V.firstBaseUpdate=N:C.next=N,V.lastBaseUpdate=T))}if(y!==null){var z=f.baseState;x=0,V=N=T=null,C=y;do{var F=C.lane,Q=C.eventTime;if((c&F)===F){V!==null&&(V=V.next={eventTime:Q,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ee=n,te=C;switch(F=i,Q=a,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){z=ee.call(Q,z,F);break e}z=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,F=typeof ee=="function"?ee.call(Q,z,F):ee,F==null)break e;z=Y({},z,F);break e;case 2:sr=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,F=f.effects,F===null?f.effects=[C]:F.push(C))}else Q={eventTime:Q,lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(N=V=Q,T=z):V=V.next=Q,x|=F;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;F=C,C=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);if(V===null&&(T=z),f.baseState=T,f.firstBaseUpdate=N,f.lastBaseUpdate=V,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else y===null&&(f.shared.lanes=0);Pr|=x,n.lanes=x,n.memoizedState=z}}function If(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var ms={},Sn=nr(ms),gs=nr(ms),ys=nr(ms);function jr(n){if(n===ms)throw Error(r(174));return n}function au(n,i){switch(Le(ys,i),Le(gs,n),Le(Sn,ms),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:gt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=gt(i,n)}Be(Sn),Le(Sn,i)}function pi(){Be(Sn),Be(gs),Be(ys)}function Lf(n){jr(ys.current);var i=jr(Sn.current),a=gt(i,n.type);i!==a&&(Le(gs,n),Le(Sn,a))}function lu(n){gs.current===n&&(Be(Sn),Be(gs))}var ze=nr(0);function Ko(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uu=[];function cu(){for(var n=0;n<uu.length;n++)uu[n]._workInProgressVersionPrimary=null;uu.length=0}var Go=M.ReactCurrentDispatcher,du=M.ReactCurrentBatchConfig,Tr=0,We=null,lt=null,ft=null,Jo=!1,vs=!1,ws=0,dx=0;function bt(){throw Error(r(321))}function hu(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!ln(n[a],i[a]))return!1;return!0}function fu(n,i,a,c,f,y){if(Tr=y,We=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Go.current=n===null||n.memoizedState===null?mx:gx,n=a(c,f),vs){y=0;do{if(vs=!1,ws=0,25<=y)throw Error(r(301));y+=1,ft=lt=null,i.updateQueue=null,Go.current=yx,n=a(c,f)}while(vs)}if(Go.current=Xo,i=lt!==null&&lt.next!==null,Tr=0,ft=lt=We=null,Jo=!1,i)throw Error(r(300));return n}function pu(){var n=ws!==0;return ws=0,n}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?We.memoizedState=ft=n:ft=ft.next=n,ft}function Qt(){if(lt===null){var n=We.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var i=ft===null?We.memoizedState:ft.next;if(i!==null)ft=i,lt=n;else{if(n===null)throw Error(r(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?We.memoizedState=ft=n:ft=ft.next=n}return ft}function xs(n,i){return typeof i=="function"?i(n):i}function mu(n){var i=Qt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=lt,f=c.baseQueue,y=a.pending;if(y!==null){if(f!==null){var x=f.next;f.next=y.next,y.next=x}c.baseQueue=f=y,a.pending=null}if(f!==null){y=f.next,c=c.baseState;var C=x=null,T=null,N=y;do{var V=N.lane;if((Tr&V)===V)T!==null&&(T=T.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:n(c,N.action);else{var z={lane:V,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};T===null?(C=T=z,x=c):T=T.next=z,We.lanes|=V,Pr|=V}N=N.next}while(N!==null&&N!==y);T===null?x=c:T.next=C,ln(c,i.memoizedState)||(Dt=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=T,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do y=f.lane,We.lanes|=y,Pr|=y,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gu(n){var i=Qt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,y=i.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do y=n(y,x.action),x=x.next;while(x!==f);ln(y,i.memoizedState)||(Dt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function Df(){}function Nf(n,i){var a=We,c=Qt(),f=i(),y=!ln(c.memoizedState,f);if(y&&(c.memoizedState=f,Dt=!0),c=c.queue,yu($f.bind(null,a,c,n),[n]),c.getSnapshot!==i||y||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,_s(9,Bf.bind(null,a,c,f,i),void 0,null),pt===null)throw Error(r(349));(Tr&30)!==0||Mf(a,i,f)}return f}function Mf(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=We.updateQueue,i===null?(i={lastEffect:null,stores:null},We.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Bf(n,i,a,c){i.value=a,i.getSnapshot=c,Ff(i)&&Vf(n)}function $f(n,i,a){return a(function(){Ff(i)&&Vf(n)})}function Ff(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!ln(n,a)}catch{return!0}}function Vf(n){var i=Bn(n,1);i!==null&&fn(i,n,1,-1)}function Uf(n){var i=kn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},i.queue=n,n=n.dispatch=px.bind(null,We,n),[i.memoizedState,n]}function _s(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=We.updateQueue,i===null?(i={lastEffect:null,stores:null},We.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function zf(){return Qt().memoizedState}function Yo(n,i,a,c){var f=kn();We.flags|=n,f.memoizedState=_s(1|i,a,void 0,c===void 0?null:c)}function Qo(n,i,a,c){var f=Qt();c=c===void 0?null:c;var y=void 0;if(lt!==null){var x=lt.memoizedState;if(y=x.destroy,c!==null&&hu(c,x.deps)){f.memoizedState=_s(i,a,y,c);return}}We.flags|=n,f.memoizedState=_s(1|i,a,y,c)}function Wf(n,i){return Yo(8390656,8,n,i)}function yu(n,i){return Qo(2048,8,n,i)}function qf(n,i){return Qo(4,2,n,i)}function Hf(n,i){return Qo(4,4,n,i)}function Kf(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Gf(n,i,a){return a=a!=null?a.concat([n]):null,Qo(4,4,Kf.bind(null,i,n),a)}function vu(){}function Jf(n,i){var a=Qt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Yf(n,i){var a=Qt();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&hu(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Qf(n,i,a){return(Tr&21)===0?(n.baseState&&(n.baseState=!1,Dt=!0),n.memoizedState=a):(ln(a,i)||(a=Ch(),We.lanes|=a,Pr|=a,n.baseState=!0),i)}function hx(n,i){var a=Re;Re=a!==0&&4>a?a:4,n(!0);var c=du.transition;du.transition={};try{n(!1),i()}finally{Re=a,du.transition=c}}function Xf(){return Qt().memoizedState}function fx(n,i,a){var c=cr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Zf(n))ep(i,a);else if(a=Rf(n,i,a,c),a!==null){var f=Pt();fn(a,n,c,f),tp(a,i,c)}}function px(n,i,a){var c=cr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zf(n))ep(i,f);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,C=y(x,a);if(f.hasEagerState=!0,f.eagerState=C,ln(C,x)){var T=i.interleaved;T===null?(f.next=f,su(i)):(f.next=T.next,T.next=f),i.interleaved=f;return}}catch{}finally{}a=Rf(n,i,f,c),a!==null&&(f=Pt(),fn(a,n,c,f),tp(a,i,c))}}function Zf(n){var i=n.alternate;return n===We||i!==null&&i===We}function ep(n,i){vs=Jo=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function tp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,xl(n,a)}}var Xo={readContext:Yt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},mx={readContext:Yt,useCallback:function(n,i){return kn().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:Wf,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Yo(4194308,4,Kf.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Yo(4194308,4,n,i)},useInsertionEffect:function(n,i){return Yo(4,2,n,i)},useMemo:function(n,i){var a=kn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=kn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=fx.bind(null,We,n),[c.memoizedState,n]},useRef:function(n){var i=kn();return n={current:n},i.memoizedState=n},useState:Uf,useDebugValue:vu,useDeferredValue:function(n){return kn().memoizedState=n},useTransition:function(){var n=Uf(!1),i=n[0];return n=hx.bind(null,n[1]),kn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=We,f=kn();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),pt===null)throw Error(r(349));(Tr&30)!==0||Mf(c,i,a)}f.memoizedState=a;var y={value:a,getSnapshot:i};return f.queue=y,Wf($f.bind(null,c,y,n),[n]),c.flags|=2048,_s(9,Bf.bind(null,c,y,a,i),void 0,null),a},useId:function(){var n=kn(),i=pt.identifierPrefix;if(Ve){var a=Mn,c=Nn;a=(c&~(1<<32-an(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ws++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=dx++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},gx={readContext:Yt,useCallback:Jf,useContext:Yt,useEffect:yu,useImperativeHandle:Gf,useInsertionEffect:qf,useLayoutEffect:Hf,useMemo:Yf,useReducer:mu,useRef:zf,useState:function(){return mu(xs)},useDebugValue:vu,useDeferredValue:function(n){var i=Qt();return Qf(i,lt.memoizedState,n)},useTransition:function(){var n=mu(xs)[0],i=Qt().memoizedState;return[n,i]},useMutableSource:Df,useSyncExternalStore:Nf,useId:Xf,unstable_isNewReconciler:!1},yx={readContext:Yt,useCallback:Jf,useContext:Yt,useEffect:yu,useImperativeHandle:Gf,useInsertionEffect:qf,useLayoutEffect:Hf,useMemo:Yf,useReducer:gu,useRef:zf,useState:function(){return gu(xs)},useDebugValue:vu,useDeferredValue:function(n){var i=Qt();return lt===null?i.memoizedState=n:Qf(i,lt.memoizedState,n)},useTransition:function(){var n=gu(xs)[0],i=Qt().memoizedState;return[n,i]},useMutableSource:Df,useSyncExternalStore:Nf,useId:Xf,unstable_isNewReconciler:!1};function cn(n,i){if(n&&n.defaultProps){i=Y({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function wu(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:Y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zo={isMounted:function(n){return(n=n._reactInternals)?_r(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Pt(),f=cr(n),y=$n(c,f);y.payload=i,a!=null&&(y.callback=a),i=or(n,y,f),i!==null&&(fn(i,n,f,c),qo(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Pt(),f=cr(n),y=$n(c,f);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=or(n,y,f),i!==null&&(fn(i,n,f,c),qo(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Pt(),c=cr(n),f=$n(a,c);f.tag=2,i!=null&&(f.callback=i),i=or(n,f,c),i!==null&&(fn(i,n,c,a),qo(i,n,c))}};function np(n,i,a,c,f,y,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,x):i.prototype&&i.prototype.isPureReactComponent?!as(a,c)||!as(f,y):!0}function rp(n,i,a){var c=!1,f=rr,y=i.contextType;return typeof y=="object"&&y!==null?y=Yt(y):(f=Lt(i)?Sr:_t.current,c=i.contextTypes,y=(c=c!=null)?ai(n,f):rr),i=new i(a,y),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zo,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=y),i}function ip(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Zo.enqueueReplaceState(i,i.state,null)}function xu(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},ou(n);var y=i.contextType;typeof y=="object"&&y!==null?f.context=Yt(y):(y=Lt(i)?Sr:_t.current,f.context=ai(n,y)),f.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(wu(n,i,y,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Zo.enqueueReplaceState(f,f.state,null),Ho(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function mi(n,i){try{var a="",c=i;do a+=ve(c),c=c.return;while(c);var f=a}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:i,stack:f,digest:null}}function _u(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function bu(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function sp(n,i,a){a=$n(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){oa||(oa=!0,Mu=c),bu(n,i)},a}function op(n,i,a){a=$n(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){bu(n,i)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){bu(n,i),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function ap(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new vx;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=Ox.bind(null,n,i,a),i.then(n,n))}function lp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function up(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=$n(-1,1),i.tag=2,or(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var wx=M.ReactCurrentOwner,Dt=!1;function Tt(n,i,a,c){i.child=n===null?Pf(i,null,a,c):di(i,n.child,a,c)}function cp(n,i,a,c,f){a=a.render;var y=i.ref;return fi(i,f),c=fu(n,i,a,c,y,f),a=pu(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Fn(n,i,f)):(Ve&&a&&Yl(i),i.flags|=1,Tt(n,i,c,f),i.child)}function dp(n,i,a,c,f){if(n===null){var y=a.type;return typeof y=="function"&&!Wu(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,hp(n,i,y,c,f)):(n=ha(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,(n.lanes&f)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(x,c)&&n.ref===i.ref)return Fn(n,i,f)}return i.flags|=1,n=hr(y,c),n.ref=i.ref,n.return=i,i.child=n}function hp(n,i,a,c,f){if(n!==null){var y=n.memoizedProps;if(as(y,c)&&n.ref===i.ref)if(Dt=!1,i.pendingProps=c=y,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Dt=!0);else return i.lanes=n.lanes,Fn(n,i,f)}return Su(n,i,a,c,f)}function fp(n,i,a){var c=i.pendingProps,f=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(yi,Wt),Wt|=a;else{if((a&1073741824)===0)return n=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Le(yi,Wt),Wt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:a,Le(yi,Wt),Wt|=c}else y!==null?(c=y.baseLanes|a,i.memoizedState=null):c=a,Le(yi,Wt),Wt|=c;return Tt(n,i,f,a),i.child}function pp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Su(n,i,a,c,f){var y=Lt(a)?Sr:_t.current;return y=ai(i,y),fi(i,f),a=fu(n,i,a,c,y,f),c=pu(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Fn(n,i,f)):(Ve&&c&&Yl(i),i.flags|=1,Tt(n,i,a,f),i.child)}function mp(n,i,a,c,f){if(Lt(a)){var y=!0;Mo(i)}else y=!1;if(fi(i,f),i.stateNode===null)ta(n,i),rp(i,a,c),xu(i,a,c,f),c=!0;else if(n===null){var x=i.stateNode,C=i.memoizedProps;x.props=C;var T=x.context,N=a.contextType;typeof N=="object"&&N!==null?N=Yt(N):(N=Lt(a)?Sr:_t.current,N=ai(i,N));var V=a.getDerivedStateFromProps,z=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function";z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==c||T!==N)&&ip(i,x,c,N),sr=!1;var F=i.memoizedState;x.state=F,Ho(i,c,x,f),T=i.memoizedState,C!==c||F!==T||It.current||sr?(typeof V=="function"&&(wu(i,a,V,c),T=i.memoizedState),(C=sr||np(i,a,C,c,F,T,N))?(z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=T),x.props=c,x.state=T,x.context=N,c=C):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,Af(n,i),C=i.memoizedProps,N=i.type===i.elementType?C:cn(i.type,C),x.props=N,z=i.pendingProps,F=x.context,T=a.contextType,typeof T=="object"&&T!==null?T=Yt(T):(T=Lt(a)?Sr:_t.current,T=ai(i,T));var Q=a.getDerivedStateFromProps;(V=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==z||F!==T)&&ip(i,x,c,T),sr=!1,F=i.memoizedState,x.state=F,Ho(i,c,x,f);var ee=i.memoizedState;C!==z||F!==ee||It.current||sr?(typeof Q=="function"&&(wu(i,a,Q,c),ee=i.memoizedState),(N=sr||np(i,a,N,c,F,ee,T)||!1)?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,ee,T),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,ee,T)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),x.props=c,x.state=ee,x.context=T,c=N):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),c=!1)}return ku(n,i,a,c,y,f)}function ku(n,i,a,c,f,y){pp(n,i);var x=(i.flags&128)!==0;if(!c&&!x)return f&&xf(i,a,!1),Fn(n,i,y);c=i.stateNode,wx.current=i;var C=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&x?(i.child=di(i,n.child,null,y),i.child=di(i,null,C,y)):Tt(n,i,C,y),i.memoizedState=c.state,f&&xf(i,a,!0),i.child}function gp(n){var i=n.stateNode;i.pendingContext?vf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&vf(n,i.context,!1),au(n,i.containerInfo)}function yp(n,i,a,c,f){return ci(),eu(f),i.flags|=256,Tt(n,i,a,c),i.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Cu(n){return{baseLanes:n,cachePool:null,transitions:null}}function vp(n,i,a){var c=i.pendingProps,f=ze.current,y=!1,x=(i.flags&128)!==0,C;if((C=x)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(y=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Le(ze,f&1),n===null)return Zl(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,n=c.fallback,y?(c=i.mode,y=i.child,x={mode:"hidden",children:x},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=fa(x,c,0,null),n=Ir(n,c,a,null),y.return=i,n.return=i,y.sibling=n,i.child=y,i.child.memoizedState=Cu(a),i.memoizedState=Eu,n):ju(i,x));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return xx(n,i,x,c,C,f,a);if(y){y=c.fallback,x=i.mode,f=n.child,C=f.sibling;var T={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=T,i.deletions=null):(c=hr(f,T),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?y=hr(C,y):(y=Ir(y,x,a,null),y.flags|=2),y.return=i,c.return=i,c.sibling=y,i.child=c,c=y,y=i.child,x=n.child.memoizedState,x=x===null?Cu(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=n.childLanes&~a,i.memoizedState=Eu,c}return y=n.child,n=y.sibling,c=hr(y,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function ju(n,i){return i=fa({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ea(n,i,a,c){return c!==null&&eu(c),di(i,n.child,null,a),n=ju(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xx(n,i,a,c,f,y,x){if(a)return i.flags&256?(i.flags&=-257,c=_u(Error(r(422))),ea(n,i,x,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(y=c.fallback,f=i.mode,c=fa({mode:"visible",children:c.children},f,0,null),y=Ir(y,f,x,null),y.flags|=2,c.return=i,y.return=i,c.sibling=y,i.child=c,(i.mode&1)!==0&&di(i,n.child,null,x),i.child.memoizedState=Cu(x),i.memoizedState=Eu,y);if((i.mode&1)===0)return ea(n,i,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,y=Error(r(419)),c=_u(y,c,void 0),ea(n,i,x,c)}if(C=(x&n.childLanes)!==0,Dt||C){if(c=pt,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Bn(n,f),fn(c,n,f,-1))}return zu(),c=_u(Error(r(421))),ea(n,i,x,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Ix.bind(null,n),f._reactRetry=i,null):(n=y.treeContext,zt=tr(f.nextSibling),Ut=i,Ve=!0,un=null,n!==null&&(Gt[Jt++]=Nn,Gt[Jt++]=Mn,Gt[Jt++]=kr,Nn=n.id,Mn=n.overflow,kr=i),i=ju(i,c.children),i.flags|=4096,i)}function wp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),iu(n.return,i,a)}function Tu(n,i,a,c,f){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=f)}function xp(n,i,a){var c=i.pendingProps,f=c.revealOrder,y=c.tail;if(Tt(n,i,c.children,a),c=ze.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wp(n,a,i);else if(n.tag===19)wp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Le(ze,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ko(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Tu(i,!1,f,a,y);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ko(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Tu(i,!0,a,null,y);break;case"together":Tu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ta(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Fn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=hr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=hr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function _x(n,i,a){switch(i.tag){case 3:gp(i),ci();break;case 5:Lf(i);break;case 1:Lt(i.type)&&Mo(i);break;case 4:au(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Le(zo,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Le(ze,ze.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?vp(n,i,a):(Le(ze,ze.current&1),n=Fn(n,i,a),n!==null?n.sibling:null);Le(ze,ze.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return xp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Le(ze,ze.current),c)break;return null;case 22:case 23:return i.lanes=0,fp(n,i,a)}return Fn(n,i,a)}var _p,Pu,bp,Sp;_p=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Pu=function(){},bp=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,jr(Sn.current);var y=null;switch(a){case"input":f=Wi(n,f),c=Wi(n,c),y=[];break;case"select":f=Y({},f,{value:void 0}),c=Y({},c,{value:void 0}),y=[];break;case"textarea":f=W(n,f),c=W(n,c),y=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Lo)}ul(a,c);var x;a=null;for(N in f)if(!c.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var C=f[N];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?y||(y=[]):(y=y||[]).push(N,null));for(N in c){var T=c[N];if(C=f?.[N],c.hasOwnProperty(N)&&T!==C&&(T!=null||C!=null))if(N==="style")if(C){for(x in C)!C.hasOwnProperty(x)||T&&T.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in T)T.hasOwnProperty(x)&&C[x]!==T[x]&&(a||(a={}),a[x]=T[x])}else a||(y||(y=[]),y.push(N,a)),a=T;else N==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,C=C?C.__html:void 0,T!=null&&C!==T&&(y=y||[]).push(N,T)):N==="children"?typeof T!="string"&&typeof T!="number"||(y=y||[]).push(N,""+T):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(T!=null&&N==="onScroll"&&Me("scroll",n),y||C===T||(y=[])):(y=y||[]).push(N,T))}a&&(y=y||[]).push("style",a);var N=y;(i.updateQueue=N)&&(i.flags|=4)}},Sp=function(n,i,a,c){a!==c&&(i.flags|=4)};function bs(n,i){if(!Ve)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function St(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function bx(n,i,a){var c=i.pendingProps;switch(Ql(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return Lt(i.type)&&No(),St(i),null;case 3:return c=i.stateNode,pi(),Be(It),Be(_t),cu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Vo(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,un!==null&&(Fu(un),un=null))),Pu(n,i),St(i),null;case 5:lu(i);var f=jr(ys.current);if(a=i.type,n!==null&&i.stateNode!=null)bp(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return St(i),null}if(n=jr(Sn.current),Vo(i)){c=i.stateNode,a=i.type;var y=i.memoizedProps;switch(c[bn]=i,c[hs]=y,n=(i.mode&1)!==0,a){case"dialog":Me("cancel",c),Me("close",c);break;case"iframe":case"object":case"embed":Me("load",c);break;case"video":case"audio":for(f=0;f<us.length;f++)Me(us[f],c);break;case"source":Me("error",c);break;case"img":case"image":case"link":Me("error",c),Me("load",c);break;case"details":Me("toggle",c);break;case"input":uo(c,y),Me("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},Me("invalid",c);break;case"textarea":Se(c,y),Me("invalid",c)}ul(a,y),f=null;for(var x in y)if(y.hasOwnProperty(x)){var C=y[x];x==="children"?typeof C=="string"?c.textContent!==C&&(y.suppressHydrationWarning!==!0&&Io(c.textContent,C,n),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Io(c.textContent,C,n),f=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Me("scroll",c)}switch(a){case"input":Ot(c),Gr(c,y,!0);break;case"textarea":Ot(c),Je(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=Lo)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Kt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=x.createElement(a,{is:c.is}):(n=x.createElement(a),a==="select"&&(x=n,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):n=x.createElementNS(n,a),n[bn]=i,n[hs]=c,_p(n,i,!1,!1),i.stateNode=n;e:{switch(x=cl(a,c),a){case"dialog":Me("cancel",n),Me("close",n),f=c;break;case"iframe":case"object":case"embed":Me("load",n),f=c;break;case"video":case"audio":for(f=0;f<us.length;f++)Me(us[f],n);f=c;break;case"source":Me("error",n),f=c;break;case"img":case"image":case"link":Me("error",n),Me("load",n),f=c;break;case"details":Me("toggle",n),f=c;break;case"input":uo(n,c),f=Wi(n,c),Me("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=Y({},c,{value:void 0}),Me("invalid",n);break;case"textarea":Se(n,c),f=W(n,c),Me("invalid",n);break;default:f=c}ul(a,f),C=f;for(y in C)if(C.hasOwnProperty(y)){var T=C[y];y==="style"?dh(n,T):y==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&on(n,T)):y==="children"?typeof T=="string"?(a!=="textarea"||T!=="")&&On(n,T):typeof T=="number"&&On(n,""+T):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?T!=null&&y==="onScroll"&&Me("scroll",n):T!=null&&R(n,y,T,x))}switch(a){case"input":Ot(n),Gr(n,c,!1);break;case"textarea":Ot(n),Je(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,y=c.value,y!=null?Gn(n,!!c.multiple,y,!1):c.defaultValue!=null&&Gn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Lo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return St(i),null;case 6:if(n&&i.stateNode!=null)Sp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(a=jr(ys.current),jr(Sn.current),Vo(i)){if(c=i.stateNode,a=i.memoizedProps,c[bn]=i,(y=c.nodeValue!==a)&&(n=Ut,n!==null))switch(n.tag){case 3:Io(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Io(c.nodeValue,a,(n.mode&1)!==0)}y&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[bn]=i,i.stateNode=c}return St(i),null;case 13:if(Be(ze),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ve&&zt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Cf(),ci(),i.flags|=98560,y=!1;else if(y=Vo(i),c!==null&&c.dehydrated!==null){if(n===null){if(!y)throw Error(r(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[bn]=i}else ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),y=!1}else un!==null&&(Fu(un),un=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(ze.current&1)!==0?ut===0&&(ut=3):zu())),i.updateQueue!==null&&(i.flags|=4),St(i),null);case 4:return pi(),Pu(n,i),n===null&&cs(i.stateNode.containerInfo),St(i),null;case 10:return ru(i.type._context),St(i),null;case 17:return Lt(i.type)&&No(),St(i),null;case 19:if(Be(ze),y=i.memoizedState,y===null)return St(i),null;if(c=(i.flags&128)!==0,x=y.rendering,x===null)if(c)bs(y,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=Ko(n),x!==null){for(i.flags|=128,bs(y,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)y=a,n=c,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,n=x.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Le(ze,ze.current&1|2),i.child}n=n.sibling}y.tail!==null&&Xe()>vi&&(i.flags|=128,c=!0,bs(y,!1),i.lanes=4194304)}else{if(!c)if(n=Ko(x),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),bs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ve)return St(i),null}else 2*Xe()-y.renderingStartTime>vi&&a!==1073741824&&(i.flags|=128,c=!0,bs(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(a=y.last,a!==null?a.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Xe(),i.sibling=null,a=ze.current,Le(ze,c?a&1|2:a&1),i):(St(i),null);case 22:case 23:return Uu(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Wt&1073741824)!==0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function Sx(n,i){switch(Ql(i),i.tag){case 1:return Lt(i.type)&&No(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return pi(),Be(It),Be(_t),cu(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return lu(i),null;case 13:if(Be(ze),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ci()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Be(ze),null;case 4:return pi(),null;case 10:return ru(i.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var na=!1,kt=!1,kx=typeof WeakSet=="function"?WeakSet:Set,Z=null;function gi(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ye(n,i,c)}else a.current=null}function Ru(n,i,a){try{a()}catch(c){Ye(n,i,c)}}var kp=!1;function Ex(n,i){if(Ul=bo,n=tf(),Ll(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,C=-1,T=-1,N=0,V=0,z=n,F=null;t:for(;;){for(var Q;z!==a||f!==0&&z.nodeType!==3||(C=x+f),z!==y||c!==0&&z.nodeType!==3||(T=x+c),z.nodeType===3&&(x+=z.nodeValue.length),(Q=z.firstChild)!==null;)F=z,z=Q;for(;;){if(z===n)break t;if(F===a&&++N===f&&(C=x),F===y&&++V===c&&(T=x),(Q=z.nextSibling)!==null)break;z=F,F=z.parentNode}z=Q}a=C===-1||T===-1?null:{start:C,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(zl={focusedElem:n,selectionRange:a},bo=!1,Z=i;Z!==null;)if(i=Z,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Z=n;else for(;Z!==null;){i=Z;try{var ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Ze=ee.memoizedState,L=i.stateNode,A=L.getSnapshotBeforeUpdate(i.elementType===i.type?te:cn(i.type,te),Ze);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var D=i.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(q){Ye(i,i.return,q)}if(n=i.sibling,n!==null){n.return=i.return,Z=n;break}Z=i.return}return ee=kp,kp=!1,ee}function Ss(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var y=f.destroy;f.destroy=void 0,y!==void 0&&Ru(i,a,y)}f=f.next}while(f!==c)}}function ra(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Au(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Ep(n){var i=n.alternate;i!==null&&(n.alternate=null,Ep(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[bn],delete i[hs],delete i[Kl],delete i[ax],delete i[lx])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Cp(n){return n.tag===5||n.tag===3||n.tag===4}function jp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ou(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lo));else if(c!==4&&(n=n.child,n!==null))for(Ou(n,i,a),n=n.sibling;n!==null;)Ou(n,i,a),n=n.sibling}function Iu(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Iu(n,i,a),n=n.sibling;n!==null;)Iu(n,i,a),n=n.sibling}var yt=null,dn=!1;function ar(n,i,a){for(a=a.child;a!==null;)Tp(n,i,a),a=a.sibling}function Tp(n,i,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(go,a)}catch{}switch(a.tag){case 5:kt||gi(a,i);case 6:var c=yt,f=dn;yt=null,ar(n,i,a),yt=c,dn=f,yt!==null&&(dn?(n=yt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):yt.removeChild(a.stateNode));break;case 18:yt!==null&&(dn?(n=yt,a=a.stateNode,n.nodeType===8?Hl(n.parentNode,a):n.nodeType===1&&Hl(n,a),ts(n)):Hl(yt,a.stateNode));break;case 4:c=yt,f=dn,yt=a.stateNode.containerInfo,dn=!0,ar(n,i,a),yt=c,dn=f;break;case 0:case 11:case 14:case 15:if(!kt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var y=f,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Ru(a,i,x),f=f.next}while(f!==c)}ar(n,i,a);break;case 1:if(!kt&&(gi(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Ye(a,i,C)}ar(n,i,a);break;case 21:ar(n,i,a);break;case 22:a.mode&1?(kt=(c=kt)||a.memoizedState!==null,ar(n,i,a),kt=c):ar(n,i,a);break;default:ar(n,i,a)}}function Pp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new kx),i.forEach(function(c){var f=Lx.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function hn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var y=n,x=i,C=x;e:for(;C!==null;){switch(C.tag){case 5:yt=C.stateNode,dn=!1;break e;case 3:yt=C.stateNode.containerInfo,dn=!0;break e;case 4:yt=C.stateNode.containerInfo,dn=!0;break e}C=C.return}if(yt===null)throw Error(r(160));Tp(y,x,f),yt=null,dn=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(N){Ye(f,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rp(i,n),i=i.sibling}function Rp(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hn(i,n),En(n),c&4){try{Ss(3,n,n.return),ra(3,n)}catch(te){Ye(n,n.return,te)}try{Ss(5,n,n.return)}catch(te){Ye(n,n.return,te)}}break;case 1:hn(i,n),En(n),c&512&&a!==null&&gi(a,a.return);break;case 5:if(hn(i,n),En(n),c&512&&a!==null&&gi(a,a.return),n.flags&32){var f=n.stateNode;try{On(f,"")}catch(te){Ye(n,n.return,te)}}if(c&4&&(f=n.stateNode,f!=null)){var y=n.memoizedProps,x=a!==null?a.memoizedProps:y,C=n.type,T=n.updateQueue;if(n.updateQueue=null,T!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&co(f,y),cl(C,x);var N=cl(C,y);for(x=0;x<T.length;x+=2){var V=T[x],z=T[x+1];V==="style"?dh(f,z):V==="dangerouslySetInnerHTML"?on(f,z):V==="children"?On(f,z):R(f,V,z,N)}switch(C){case"input":Ge(f,y);break;case"textarea":nt(f,y);break;case"select":var F=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Q=y.value;Q!=null?Gn(f,!!y.multiple,Q,!1):F!==!!y.multiple&&(y.defaultValue!=null?Gn(f,!!y.multiple,y.defaultValue,!0):Gn(f,!!y.multiple,y.multiple?[]:"",!1))}f[hs]=y}catch(te){Ye(n,n.return,te)}}break;case 6:if(hn(i,n),En(n),c&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,y=n.memoizedProps;try{f.nodeValue=y}catch(te){Ye(n,n.return,te)}}break;case 3:if(hn(i,n),En(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ts(i.containerInfo)}catch(te){Ye(n,n.return,te)}break;case 4:hn(i,n),En(n);break;case 13:hn(i,n),En(n),f=n.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Nu=Xe())),c&4&&Pp(n);break;case 22:if(V=a!==null&&a.memoizedState!==null,n.mode&1?(kt=(N=kt)||V,hn(i,n),kt=N):hn(i,n),En(n),c&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!V&&(n.mode&1)!==0)for(Z=n,V=n.child;V!==null;){for(z=Z=V;Z!==null;){switch(F=Z,Q=F.child,F.tag){case 0:case 11:case 14:case 15:Ss(4,F,F.return);break;case 1:gi(F,F.return);var ee=F.stateNode;if(typeof ee.componentWillUnmount=="function"){c=F,a=F.return;try{i=c,ee.props=i.memoizedProps,ee.state=i.memoizedState,ee.componentWillUnmount()}catch(te){Ye(c,a,te)}}break;case 5:gi(F,F.return);break;case 22:if(F.memoizedState!==null){Ip(z);continue}}Q!==null?(Q.return=F,Z=Q):Ip(z)}V=V.sibling}e:for(V=null,z=n;;){if(z.tag===5){if(V===null){V=z;try{f=z.stateNode,N?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=z.stateNode,T=z.memoizedProps.style,x=T!=null&&T.hasOwnProperty("display")?T.display:null,C.style.display=ho("display",x))}catch(te){Ye(n,n.return,te)}}}else if(z.tag===6){if(V===null)try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(te){Ye(n,n.return,te)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===n)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===n)break e;for(;z.sibling===null;){if(z.return===null||z.return===n)break e;V===z&&(V=null),z=z.return}V===z&&(V=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:hn(i,n),En(n),c&4&&Pp(n);break;case 21:break;default:hn(i,n),En(n)}}function En(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Cp(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(On(f,""),c.flags&=-33);var y=jp(n);Iu(n,y,f);break;case 3:case 4:var x=c.stateNode.containerInfo,C=jp(n);Ou(n,C,x);break;default:throw Error(r(161))}}catch(T){Ye(n,n.return,T)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cx(n,i,a){Z=n,Ap(n)}function Ap(n,i,a){for(var c=(n.mode&1)!==0;Z!==null;){var f=Z,y=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||na;if(!x){var C=f.alternate,T=C!==null&&C.memoizedState!==null||kt;C=na;var N=kt;if(na=x,(kt=T)&&!N)for(Z=f;Z!==null;)x=Z,T=x.child,x.tag===22&&x.memoizedState!==null?Lp(f):T!==null?(T.return=x,Z=T):Lp(f);for(;y!==null;)Z=y,Ap(y),y=y.sibling;Z=f,na=C,kt=N}Op(n)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,Z=y):Op(n)}}function Op(n){for(;Z!==null;){var i=Z;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:kt||ra(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!kt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:cn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&If(i,y,c);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}If(i,x,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var T=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&a.focus();break;case"img":T.src&&(a.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var V=N.memoizedState;if(V!==null){var z=V.dehydrated;z!==null&&ts(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||i.flags&512&&Au(i)}catch(F){Ye(i,i.return,F)}}if(i===n){Z=null;break}if(a=i.sibling,a!==null){a.return=i.return,Z=a;break}Z=i.return}}function Ip(n){for(;Z!==null;){var i=Z;if(i===n){Z=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Z=a;break}Z=i.return}}function Lp(n){for(;Z!==null;){var i=Z;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ra(4,i)}catch(T){Ye(i,a,T)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(T){Ye(i,f,T)}}var y=i.return;try{Au(i)}catch(T){Ye(i,y,T)}break;case 5:var x=i.return;try{Au(i)}catch(T){Ye(i,x,T)}}}catch(T){Ye(i,i.return,T)}if(i===n){Z=null;break}var C=i.sibling;if(C!==null){C.return=i.return,Z=C;break}Z=i.return}}var jx=Math.ceil,ia=M.ReactCurrentDispatcher,Lu=M.ReactCurrentOwner,Xt=M.ReactCurrentBatchConfig,ke=0,pt=null,rt=null,vt=0,Wt=0,yi=nr(0),ut=0,ks=null,Pr=0,sa=0,Du=0,Es=null,Nt=null,Nu=0,vi=1/0,Vn=null,oa=!1,Mu=null,lr=null,aa=!1,ur=null,la=0,Cs=0,Bu=null,ua=-1,ca=0;function Pt(){return(ke&6)!==0?Xe():ua!==-1?ua:ua=Xe()}function cr(n){return(n.mode&1)===0?1:(ke&2)!==0&&vt!==0?vt&-vt:cx.transition!==null?(ca===0&&(ca=Ch()),ca):(n=Re,n!==0||(n=window.event,n=n===void 0?16:Dh(n.type)),n)}function fn(n,i,a,c){if(50<Cs)throw Cs=0,Bu=null,Error(r(185));Yi(n,a,c),((ke&2)===0||n!==pt)&&(n===pt&&((ke&2)===0&&(sa|=a),ut===4&&dr(n,vt)),Mt(n,c),a===1&&ke===0&&(i.mode&1)===0&&(vi=Xe()+500,Bo&&ir()))}function Mt(n,i){var a=n.callbackNode;cw(n,i);var c=wo(n,n===pt?vt:0);if(c===0)a!==null&&Sh(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Sh(a),i===1)n.tag===0?ux(Np.bind(null,n)):_f(Np.bind(null,n)),sx(function(){(ke&6)===0&&ir()}),a=null;else{switch(jh(c)){case 1:a=yl;break;case 4:a=kh;break;case 16:a=mo;break;case 536870912:a=Eh;break;default:a=mo}a=Wp(a,Dp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Dp(n,i){if(ua=-1,ca=0,(ke&6)!==0)throw Error(r(327));var a=n.callbackNode;if(wi()&&n.callbackNode!==a)return null;var c=wo(n,n===pt?vt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=da(n,c);else{i=c;var f=ke;ke|=2;var y=Bp();(pt!==n||vt!==i)&&(Vn=null,vi=Xe()+500,Ar(n,i));do try{Rx();break}catch(C){Mp(n,C)}while(!0);nu(),ia.current=y,ke=f,rt!==null?i=0:(pt=null,vt=0,i=ut)}if(i!==0){if(i===2&&(f=vl(n),f!==0&&(c=f,i=$u(n,f))),i===1)throw a=ks,Ar(n,0),dr(n,c),Mt(n,Xe()),a;if(i===6)dr(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Tx(f)&&(i=da(n,c),i===2&&(y=vl(n),y!==0&&(c=y,i=$u(n,y))),i===1))throw a=ks,Ar(n,0),dr(n,c),Mt(n,Xe()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:Or(n,Nt,Vn);break;case 3:if(dr(n,c),(c&130023424)===c&&(i=Nu+500-Xe(),10<i)){if(wo(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Pt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=ql(Or.bind(null,n,Nt,Vn),i);break}Or(n,Nt,Vn);break;case 4:if(dr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var x=31-an(c);y=1<<x,x=i[x],x>f&&(f=x),c&=~y}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*jx(c/1960))-c,10<c){n.timeoutHandle=ql(Or.bind(null,n,Nt,Vn),c);break}Or(n,Nt,Vn);break;case 5:Or(n,Nt,Vn);break;default:throw Error(r(329))}}}return Mt(n,Xe()),n.callbackNode===a?Dp.bind(null,n):null}function $u(n,i){var a=Es;return n.current.memoizedState.isDehydrated&&(Ar(n,i).flags|=256),n=da(n,i),n!==2&&(i=Nt,Nt=a,i!==null&&Fu(i)),n}function Fu(n){Nt===null?Nt=n:Nt.push.apply(Nt,n)}function Tx(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],y=f.getSnapshot;f=f.value;try{if(!ln(y(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(n,i){for(i&=~Du,i&=~sa,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-an(i),c=1<<a;n[a]=-1,i&=~c}}function Np(n){if((ke&6)!==0)throw Error(r(327));wi();var i=wo(n,0);if((i&1)===0)return Mt(n,Xe()),null;var a=da(n,i);if(n.tag!==0&&a===2){var c=vl(n);c!==0&&(i=c,a=$u(n,c))}if(a===1)throw a=ks,Ar(n,0),dr(n,i),Mt(n,Xe()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Or(n,Nt,Vn),Mt(n,Xe()),null}function Vu(n,i){var a=ke;ke|=1;try{return n(i)}finally{ke=a,ke===0&&(vi=Xe()+500,Bo&&ir())}}function Rr(n){ur!==null&&ur.tag===0&&(ke&6)===0&&wi();var i=ke;ke|=1;var a=Xt.transition,c=Re;try{if(Xt.transition=null,Re=1,n)return n()}finally{Re=c,Xt.transition=a,ke=i,(ke&6)===0&&ir()}}function Uu(){Wt=yi.current,Be(yi)}function Ar(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,ix(a)),rt!==null)for(a=rt.return;a!==null;){var c=a;switch(Ql(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&No();break;case 3:pi(),Be(It),Be(_t),cu();break;case 5:lu(c);break;case 4:pi();break;case 13:Be(ze);break;case 19:Be(ze);break;case 10:ru(c.type._context);break;case 22:case 23:Uu()}a=a.return}if(pt=n,rt=n=hr(n.current,null),vt=Wt=i,ut=0,ks=null,Du=sa=Pr=0,Nt=Es=null,Cr!==null){for(i=0;i<Cr.length;i++)if(a=Cr[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,y=a.pending;if(y!==null){var x=y.next;y.next=f,c.next=x}a.pending=c}Cr=null}return n}function Mp(n,i){do{var a=rt;try{if(nu(),Go.current=Xo,Jo){for(var c=We.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Jo=!1}if(Tr=0,ft=lt=We=null,vs=!1,ws=0,Lu.current=null,a===null||a.return===null){ut=1,ks=i,rt=null;break}e:{var y=n,x=a.return,C=a,T=i;if(i=vt,C.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var N=T,V=C,z=V.tag;if((V.mode&1)===0&&(z===0||z===11||z===15)){var F=V.alternate;F?(V.updateQueue=F.updateQueue,V.memoizedState=F.memoizedState,V.lanes=F.lanes):(V.updateQueue=null,V.memoizedState=null)}var Q=lp(x);if(Q!==null){Q.flags&=-257,up(Q,x,C,y,i),Q.mode&1&&ap(y,N,i),i=Q,T=N;var ee=i.updateQueue;if(ee===null){var te=new Set;te.add(T),i.updateQueue=te}else ee.add(T);break e}else{if((i&1)===0){ap(y,N,i),zu();break e}T=Error(r(426))}}else if(Ve&&C.mode&1){var Ze=lp(x);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),up(Ze,x,C,y,i),eu(mi(T,C));break e}}y=T=mi(T,C),ut!==4&&(ut=2),Es===null?Es=[y]:Es.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var L=sp(y,T,i);Of(y,L);break e;case 1:C=T;var A=y.type,D=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(lr===null||!lr.has(D)))){y.flags|=65536,i&=-i,y.lanes|=i;var q=op(y,C,i);Of(y,q);break e}}y=y.return}while(y!==null)}Fp(a)}catch(re){i=re,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function Bp(){var n=ia.current;return ia.current=Xo,n===null?Xo:n}function zu(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(Pr&268435455)===0&&(sa&268435455)===0||dr(pt,vt)}function da(n,i){var a=ke;ke|=2;var c=Bp();(pt!==n||vt!==i)&&(Vn=null,Ar(n,i));do try{Px();break}catch(f){Mp(n,f)}while(!0);if(nu(),ke=a,ia.current=c,rt!==null)throw Error(r(261));return pt=null,vt=0,ut}function Px(){for(;rt!==null;)$p(rt)}function Rx(){for(;rt!==null&&!tw();)$p(rt)}function $p(n){var i=zp(n.alternate,n,Wt);n.memoizedProps=n.pendingProps,i===null?Fp(n):rt=i,Lu.current=null}function Fp(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=bx(a,i,Wt),a!==null){rt=a;return}}else{if(a=Sx(a,i),a!==null){a.flags&=32767,rt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ut=6,rt=null;return}}if(i=i.sibling,i!==null){rt=i;return}rt=i=n}while(i!==null);ut===0&&(ut=5)}function Or(n,i,a){var c=Re,f=Xt.transition;try{Xt.transition=null,Re=1,Ax(n,i,a,c)}finally{Xt.transition=f,Re=c}return null}function Ax(n,i,a,c){do wi();while(ur!==null);if((ke&6)!==0)throw Error(r(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(dw(n,y),n===pt&&(rt=pt=null,vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||aa||(aa=!0,Wp(mo,function(){return wi(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Xt.transition,Xt.transition=null;var x=Re;Re=1;var C=ke;ke|=4,Lu.current=null,Ex(n,a),Rp(a,n),Qw(zl),bo=!!Ul,zl=Ul=null,n.current=a,Cx(a),nw(),ke=C,Re=x,Xt.transition=y}else n.current=a;if(aa&&(aa=!1,ur=n,la=f),y=n.pendingLanes,y===0&&(lr=null),sw(a.stateNode),Mt(n,Xe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(oa)throw oa=!1,n=Mu,Mu=null,n;return(la&1)!==0&&n.tag!==0&&wi(),y=n.pendingLanes,(y&1)!==0?n===Bu?Cs++:(Cs=0,Bu=n):Cs=0,ir(),null}function wi(){if(ur!==null){var n=jh(la),i=Xt.transition,a=Re;try{if(Xt.transition=null,Re=16>n?16:n,ur===null)var c=!1;else{if(n=ur,ur=null,la=0,(ke&6)!==0)throw Error(r(331));var f=ke;for(ke|=4,Z=n.current;Z!==null;){var y=Z,x=y.child;if((Z.flags&16)!==0){var C=y.deletions;if(C!==null){for(var T=0;T<C.length;T++){var N=C[T];for(Z=N;Z!==null;){var V=Z;switch(V.tag){case 0:case 11:case 15:Ss(8,V,y)}var z=V.child;if(z!==null)z.return=V,Z=z;else for(;Z!==null;){V=Z;var F=V.sibling,Q=V.return;if(Ep(V),V===N){Z=null;break}if(F!==null){F.return=Q,Z=F;break}Z=Q}}}var ee=y.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Ze=te.sibling;te.sibling=null,te=Ze}while(te!==null)}}Z=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,Z=x;else e:for(;Z!==null;){if(y=Z,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ss(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,Z=L;break e}Z=y.return}}var A=n.current;for(Z=A;Z!==null;){x=Z;var D=x.child;if((x.subtreeFlags&2064)!==0&&D!==null)D.return=x,Z=D;else e:for(x=A;Z!==null;){if(C=Z,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:ra(9,C)}}catch(re){Ye(C,C.return,re)}if(C===x){Z=null;break e}var q=C.sibling;if(q!==null){q.return=C.return,Z=q;break e}Z=C.return}}if(ke=f,ir(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(go,n)}catch{}c=!0}return c}finally{Re=a,Xt.transition=i}}return!1}function Vp(n,i,a){i=mi(a,i),i=sp(n,i,1),n=or(n,i,1),i=Pt(),n!==null&&(Yi(n,1,i),Mt(n,i))}function Ye(n,i,a){if(n.tag===3)Vp(n,n,a);else for(;i!==null;){if(i.tag===3){Vp(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(lr===null||!lr.has(c))){n=mi(a,n),n=op(i,n,1),i=or(i,n,1),n=Pt(),i!==null&&(Yi(i,1,n),Mt(i,n));break}}i=i.return}}function Ox(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Pt(),n.pingedLanes|=n.suspendedLanes&a,pt===n&&(vt&a)===a&&(ut===4||ut===3&&(vt&130023424)===vt&&500>Xe()-Nu?Ar(n,0):Du|=a),Mt(n,i)}function Up(n,i){i===0&&((n.mode&1)===0?i=1:(i=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var a=Pt();n=Bn(n,i),n!==null&&(Yi(n,i,a),Mt(n,a))}function Ix(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Up(n,a)}function Lx(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),Up(n,a)}var zp;zp=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||It.current)Dt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Dt=!1,_x(n,i,a);Dt=(n.flags&131072)!==0}else Dt=!1,Ve&&(i.flags&1048576)!==0&&bf(i,Fo,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ta(n,i),n=i.pendingProps;var f=ai(i,_t.current);fi(i,a),f=fu(null,i,c,n,f,a);var y=pu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Lt(c)?(y=!0,Mo(i)):y=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ou(i),f.updater=Zo,i.stateNode=f,f._reactInternals=i,xu(i,c,n,a),i=ku(null,i,c,!0,y,a)):(i.tag=0,Ve&&y&&Yl(i),Tt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ta(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Nx(c),n=cn(c,n),f){case 0:i=Su(null,i,c,n,a);break e;case 1:i=mp(null,i,c,n,a);break e;case 11:i=cp(null,i,c,n,a);break e;case 14:i=dp(null,i,c,cn(c.type,n),a);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),Su(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),mp(n,i,c,f,a);case 3:e:{if(gp(i),n===null)throw Error(r(387));c=i.pendingProps,y=i.memoizedState,f=y.element,Af(n,i),Ho(i,c,null,a);var x=i.memoizedState;if(c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){f=mi(Error(r(423)),i),i=yp(n,i,c,a,f);break e}else if(c!==f){f=mi(Error(r(424)),i),i=yp(n,i,c,a,f);break e}else for(zt=tr(i.stateNode.containerInfo.firstChild),Ut=i,Ve=!0,un=null,a=Pf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ci(),c===f){i=Fn(n,i,a);break e}Tt(n,i,c,a)}i=i.child}return i;case 5:return Lf(i),n===null&&Zl(i),c=i.type,f=i.pendingProps,y=n!==null?n.memoizedProps:null,x=f.children,Wl(c,f)?x=null:y!==null&&Wl(c,y)&&(i.flags|=32),pp(n,i),Tt(n,i,x,a),i.child;case 6:return n===null&&Zl(i),null;case 13:return vp(n,i,a);case 4:return au(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=di(i,null,c,a):Tt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),cp(n,i,c,f,a);case 7:return Tt(n,i,i.pendingProps,a),i.child;case 8:return Tt(n,i,i.pendingProps.children,a),i.child;case 12:return Tt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,y=i.memoizedProps,x=f.value,Le(zo,c._currentValue),c._currentValue=x,y!==null)if(ln(y.value,x)){if(y.children===f.children&&!It.current){i=Fn(n,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){x=y.child;for(var T=C.firstContext;T!==null;){if(T.context===c){if(y.tag===1){T=$n(-1,a&-a),T.tag=2;var N=y.updateQueue;if(N!==null){N=N.shared;var V=N.pending;V===null?T.next=T:(T.next=V.next,V.next=T),N.pending=T}}y.lanes|=a,T=y.alternate,T!==null&&(T.lanes|=a),iu(y.return,a,i),C.lanes|=a;break}T=T.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(r(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),iu(x,a,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Tt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,fi(i,a),f=Yt(f),c=c(f),i.flags|=1,Tt(n,i,c,a),i.child;case 14:return c=i.type,f=cn(c,i.pendingProps),f=cn(c.type,f),dp(n,i,c,f,a);case 15:return hp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:cn(c,f),ta(n,i),i.tag=1,Lt(c)?(n=!0,Mo(i)):n=!1,fi(i,a),rp(i,c,f),xu(i,c,f,a),ku(null,i,c,!0,n,a);case 19:return xp(n,i,a);case 22:return fp(n,i,a)}throw Error(r(156,i.tag))};function Wp(n,i){return bh(n,i)}function Dx(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(n,i,a,c){return new Dx(n,i,a,c)}function Wu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nx(n){if(typeof n=="function")return Wu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===pe)return 11;if(n===_e)return 14}return 2}function hr(n,i){var a=n.alternate;return a===null?(a=Zt(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ha(n,i,a,c,f,y){var x=2;if(c=n,typeof n=="function")Wu(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case K:return Ir(a.children,f,y,i);case G:x=8,f|=8;break;case I:return n=Zt(12,a,i,f|2),n.elementType=I,n.lanes=y,n;case me:return n=Zt(13,a,i,f),n.elementType=me,n.lanes=y,n;case Te:return n=Zt(19,a,i,f),n.elementType=Te,n.lanes=y,n;case fe:return fa(a,f,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:x=10;break e;case oe:x=9;break e;case pe:x=11;break e;case _e:x=14;break e;case Ne:x=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Zt(x,a,i,f),i.elementType=n,i.type=c,i.lanes=y,i}function Ir(n,i,a,c){return n=Zt(7,n,c,i),n.lanes=a,n}function fa(n,i,a,c){return n=Zt(22,n,c,i),n.elementType=fe,n.lanes=a,n.stateNode={isHidden:!1},n}function qu(n,i,a){return n=Zt(6,n,null,i),n.lanes=a,n}function Hu(n,i,a){return i=Zt(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Mx(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ku(n,i,a,c,f,y,x,C,T){return n=new Mx(n,i,a,C,T),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Zt(3,null,null,i),n.current=y,y.stateNode=n,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(y),n}function Bx(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function qp(n){if(!n)return rr;n=n._reactInternals;e:{if(_r(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Lt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(Lt(a))return wf(n,a,i)}return i}function Hp(n,i,a,c,f,y,x,C,T){return n=Ku(a,c,!0,n,f,y,x,C,T),n.context=qp(null),a=n.current,c=Pt(),f=cr(a),y=$n(c,f),y.callback=i??null,or(a,y,f),n.current.lanes=f,Yi(n,f,c),Mt(n,c),n}function pa(n,i,a,c){var f=i.current,y=Pt(),x=cr(f);return a=qp(a),i.context===null?i.context=a:i.pendingContext=a,i=$n(y,x),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=or(f,i,x),n!==null&&(fn(n,f,x,y),qo(n,f,x)),x}function ma(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Kp(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Gu(n,i){Kp(n,i),(n=n.alternate)&&Kp(n,i)}function $x(){return null}var Gp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ju(n){this._internalRoot=n}ga.prototype.render=Ju.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));pa(n,i,null,null)},ga.prototype.unmount=Ju.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Rr(function(){pa(null,n,null,null)}),i[Ln]=null}};function ga(n){this._internalRoot=n}ga.prototype.unstable_scheduleHydration=function(n){if(n){var i=Rh();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Xn.length&&i!==0&&i<Xn[a].priority;a++);Xn.splice(a,0,n),a===0&&Ih(n)}};function Yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ya(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function Fx(n,i,a,c,f){if(f){if(typeof c=="function"){var y=c;c=function(){var N=ma(x);y.call(N)}}var x=Hp(i,c,n,0,null,!1,!1,"",Jp);return n._reactRootContainer=x,n[Ln]=x.current,cs(n.nodeType===8?n.parentNode:n),Rr(),x}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var N=ma(T);C.call(N)}}var T=Ku(n,0,!1,null,null,!1,!1,"",Jp);return n._reactRootContainer=T,n[Ln]=T.current,cs(n.nodeType===8?n.parentNode:n),Rr(function(){pa(i,T,a,c)}),T}function va(n,i,a,c,f){var y=a._reactRootContainer;if(y){var x=y;if(typeof f=="function"){var C=f;f=function(){var T=ma(x);C.call(T)}}pa(i,x,n,f)}else x=Fx(a,i,n,f,c);return ma(x)}Th=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ji(i.pendingLanes);a!==0&&(xl(i,a|1),Mt(i,Xe()),(ke&6)===0&&(vi=Xe()+500,ir()))}break;case 13:Rr(function(){var c=Bn(n,1);if(c!==null){var f=Pt();fn(c,n,1,f)}}),Gu(n,1)}},_l=function(n){if(n.tag===13){var i=Bn(n,134217728);if(i!==null){var a=Pt();fn(i,n,134217728,a)}Gu(n,134217728)}},Ph=function(n){if(n.tag===13){var i=cr(n),a=Bn(n,i);if(a!==null){var c=Pt();fn(a,n,i,c)}Gu(n,i)}},Rh=function(){return Re},Ah=function(n,i){var a=Re;try{return Re=n,i()}finally{Re=a}},fl=function(n,i,a){switch(i){case"input":if(Ge(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Do(c);if(!f)throw Error(r(90));lo(c),Ge(c,f)}}}break;case"textarea":nt(n,a);break;case"select":i=a.value,i!=null&&Gn(n,!!a.multiple,i,!1)}},mh=Vu,gh=Rr;var Vx={usingClientEntryPoint:!1,Events:[fs,si,Do,fh,ph,Vu]},js={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ux={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xh(n),n===null?null:n.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||$x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{go=wa.inject(Ux),_n=wa}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx,Bt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(i))throw Error(r(200));return Bx(n,i,null,a)},Bt.createRoot=function(n,i){if(!Yu(n))throw Error(r(299));var a=!1,c="",f=Gp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Ku(n,1,!1,null,null,a,!1,c,f),n[Ln]=i.current,cs(n.nodeType===8?n.parentNode:n),new Ju(i)},Bt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=xh(i),n=n===null?null:n.stateNode,n},Bt.flushSync=function(n){return Rr(n)},Bt.hydrate=function(n,i,a){if(!ya(i))throw Error(r(200));return va(null,n,i,!0,a)},Bt.hydrateRoot=function(n,i,a){if(!Yu(n))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,f=!1,y="",x=Gp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Hp(i,null,n,1,a??null,f,!1,y,x),n[Ln]=i.current,cs(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new ga(i)},Bt.render=function(n,i,a){if(!ya(i))throw Error(r(200));return va(null,n,i,!1,a)},Bt.unmountComponentAtNode=function(n){if(!ya(n))throw Error(r(40));return n._reactRootContainer?(Rr(function(){va(null,null,n,!1,function(){n._reactRootContainer=null,n[Ln]=null})}),!0):!1},Bt.unstable_batchedUpdates=Vu,Bt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!ya(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return va(n,i,a,!1,c)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var rm;function Xx(){if(rm)return Zu.exports;rm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zu.exports=Qx(),Zu.exports}var im;function Zx(){if(im)return xa;im=1;var t=Xx();return xa.createRoot=t.createRoot,xa.hydrateRoot=t.hydrateRoot,xa}var e1=Zx();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sm="popstate";function t1(t={}){function e(s,o){let{pathname:l,search:u,hash:d}=s.location;return Ic("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:zs(o)}return r1(e,r,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function om(t,e){return{usr:t.state,key:t.key,idx:e}}function Ic(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mi(e):e,state:r,key:e&&e.key||s||n1()}}function zs({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function r1(t,e,r,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,d="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let k=g(),j=k==null?null:k-p;p=k,h&&h({action:d,location:S.location,delta:j})}function w(k,j){d="PUSH";let P=Ic(S.location,k,j);p=g()+1;let R=om(P,p),M=S.createHref(P);try{u.pushState(R,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(M)}l&&h&&h({action:d,location:S.location,delta:1})}function _(k,j){d="REPLACE";let P=Ic(S.location,k,j);p=g();let R=om(P,p),M=S.createHref(P);u.replaceState(R,"",M),l&&h&&h({action:d,location:S.location,delta:0})}function E(k){return i1(k)}let S={get action(){return d},get location(){return t(o,u)},listen(k){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(sm,v),h=k,()=>{o.removeEventListener(sm,v),h=null}},createHref(k){return e(o,k)},createURL:E,encodeLocation(k){let j=E(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:_,go(k){return u.go(k)}};return S}function i1(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:zs(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function ny(t,e,r="/"){return s1(t,e,r,!1)}function s1(t,e,r,s){let o=typeof e=="string"?Mi(e):e,l=Wn(o.pathname||"/",r);if(l==null)return null;let u=ry(t);o1(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=y1(l);d=m1(u[h],p,s)}return d}function ry(t,e=[],r=[],s="",o=!1){let l=(u,d,h=o,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&h)return;Ke(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=zn([s,g.relativePath]),w=r.concat(g);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ry(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:f1(v,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let h of iy(u.path))l(u,d,!0,h)}),e}function iy(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=iy(s.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function o1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:p1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var a1=/^:[\w-]+$/,l1=3,u1=2,c1=1,d1=10,h1=-2,am=t=>t==="*";function f1(t,e){let r=t.split("/"),s=r.length;return r.some(am)&&(s+=h1),e&&(s+=u1),r.filter(o=>!am(o)).reduce((o,l)=>o+(a1.test(l)?l1:l===""?c1:d1),s)}function p1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function m1(t,e,r=!1){let{routesMeta:s}=t,o={},l="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Ua({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!v&&p&&r&&!s[s.length-1].route.index&&(v=Ua({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:zn([l,v.pathname]),pathnameBase:_1(zn([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=zn([l,v.pathnameBase]))}return u}function Ua(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=g1(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let E=d[w]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const _=d[w];return v&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function g1(t,e=!1,r=!0){Pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function y1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function v1(t,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Mi(t):t;return{pathname:r?r.startsWith("/")?r:w1(r,e):e,search:b1(s),hash:S1(o)}}function w1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function nc(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=x1(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function oy(t,e,r,s=!1){let o;typeof t=="string"?o=Mi(t):(o={...t},Ke(!o.pathname||!o.pathname.includes("?"),nc("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),nc("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),nc("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let h=v1(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var zn=t=>t.join("/").replace(/\/\/+/g,"/"),_1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ay=["POST","PUT","PATCH","DELETE"];new Set(ay);var E1=["GET",...ay];new Set(E1);var Bi=b.createContext(null);Bi.displayName="DataRouter";var tl=b.createContext(null);tl.displayName="DataRouterState";b.createContext(!1);var ly=b.createContext({isTransitioning:!1});ly.displayName="ViewTransition";var C1=b.createContext(new Map);C1.displayName="Fetchers";var j1=b.createContext(null);j1.displayName="Await";var Rn=b.createContext(null);Rn.displayName="Navigation";var Zs=b.createContext(null);Zs.displayName="Location";var An=b.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var gd=b.createContext(null);gd.displayName="RouteError";function T1(t,{relative:e}={}){Ke(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=b.useContext(Rn),{hash:o,pathname:l,search:u}=to(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:zn([r,l])),s.createHref({pathname:d,search:u,hash:o})}function eo(){return b.useContext(Zs)!=null}function xn(){return Ke(eo(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Zs).location}var uy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cy(t){b.useContext(Rn).static||b.useLayoutEffect(t)}function At(){let{isDataRoute:t}=b.useContext(An);return t?V1():P1()}function P1(){Ke(eo(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Bi),{basename:e,navigator:r}=b.useContext(Rn),{matches:s}=b.useContext(An),{pathname:o}=xn(),l=JSON.stringify(sy(s)),u=b.useRef(!1);return cy(()=>{u.current=!0}),b.useCallback((h,p={})=>{if(Pn(u.current,uy),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=oy(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:zn([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,l,o,t])}b.createContext(null);function dy(){let{matches:t}=b.useContext(An),e=t[t.length-1];return e?e.params:{}}function to(t,{relative:e}={}){let{matches:r}=b.useContext(An),{pathname:s}=xn(),o=JSON.stringify(sy(r));return b.useMemo(()=>oy(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function R1(t,e){return hy(t,e)}function hy(t,e,r,s,o){Ke(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(Rn),{matches:u}=b.useContext(An),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";fy(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=xn(),_;if(e){let P=typeof e=="string"?Mi(e):e;Ke(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=w;let E=_.pathname||"/",S=E;if(g!=="/"){let P=g.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=ny(t,{pathname:S});Pn(v||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Pn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=D1(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:zn([g,l.encodeLocation?l.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:zn([g,l.encodeLocation?l.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,r,s,o);return e&&j?b.createElement(Zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},j):j}function A1(){let t=F1(),e=k1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:o},r):null,u)}var O1=b.createElement(A1,null),I1=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(An.Provider,{value:this.props.routeContext},b.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L1({routeContext:t,match:e,children:r}){let s=b.useContext(Bi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(An.Provider,{value:t},r)}function D1(t,e=[],r=null,s=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(r)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:w}=r,_=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||_){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let w,_=!1,E=null,S=null;r&&(w=u&&g.route.id?u[g.route.id]:void 0,E=g.route.errorElement||O1,d&&(h<0&&v===0?(fy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===v&&(_=!0,S=g.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,v+1)),j=()=>{let P;return w?P=E:_?P=S:g.route.Component?P=b.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,b.createElement(L1,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:r!=null},children:P})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(I1,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):j()},null)}function yd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N1(t){let e=b.useContext(Bi);return Ke(e,yd(t)),e}function M1(t){let e=b.useContext(tl);return Ke(e,yd(t)),e}function B1(t){let e=b.useContext(An);return Ke(e,yd(t)),e}function vd(t){let e=B1(t),r=e.matches[e.matches.length-1];return Ke(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function $1(){return vd("useRouteId")}function F1(){let t=b.useContext(gd),e=M1("useRouteError"),r=vd("useRouteError");return t!==void 0?t:e.errors?.[r]}function V1(){let{router:t}=N1("useNavigate"),e=vd("useNavigate"),r=b.useRef(!1);return cy(()=>{r.current=!0}),b.useCallback(async(o,l={})=>{Pn(r.current,uy),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var lm={};function fy(t,e,r){!e&&!lm[t]&&(lm[t]=!0,Pn(!1,r))}b.memo(U1);function U1({routes:t,future:e,state:r,unstable_onError:s}){return hy(t,void 0,r,s,e)}function st(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z1({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:l=!1}){Ke(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof r=="string"&&(r=Mi(r));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:w="default"}=r,_=b.useMemo(()=>{let E=Wn(h,u);return E==null?null:{location:{pathname:E,search:p,hash:g,state:v,key:w},navigationType:s}},[u,h,p,g,v,w,s]);return Pn(_!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(Rn.Provider,{value:d},b.createElement(Zs.Provider,{children:e,value:_}))}function W1({children:t,location:e}){return R1(Lc(t),e)}function Lc(t,e=[]){let r=[];return b.Children.forEach(t,(s,o)=>{if(!b.isValidElement(s))return;let l=[...e,o];if(s.type===b.Fragment){r.push.apply(r,Lc(s.props.children,l));return}Ke(s.type===st,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Lc(s.props.children,l)),r.push(u)}),r}var Na="get",Ma="application/x-www-form-urlencoded";function nl(t){return t!=null&&typeof t.tagName=="string"}function q1(t){return nl(t)&&t.tagName.toLowerCase()==="button"}function H1(t){return nl(t)&&t.tagName.toLowerCase()==="form"}function K1(t){return nl(t)&&t.tagName.toLowerCase()==="input"}function G1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J1(t,e){return t.button===0&&(!e||e==="_self")&&!G1(t)}var _a=null;function Y1(){if(_a===null)try{new FormData(document.createElement("form"),0),_a=!1}catch{_a=!0}return _a}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rc(t){return t!=null&&!Q1.has(t)?(Pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ma}"`),null):t}function X1(t,e){let r,s,o,l,u;if(H1(t)){let d=t.getAttribute("action");s=d?Wn(d,e):null,r=t.getAttribute("method")||Na,o=rc(t.getAttribute("enctype"))||Ma,l=new FormData(t)}else if(q1(t)||K1(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?Wn(h,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Na,o=rc(t.getAttribute("formenctype"))||rc(d.getAttribute("enctype"))||Ma,l=new FormData(d,t),!Y1()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(nl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Na,s=null,o=Ma,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z1(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Wn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function e_(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function n_(t,e,r){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await e_(l,r);return u.links?u.links():[]}return[]}));return o_(s.flat(1).filter(t_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function um(t,e,r,s,o,l){let u=(h,p)=>r[p]?h.route.id!==r[p].route.id:!0,d=(h,p)=>r[p].pathname!==h.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{let g=s.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function r_(t,e,{includeHydrateFallback:r}={}){return i_(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function i_(t){return[...new Set(t)]}function s_(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function o_(t,e){let r=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(s_(o));return r.has(l)||(r.add(l),s.push({key:l,link:o})),s},[])}function py(){let t=b.useContext(Bi);return wd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function a_(){let t=b.useContext(tl);return wd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xd=b.createContext(void 0);xd.displayName="FrameworkContext";function my(){let t=b.useContext(xd);return wd(t,"You must render this element inside a <HydratedRouter> element"),t}function l_(t,e){let r=b.useContext(xd),[s,o]=b.useState(!1),[l,u]=b.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let S=j=>{j.forEach(P=>{u(P.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),b.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let _=()=>{o(!0)},E=()=>{o(!1),u(!1)};return r?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ps(d,_),onBlur:Ps(h,E),onMouseEnter:Ps(p,_),onMouseLeave:Ps(g,E),onTouchStart:Ps(v,_)}]:[!1,w,{}]}function Ps(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function u_({page:t,...e}){let{router:r}=py(),s=b.useMemo(()=>ny(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?b.createElement(d_,{page:t,matches:s,...e}):null}function c_(t){let{manifest:e,routeModules:r}=my(),[s,o]=b.useState([]);return b.useEffect(()=>{let l=!1;return n_(t,e,r).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,r]),s}function d_({page:t,matches:e,...r}){let s=xn(),{manifest:o,routeModules:l}=my(),{basename:u}=py(),{loaderData:d,matches:h}=a_(),p=b.useMemo(()=>um(t,e,h,o,s,"data"),[t,e,h,o,s]),g=b.useMemo(()=>um(t,e,h,o,s,"assets"),[t,e,h,o,s]),v=b.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let E=new Set,S=!1;if(e.forEach(j=>{let P=o.routes[j.route.id];!P||!P.hasLoader||(!p.some(R=>R.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||P.hasClientLoader?S=!0:E.add(j.route.id))}),E.size===0)return[];let k=Z1(t,u,"data");return S&&E.size>0&&k.searchParams.set("_routes",e.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[u,d,s,o,p,e,t,l]),w=b.useMemo(()=>r_(g,o),[g,o]),_=c_(g);return b.createElement(b.Fragment,null,v.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),w.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),_.map(({key:E,link:S})=>b.createElement("link",{key:E,nonce:r.nonce,...S})))}function h_(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.9.4")}catch{}function f_({basename:t,children:e,window:r}){let s=b.useRef();s.current==null&&(s.current=t1({window:r,v5Compat:!0}));let o=s.current,[l,u]=b.useState({action:o.action,location:o.location}),d=b.useCallback(h=>{b.startTransition(()=>u(h))},[u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(z1,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=b.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,...w},_){let{basename:E}=b.useContext(Rn),S=typeof p=="string"&&yy.test(p),k,j=!1;if(typeof p=="string"&&S&&(k=p,gy))try{let I=new URL(window.location.href),J=p.startsWith("//")?new URL(I.protocol+p):new URL(p),oe=Wn(J.pathname,E);J.origin===I.origin&&oe!=null?p=oe+J.search+J.hash:j=!0}catch{Pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=T1(p,{relative:o}),[R,M,$]=l_(s,w),U=y_(p,{replace:u,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:v});function K(I){e&&e(I),I.defaultPrevented||U(I)}let G=b.createElement("a",{...w,...$,href:k||P,onClick:j||l?e:K,ref:h_(_,M),target:h,"data-discover":!S&&r==="render"?"true":void 0});return R&&!S?b.createElement(b.Fragment,null,G,b.createElement(u_,{page:P})):G});ht.displayName="Link";var p_=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},g){let v=to(u,{relative:p.relative}),w=xn(),_=b.useContext(tl),{navigator:E,basename:S}=b.useContext(Rn),k=_!=null&&b_(v)&&d===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,P=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(P=P.toLowerCase(),R=R?R.toLowerCase():null,j=j.toLowerCase()),R&&S&&(R=Wn(R,S)||R);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=P===j||!o&&P.startsWith(j)&&P.charAt(M)==="/",U=R!=null&&(R===j||!o&&R.startsWith(j)&&R.charAt(j.length)==="/"),K={isActive:$,isPending:U,isTransitioning:k},G=$?e:void 0,I;typeof s=="function"?I=s(K):I=[s,$?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(K):l;return b.createElement(ht,{...p,"aria-current":G,className:I,ref:g,style:J,to:u,viewTransition:d},typeof h=="function"?h(K):h)});p_.displayName="NavLink";var m_=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:l,method:u=Na,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...w},_)=>{let E=x_(),S=__(d,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&yy.test(d),P=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,$=M?.getAttribute("formmethod")||u;E(M||R.currentTarget,{fetcherKey:e,method:$,navigate:r,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:_,method:k,action:S,onSubmit:s?h:P,...w,"data-discover":!j&&t==="render"?"true":void 0})});m_.displayName="Form";function g_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vy(t){let e=b.useContext(Bi);return Ke(e,g_(t)),e}function y_(t,{target:e,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=At(),h=xn(),p=to(t,{relative:l});return b.useCallback(g=>{if(J1(g,e)){g.preventDefault();let v=r!==void 0?r:zs(h)===zs(p);d(t,{replace:v,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,r,s,e,t,o,l,u])}var v_=0,w_=()=>`__${String(++v_)}__`;function x_(){let{router:t}=vy("useSubmit"),{basename:e}=b.useContext(Rn),r=$1();return b.useCallback(async(s,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=X1(s,e);if(o.navigate===!1){let g=o.fetcherKey||w_();await t.fetch(g,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function __(t,{relative:e}={}){let{basename:r}=b.useContext(Rn),s=b.useContext(An);Ke(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...to(t||".",{relative:e})},u=xn();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:zn([r,l.pathname])),zs(l)}function b_(t,{relative:e}={}){let r=b.useContext(ly);Ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vy("useViewTransitionState"),o=to(t,{relative:e});if(!r.isTransitioning)return!1;let l=Wn(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=Wn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ua(o.pathname,u)!=null||Ua(o.pathname,l)!=null}var wy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cm=Wr.createContext&&Wr.createContext(wy),S_=["attr","size","title"];function k_(t,e){if(t==null)return{};var r=E_(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function E_(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},za.apply(this,arguments)}function dm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function Wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dm(Object(r),!0).forEach(function(s){C_(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dm(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function C_(t,e,r){return e=j_(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j_(t){var e=T_(t,"string");return typeof e=="symbol"?e:e+""}function T_(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xy(t){return t&&t.map((e,r)=>Wr.createElement(e.tag,Wa({key:r},e.attr),xy(e.child)))}function tt(t){return e=>Wr.createElement(P_,za({attr:Wa({},t.attr)},e),xy(t.child))}function P_(t){var e=r=>{var{attr:s,size:o,title:l}=t,u=k_(t,S_),d=o||r.size||"1em",h;return r.className&&(h=r.className),t.className&&(h=(h?h+" ":"")+t.className),Wr.createElement("svg",za({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:h,style:Wa(Wa({color:t.color||r.color},r.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Wr.createElement("title",null,l),t.children)};return cm!==void 0?Wr.createElement(cm.Consumer,null,r=>e(r)):e(wy)}function R_(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function A_(t){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function O_(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function hm(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function _d(t){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function ic(t){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function _y(t){return tt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function I_(t){return tt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function L_(t){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}var Dc=function(t,e){return Dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Dc(t,e)};function by(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qa=function(){return qa=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},qa.apply(this,arguments)};function $i(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function Sy(t,e,r,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function ky(t,e){return function(r,s){e(r,s,t)}}function Ey(t,e,r,s,o,l){function u(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),v,w=!1,_=r.length-1;_>=0;_--){var E={};for(var S in s)E[S]=S==="access"?{}:s[S];for(var S in s.access)E.access[S]=s.access[S];E.addInitializer=function(j){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(j||null))};var k=(0,r[_])(d==="accessor"?{get:g.get,set:g.set}:g[h],E);if(d==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(v=u(k.get))&&(g.get=v),(v=u(k.set))&&(g.set=v),(v=u(k.init))&&o.unshift(v)}else(v=u(k))&&(d==="field"?o.unshift(v):g[h]=v)}p&&Object.defineProperty(p,s.name,g),w=!0}function Cy(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function jy(t){return typeof t=="symbol"?t:"".concat(t)}function Ty(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Py(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ie(t,e,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{p(s.next(g))}catch(v){u(v)}}function h(g){try{p(s.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):o(g.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}function Ry(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(g){return h([p,g])}}function h(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){r.label=p[1];break}if(p[0]===6&&r.label<l[1]){r.label=l[1],l=p;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(p);break}l[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(g){p=[6,g],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var rl=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function Ay(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rl(e,t,r)}function Ha(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return l}function Oy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bd(arguments[e]));return t}function Iy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,o++)s[o]=l[u];return s}function Ly(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}function Dy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(E){return Promise.resolve(E).then(_,v)}}function d(_,E){s[_]&&(o[_]=function(S){return new Promise(function(k,j){l.push([_,S,k,j])>1||h(_,S)})},E&&(o[_]=E(o[_])))}function h(_,E){try{p(s[_](E))}catch(S){w(l[0][3],S)}}function p(_){_.value instanceof Li?Promise.resolve(_.value.v).then(g,v):w(l[0][2],_)}function g(_){h("next",_)}function v(_){h("throw",_)}function w(_,E){_(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Ny(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(u){return(r=!r)?{value:Li(t[o](u)),done:!1}:l?l(u):u}:l}}function My(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ha=="function"?Ha(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(l){r[l]=t[l]&&function(u){return new Promise(function(d,h){u=t[l](u),o(d,h,u.done,u.value)})}}function o(l,u,d,h){Promise.resolve(h).then(function(p){l({value:p,done:d})},u)}}function By(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var D_=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Nc=function(t){return Nc=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Nc(t)};function $y(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Nc(t),s=0;s<r.length;s++)r[s]!=="default"&&rl(e,t,r[s]);return D_(e,t),e}function Fy(t){return t&&t.__esModule?t:{default:t}}function Vy(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Uy(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function zy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Wy(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var N_=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function qy(t){function e(l){t.error=t.hasError?new N_(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Hy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,l,u){return s?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):t}const M_={__extends:by,__assign:qa,__rest:$i,__decorate:Sy,__param:ky,__esDecorate:Ey,__runInitializers:Cy,__propKey:jy,__setFunctionName:Ty,__metadata:Py,__awaiter:ie,__generator:Ry,__createBinding:rl,__exportStar:Ay,__values:Ha,__read:bd,__spread:Oy,__spreadArrays:Iy,__spreadArray:Ly,__await:Li,__asyncGenerator:Dy,__asyncDelegator:Ny,__asyncValues:My,__makeTemplateObject:By,__importStar:$y,__importDefault:Fy,__classPrivateFieldGet:Vy,__classPrivateFieldSet:Uy,__classPrivateFieldIn:zy,__addDisposableResource:Wy,__disposeResources:qy,__rewriteRelativeImportExtension:Hy},B_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Wy,get __assign(){return qa},__asyncDelegator:Ny,__asyncGenerator:Dy,__asyncValues:My,__await:Li,__awaiter:ie,__classPrivateFieldGet:Vy,__classPrivateFieldIn:zy,__classPrivateFieldSet:Uy,__createBinding:rl,__decorate:Sy,__disposeResources:qy,__esDecorate:Ey,__exportStar:Ay,__extends:by,__generator:Ry,__importDefault:Fy,__importStar:$y,__makeTemplateObject:By,__metadata:Py,__param:ky,__propKey:jy,__read:bd,__rest:$i,__rewriteRelativeImportExtension:Hy,__runInitializers:Cy,__setFunctionName:Ty,__spread:Oy,__spreadArray:Ly,__spreadArrays:Iy,__values:Ha,default:M_},Symbol.toStringTag,{value:"Module"})),$_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Sd extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class fm extends Sd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pm extends Sd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mm extends Sd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mc||(Mc={}));class F_{constructor(e,{headers:r={},customFetch:s,region:o=Mc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=$_(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(r,s={}){var o;try{const{headers:l,method:u,body:d,signal:h}=s;let p={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(p["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(p["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:w,signal:h}).catch(j=>{throw j.name==="AbortError"?j:new fm(j)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new pm(_);if(!_.ok)throw new mm(_);let S=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield _.json():S==="application/octet-stream"||S==="application/pdf"?k=yield _.blob():S==="text/event-stream"?k=_:S==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new fm(l)}:{data:null,error:l,response:l instanceof mm||l instanceof pm?l.context:void 0}}})}}var Et={};const Fi=qx(B_);var ba={},Sa={},ka={},Ea={},Ca={},ja={},gm;function Ky(){if(gm)return ja;gm=1,Object.defineProperty(ja,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ja.default=t,ja}var ym;function Gy(){if(ym)return Ca;ym=1,Object.defineProperty(Ca,"__esModule",{value:!0});const e=Fi.__importDefault(Ky());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v,w;let _=null,E=null,S=null,k=h.status,j=h.statusText;if(h.ok){if(this.method!=="HEAD"){const $=await h.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?E=$:E=JSON.parse($))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,S=null,k=406,j="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await h.text();try{_=JSON.parse(R),Array.isArray(_)&&h.status===404&&(E=[],_=null,k=200,j="OK")}catch{h.status===404&&R===""?(k=204,j="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,k=200,j="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:E,count:S,status:k,statusText:j}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,v;return{error:{message:`${(p=h?.name)!==null&&p!==void 0?p:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=h?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ca.default=r,Ca}var vm;function Jy(){if(vm)return Ea;vm=1,Object.defineProperty(Ea,"__esModule",{value:!0});const e=Fi.__importDefault(Gy());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var g;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ea.default=r,Ea}var wm;function kd(){if(wm)return ka;wm=1,Object.defineProperty(ka,"__esModule",{value:!0});const e=Fi.__importDefault(Jy()),r=new RegExp("[,()]");class s extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return ka.default=s,ka}var xm;function Yy(){if(xm)return Sa;xm=1,Object.defineProperty(Sa,"__esModule",{value:!0});const e=Fi.__importDefault(kd());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,l){const{head:u=!1,count:d}=l??{},h=u?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Sa.default=r,Sa}var _m;function V_(){if(_m)return ba;_m=1,Object.defineProperty(ba,"__esModule",{value:!0});const t=Fi,e=t.__importDefault(Yy()),r=t.__importDefault(kd());class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:p}={}){var g;let v;const w=new URL(`${this.url}/rpc/${l}`);let _;d||h?(v=d?"HEAD":"GET",Object.entries(u).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{w.searchParams.append(S,k)})):(v="POST",_=u);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new r.default({method:v,url:w,headers:E,schema:this.schemaName,body:_,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return ba.default=s,ba}var bm;function U_(){if(bm)return Et;bm=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const t=Fi,e=t.__importDefault(V_());Et.PostgrestClient=e.default;const r=t.__importDefault(Yy());Et.PostgrestQueryBuilder=r.default;const s=t.__importDefault(kd());Et.PostgrestFilterBuilder=s.default;const o=t.__importDefault(Jy());Et.PostgrestTransformBuilder=o.default;const l=t.__importDefault(Gy());Et.PostgrestBuilder=l.default;const u=t.__importDefault(Ky());return Et.PostgrestError=u.default,Et.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},Et}var Qy=U_();const Xy=ty(Qy),z_=Wx({__proto__:null,default:Xy},[Qy]),{PostgrestClient:W_,PostgrestQueryBuilder:DT,PostgrestFilterBuilder:NT,PostgrestTransformBuilder:MT,PostgrestBuilder:BT,PostgrestError:$T}=Xy||z_;class q_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const H_="2.80.0",K_=`realtime-js/${H_}`,G_="1.0.0",Bc=1e4,J_=1e3,Y_=100;var Ls;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ls||(Ls={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wn||(wn={}));var $c;(function(t){t.websocket="websocket"})($c||($c={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class Q_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const o=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(e.slice(u,u+o));u=u+o;const h=s.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:h,payload:p}}}class Zy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(De||(De={}));const Sm=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=X_(u,t,e,o),l),{}):{}},X_=(t,e,r,s)=>{const o=e.find(d=>d.name===t),l=o?.type,u=r[t];return l&&!s.includes(l)?e0(l,u):Fc(u)},e0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nb(e,r)}switch(t){case De.bool:return Z_(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return eb(e);case De.json:case De.jsonb:return tb(e);case De.timestamp:return rb(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Fc(e);default:return Fc(e)}},Fc=t=>t,Z_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>e0(e,d))}return t},rb=t=>typeof t=="string"?t.replace(" ","T"):t,t0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class sc{constructor(e,r,s={},o=Bc){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var km;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(km||(km={}));class Ds{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=Ds.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ds.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const v=l[p];if(v){const w=g.map(k=>k.presence_ref),_=v.map(k=>k.presence_ref),E=g.filter(k=>_.indexOf(k.presence_ref)<0),S=v.filter(k=>w.indexOf(k.presence_ref)<0);E.length>0&&(d[p]=E),S.length>0&&(h[p]=S)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(_=>_.presence_ref),w=g.filter(_=>v.indexOf(_.presence_ref)<0);e[d].unshift(...w)}s(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Em;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Em||(Em={}));var Ns;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ns||(Ns={}));var Un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Ed{constructor(e,r={config:{}},s){var o,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new Zy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ds(this),this.broadcastEndpointURL=t0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Un.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket.setAuth(),_===void 0){e?.(Un.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(E=S?.length)!==null&&E!==void 0?E:0,j=[];for(let P=0;P<k;P++){const R=S[P],{filter:{event:M,schema:$,table:U,filter:K}}=R,G=_&&_[P];if(G&&G.event===M&&G.schema===$&&G.table===U&&G.filter===K)j.push(Object.assign(Object.assign({},R),{id:G.id}));else{this.unsubscribe(),this.state=dt.errored,e?.(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Un.SUBSCRIBED);return}}).receive("error",_=>{this.state=dt.errored,e?.(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===dt.joined&&e===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new sc(this,wn.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new sc(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Y_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=wn;if(s&&[d,h,p,g].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,r,s);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var E,S,k;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(S=_.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(_=>_.callback(w,s)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var E,S,k,j,P,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const M=_.id,$=(E=_.filter)===null||E===void 0?void 0:E.event;return M&&((S=r.ids)===null||S===void 0?void 0:S.includes(M))&&($==="*"||$?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const M=(P=(j=_?.filter)===null||j===void 0?void 0:j.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return M==="*"||M===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:S,table:k,commit_timestamp:j,type:P,errors:R}=E;w=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:j,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(E))}_.callback(w,s)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Ed.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sm(e.columns,e.old_record)),r}}const oc=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ib=[1e3,2e3,5e3,1e4],sb=1e4,ob=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ab{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bc,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oc,this.ref=0,this.reconnectTimer=null,this.logger=oc,this.conn=null,this.sendBuffer=[],this.serializer=new Q_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$c.websocket}`,this.httpEndpoint=t0(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=q_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:G_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return $r.Connecting;case Ls.open:return $r.Open;case Ls.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new Ed(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(J_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([ob],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:K_};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Zy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,l,u,d,h,p,g;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Bc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ta.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:oc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>ib[v-1]||sb),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((v,w)=>w(JSON.stringify(v))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Cd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lb extends Cd{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vc extends Cd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ub=()=>Response,Uc=t=>{if(Array.isArray(t))return t.map(r=>Uc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Uc(s)}),e},cb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ac=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},db=(t,e,r)=>ie(void 0,void 0,void 0,function*(){const s=yield ub();t instanceof s&&!r?.noResolveJson?t.json().then(o=>{const l=t.status||500,u=o?.statusCode||l+"";e(new lb(ac(o),l,u))}).catch(o=>{e(new Vc(ac(o),o))}):e(new Vc(ac(t),t))}),hb=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(cb(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function no(t,e,r,s,o,l){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,hb(e,s,o,l)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>db(h,d,s))})})}function Ws(t,e,r,s){return ie(this,void 0,void 0,function*(){return no(t,"GET",e,r,s)})}function vn(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return no(t,"POST",e,s,o,r)})}function zc(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return no(t,"PUT",e,s,o,r)})}function fb(t,e,r,s){return ie(this,void 0,void 0,function*(){return no(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Td(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return no(t,"DELETE",e,s,o,r)})}class pb{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}var n0;class mb{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[n0]="BlobDownloadBuilder",this.promise=null}asStream(){return new pb(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}n0=Symbol.toStringTag;const gb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yb{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=jd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ie(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Cm),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),g=this._getFinalPath(p),v=yield(e=="PUT"?zc:vn)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}})}upload(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ie(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:Cm.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield zc(this.fetch,d.toString(),h,{headers:g});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(qe(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield vn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Cd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}update(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield vn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Ws(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new mb(h,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Ws(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Uc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}exists(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fb(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s)&&s instanceof Vc){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}list(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},gb),r),{prefix:e||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}listV2(e,r){return ie(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const r0="2.80.0",i0={"X-Client-Info":`storage-js/${r0}`};class vb{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i0),r),this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ws(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}createBucket(e){return ie(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class wb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i0),r),this.fetch=jd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Ws(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}const Pd={"X-Client-Info":`storage-js/${r0}`,"Content-Type":"application/json"};class s0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class lc extends s0{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xb extends s0{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jm||(jm={}));const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_b=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bb=(t,e,r)=>ie(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new lc(Tm(u),o,d))}).catch(()=>{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new lc(d,o,u))});else{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new lc(d,o,u))}}else e(new xb(Tm(t),t))}),Sb=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return s?(_b(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function kb(t,e,r,s,o,l){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,Sb(e,s,o,l)).then(h=>{if(!h.ok)throw h;if(s?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>bb(h,d,s))})})}function Ht(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return kb(t,"POST",e,s,o,r)})}class Eb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class Cb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class jb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pd),r),this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class Tb extends jb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Pb(this.url,this.headers,e,this.fetch)}}class Pb extends Eb{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Rb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Rb extends Cb{constructor(e,r,s,o,l){super(e,r,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ab extends vb{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new yb(this.url,this.headers,e,this.fetch)}get vectors(){return new Tb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wb(this.url+"/iceberg",this.headers,this.fetch)}}const Ob="2.80.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const Ib={"X-Client-Info":`supabase-js-${Os}/${Ob}`},Lb={headers:Ib},Db={schema:"public"},Nb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mb={},Bb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$b=()=>Headers,Fb=(t,e,r)=>{const s=Bb(r),o=$b();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(l,Object.assign(Object.assign({},u),{headers:p}))}};function Vb(t){return t.endsWith("/")?t:t+"/"}function Ub(t,e){var r,s;const{db:o,auth:l,realtime:u,global:d}=t,{db:h,auth:p,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function zb(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o0="2.80.0",Ei=30*1e3,Wc=3,uc=Wc*Ei,Wb="http://localhost:9999",qb="supabase.auth.token",Hb={"X-Client-Info":`gotrue-js/${o0}`},qc="X-Supabase-Api-Version",a0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gb=600*1e3;class qs extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jb extends qs{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Yb(t){return ae(t)&&t.name==="AuthApiError"}class Fr extends qs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wr extends qs{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}}class mn extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qb(t){return ae(t)&&t.name==="AuthSessionMissingError"}class xi extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pa extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ra extends wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xb(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pm extends wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function cc(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class Rm extends wr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Kc extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Am=` 	
\r=`.split(""),Zb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Am.length;e+=1)t[Am[e].charCodeAt(0)]=-2;for(let e=0;e<Ka.length;e+=1)t[Ka[e].charCodeAt(0)]=e;return t})();function Om(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ka[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ka[s]),e.queuedBits-=6}}function l0(t,e,r){const s=Zb[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Im(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{nS(u,s,r)};for(let u=0;u<t.length;u+=1)l0(t.charCodeAt(u),o,l);return e.join("")}function eS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tS(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}eS(s,e)}}function nS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Oi(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)l0(t.charCodeAt(o),r,s);return new Uint8Array(e)}function rS(t){const e=[];return tS(t,r=>e.push(r)),new Uint8Array(e)}function Vr(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Om(o,r,s)),Om(null,r,s),e.join("")}function iS(t){return Math.round(Date.now()/1e3)+t}function sS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},u0=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function oS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const c0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ci=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Dr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pr=async(t,e)=>{await t.removeItem(e)};class il{constructor(){this.promise=new il.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}il.promiseConstructor=Promise;function dc(t){const e=t.split(".");if(e.length!==3)throw new Kc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Kb.test(e[s]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(Im(e[0])),payload:JSON.parse(Im(e[1])),signature:Oi(e[2]),raw:{header:e[0],payload:e[1]}}}async function lS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uS(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function cS(t){return("0"+t.toString(16)).substr(-2)}function dS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,cS).join("")}async function hS(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function fS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await hS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _i(t,e,r=!1){const s=dS();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Ci(t,`${e}-code-verifier`,o);const l=await fS(s);return[l,s===l?"plain":"s256"]}const pS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mS(t){const e=t.headers.get(qc);if(!e||!e.match(pS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(t){if(!vS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wS(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Lm(t){return JSON.parse(JSON.stringify(t))}const Mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xS=[502,503,504];async function Dm(t){var e;if(!aS(t))throw new Hc(Mr(t),0);if(xS.includes(t.status))throw new Hc(Mr(t),t.status);let r;try{r=await t.json()}catch(l){throw new Fr(Mr(l),l)}let s;const o=mS(t);if(o&&o.getTime()>=a0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Rm(Mr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Rm(Mr(r),t.status,r.weak_password.reasons);throw new Jb(Mr(r),t.status||500,s)}const _S=(t,e,r,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function ce(t,e,r,s){var o;const l=Object.assign({},s?.headers);l[qc]||(l[qc]=a0["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await bS(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function bS(t,e,r,s,o,l){const u=_S(e,s,o,l);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Hc(Mr(h),0)}if(d.ok||await Dm(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await Dm(h)}}function gn(t){var e;let r=null;ES(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=iS(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Nm(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SS(t){return{data:t,error:null}}function kS(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l}=t,u=$i(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Mm(t){return t}function ES(t){return t.access_token&&t.refresh_token&&t.expires_in}const fc=["global","local","others"];class CS{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=c0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=fc[0]){if(fc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fc.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=$i(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:kS,redirectTo:r?.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mm});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){bi(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){bi(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:gr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){bi(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:gr})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){bi(e.userId);try{const{data:r,error:s}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){bi(e.userId),bi(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mm});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Bm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Si={debug:!!(globalThis&&u0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jS extends d0{}async function TS(t,e,r){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Si.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function PS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function RS(t){return parseInt(t,16)}function AS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function OS(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:g,uri:v,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=h0(t.address),E=g?`${g}://${s}`:s,S=t.statement?`${t.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${_}

${S}`;let j=`URI: ${v}
Version: ${w}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),h&&(j+=`
Request ID: ${h}`),p){let P=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}j+=P}return`${k}
${j}`}class ot extends Error{constructor({message:e,code:r,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Ga extends ot{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function IS({error:t,options:e}){var r,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(f0(u)){if(l.rp.id!==u)return new ot({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function LS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(f0(s)){if(r.rpId!==s)return new ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class DS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NS=new DS;function MS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=$i(t,["challenge","user","excludeCredentials"]),l=Oi(e).buffer,u=Object.assign(Object.assign({},r),{id:Oi(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Oi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function BS(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=$i(t,["challenge","allowCredentials"]),o=Oi(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Oi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $S(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Vr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Vr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FS(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Vr(new Uint8Array(o.authenticatorData)),clientDataJSON:Vr(new Uint8Array(o.clientDataJSON)),signature:Vr(new Uint8Array(o.signature)),userHandle:o.userHandle?Vr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $m(){var t,e;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function VS(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:IS({error:e,options:t})}}}async function US(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ga("Browser returned unexpected credential type",e)}:{data:null,error:new Ga("Empty credential response",e)}}catch(e){return{data:null,error:LS({error:e,options:t})}}}const zS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},WS={userVerification:"preferred",hints:["security-key"]};function Ja(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(r(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=Ja(d,u):s[l]=Ja(u)}else s[l]=u}return s}function qS(t,e){return Ja(zS,t,e||{})}function HS(t,e){return Ja(WS,t,e||{})}class KS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=o??NS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=qS(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await VS({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=HS(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await US(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Fr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!r)return{data:null,error:new qs("rpId is required for WebAuthn authentication")};try{if(!$m())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Fr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!r)return{data:null,error:new qs("rpId is required for WebAuthn registration")};try{if(!$m())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new Fr("Unexpected error in register",u)}}}}PS();const GS={url:Wb,storageKey:qb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fm(t,e,r){return await r()}const ki={};class Hs{get jwks(){var e,r;return(r=(e=ki[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ki[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},GS),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Hs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ct()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new CS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=c0(l.fetch),this.lock=l.lock||Fm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:Ct()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=TS:this.lock=Fm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:u0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Ct()&&(r=oS(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ct()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Xb(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new Fr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,s,o;try{let l;if("email"in e){const{email:g,password:v,options:w}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await _i(this.storage,this.storageKey)),l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:E},xform:gn})}else if("phone"in e){const{phone:g,password:v,options:w}=e;l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gn})}else throw new Pa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Nm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Nm})}else throw new Pa("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const l=new xi;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,l,u,d,h,p,g,v,w;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:S,wallet:k,statement:j,options:P}=e;let R;if(Ct())if(typeof k=="object")R=k;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")R=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const M=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),$=await R.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=h0($[0]);let K=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!K){const I=await R.request({method:"eth_chainId"});K=RS(I)}const G={domain:M.host,address:U,statement:j,uri:M.href,version:"1",chainId:K,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=OS(G),E=await R.request({method:"personal_sign",params:[AS(_),U]})}try{const{data:S,error:k}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:gn});if(k)throw k;if(!S||!S.session||!S.user){const j=new xi;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,s,o,l,u,d,h,p,g,v,w,_;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:k,wallet:j,statement:P,options:R}=e;let M;if(Ct())if(typeof j=="object")M=j;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))M=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const $=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const U=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),P?{statement:P}:null));let K;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")K=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)K=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)E=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),S=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(s=R?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const U=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=U}}try{const{data:k,error:j}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Vr(S)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:gn});if(j)throw j;if(!k||!k.session||!k.user){const P=new xi;return this._returnResult({data:{user:null,session:null},error:P})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:j})}catch(k){if(ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await Dr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:l,error:u}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gn});if(await pr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:l,nonce:u}=e,d=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gn}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new xi;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _i(this.storage,this.storageKey));const{error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Pa("You must provide either an email or phone number.")}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:gn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _i(this.storage,this.storageKey));const d=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:SS});return this._returnResult(d)}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new mn;const{error:o}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:u}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:u,error:d}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Pa("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Dr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=hc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=wS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gr}):await this._useSession(async r=>{var s,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:gr})})}catch(r){if(ae(r))return Qb(r)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new mn;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await _i(this.storage,this.storageKey));const{data:p,error:g}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:gr});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const r=Date.now()/1e3;let s=r,o=!0,l=null;const{payload:u}=dc(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new mn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ct())throw new Ra("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ra(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ra("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pm("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Ra("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let w=g+v;h&&(w=parseInt(h));const _=w-g;_*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const E=w-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:S,error:k}=await this._getUser(l);if(k)throw k;const j={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(Yb(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=sS(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await _i(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async l=>{var u,d,h,p,g;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Ct()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ae(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:g}=e,v=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:gn}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new xi}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)throw u;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await uS(async o=>(o>0&&await lS(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&cc(l)&&Date.now()+u-s<Ei})}catch(s){if(this._debug(r,"error",s),ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ct()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Dr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ci(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:hc()}else if(o&&!o.user&&!o.user){const u=await Dr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await pr(this.storage,this.storageKey+"-user"),await Ci(this.storage,this.storageKey,o)):o.user=hc()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${uc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),cc(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new il;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new mn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return cc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ci(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Lm(o);await Ci(this.storage,this.storageKey,l)}else{const o=Lm(r);await Ci(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Wc} ticks`),o<=Wc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof d0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await _i(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$S(e.webauthn.credential_response):FS(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:MS(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:BS(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=dc(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new mn})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new mn});const u=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new mn});const u=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+Gb>o)return s;const{data:l,error:u}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:_,error:E}=await this.getSession();if(E||!_.session)return this._returnResult({data:null,error:E});s=_.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=dc(s);r?.allowExpired||gS(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:l,header:o,signature:u},error:null}}const g=yS(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,rS(`${d}.${h}`)))throw new Kc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}}Hs.nextInstanceID={};const JS=Hs;class YS extends JS{constructor(e){super(e)}}class QS{constructor(e,r,s){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=zb(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:Db,realtime:Mb,auth:Object.assign(Object.assign({},Nb),{storageKey:h}),global:Lb},g=Ub(s??{},p);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=Fb(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new W_(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Ab(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new F_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:p,throwOnError:g},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YS({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:h,debug:p,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ab(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XS=(t,e,r)=>new QS(t,e,r);function ZS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ek="https://nduipqbquhuheuvkmstz.supabase.co",tk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kdWlwcWJxdWh1aGV1dmttc3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MTgxMjYsImV4cCI6MjA3NjE5NDEyNn0.fMxocAnbbdWI2WwJ1CT9v8Skiu_p9pgGEczG49dfdtc",se=XS(ek,tk),p0=b.createContext();function nk({children:t}){const[e,r]=b.useState(null),[s,o]=b.useState(!0),l=()=>"https://fetop.vercel.app/confirm",u=async(g,v,w)=>{if(!/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(g))throw new Error("Please use a valid Gmail address.");const{data:E,error:S}=await se.auth.signUp({email:g,password:v,options:{data:{full_name:w},redirectTo:l()}});if(S)throw S;return E.user},d=async(g,v)=>{const{data:w,error:_}=await se.auth.signInWithPassword({email:g,password:v});if(_)throw _;if(!w.user.email_confirmed_at)throw new Error("Please confirm your email first.");return r(w.user),w.user},h=async g=>{const{error:v}=await se.auth.resend({email:g,options:{redirectTo:l()}});if(v)throw v;return!0},p=async()=>{await se.auth.signOut(),r(null)};return b.useEffect(()=>{(async()=>{const{data:{session:w}}=await se.auth.getSession();r(w?.user||null),o(!1)})();const{data:v}=se.auth.onAuthStateChange((w,_)=>r(_?.user||null));return()=>v.subscription.unsubscribe()},[]),m.jsx(p0.Provider,{value:{authUser:e,signup:u,login:d,logout:p,loading:s,resendConfirmation:h},children:!s&&t})}function sn(){return b.useContext(p0)}const m0=b.createContext(),ro=()=>b.useContext(m0);function rk({children:t}){const{authUser:e}=sn(),[r,s]=b.useState([]),[o,l]=b.useState(null),[u,d]=b.useState(!1),h=b.useCallback(async()=>{if(!e){s([]),l(null);return}d(!0);try{let{data:_,error:E}=await se.from("cart").select("id").eq("user_id",e.id).maybeSingle();if(E)throw E;if(!_){const{data:j,error:P}=await se.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(P)throw P;_=j}l(_.id);const{data:S,error:k}=await se.from("cart_items").select(`
          id,
          quantity,
          product:product_id (
            id,
            name,
            price,
            discount_percent,
            stock_quantity,
            images
          )
        `).eq("cart_id",_.id);if(k)throw k;s(S||[])}catch(_){console.error("Cart load failed:",_),s([])}finally{d(!1)}},[e]);b.useEffect(()=>{h()},[e,h]);const p=b.useCallback(async(_,E=1)=>{if(!e)throw new Error("Login required");try{let S=o;if(!S){const{data:j,error:P}=await se.from("cart").insert({user_id:e.id}).select("id").maybeSingle();if(P)throw P;S=j.id,l(S)}const k=r.find(j=>j.product.id===_.id);if(k){const{error:j}=await se.from("cart_items").update({quantity:k.quantity+E}).eq("id",k.id);if(j)throw j;s(P=>P.map(R=>R.id===k.id?{...R,quantity:R.quantity+E}:R))}else{const{data:j,error:P}=await se.from("cart_items").insert([{cart_id:S,product_id:_.id,quantity:E}]).select(`
              id,
              quantity,
              product:product_id (
                id,
                name,
                price,
                discount_percent,
                stock_quantity,
                images
              )
            `).maybeSingle();if(P)throw P;s(R=>[...R,j])}}catch(S){throw console.error("Add to cart failed:",S),new Error("Failed to add to cart")}},[e,o,r]),g=b.useCallback(async(_,E)=>{if(!(E<1))try{const{error:S}=await se.from("cart_items").update({quantity:E}).eq("id",_);if(S)throw S;s(k=>k.map(j=>j.id===_?{...j,quantity:E}:j))}catch(S){console.error("Update quantity failed:",S)}},[]),v=b.useCallback(async _=>{try{const{error:E}=await se.from("cart_items").delete().eq("id",_);if(E)throw E;s(S=>S.filter(k=>k.id!==_))}catch(E){console.error("Remove from cart failed:",E)}},[]),w=b.useMemo(()=>r.reduce((_,E)=>_+(E.quantity||0),0),[r]);return m.jsx(m0.Provider,{value:{cartItems:r,cartId:o,loading:u,totalItems:w,addToCart:p,loadCart:h,updateQuantity:g,removeFromCart:v,setCartItems:s},children:t})}const Ad=b.createContext({});function Od(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Id=typeof window<"u",g0=Id?b.useLayoutEffect:b.useEffect,sl=b.createContext(null);function Ld(t,e){t.indexOf(e)===-1&&t.push(e)}function Dd(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const qn=(t,e,r)=>r>e?e:r<t?t:r;let Nd=()=>{};const Hn={},y0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function v0(t){return typeof t=="object"&&t!==null}const w0=t=>/^0[^.\s]+$/u.test(t);function Md(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,ik=(t,e)=>r=>e(t(r)),io=(...t)=>t.reduce(ik),Ks=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Bd{constructor(){this.subscriptions=[]}add(e){return Ld(this.subscriptions,e),()=>Dd(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=t=>t*1e3,nn=t=>t/1e3;function x0(t,e){return e?t*(1e3/e):0}const _0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,sk=1e-7,ok=12;function ak(t,e,r,s,o){let l,u,d=0;do u=e+(r-e)/2,l=_0(u,s,o)-t,l>0?r=u:e=u;while(Math.abs(l)>sk&&++d<ok);return u}function so(t,e,r,s){if(t===e&&r===s)return rn;const o=l=>ak(l,0,1,t,r);return l=>l===0||l===1?l:_0(o(l),e,s)}const b0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,S0=t=>e=>1-t(1-e),k0=so(.33,1.53,.69,.99),$d=S0(k0),E0=b0($d),C0=t=>(t*=2)<1?.5*$d(t):.5*(2-Math.pow(2,-10*(t-1))),Fd=t=>1-Math.sin(Math.acos(t)),j0=S0(Fd),T0=b0(Fd),lk=so(.42,0,1,1),uk=so(0,0,.58,1),P0=so(.42,0,.58,1),ck=t=>Array.isArray(t)&&typeof t[0]!="number",R0=t=>Array.isArray(t)&&typeof t[0]=="number",dk={linear:rn,easeIn:lk,easeInOut:P0,easeOut:uk,circIn:Fd,circInOut:T0,circOut:j0,backIn:$d,backInOut:E0,backOut:k0,anticipate:C0},hk=t=>typeof t=="string",Vm=t=>{if(R0(t)){Nd(t.length===4);const[e,r,s,o]=t;return so(e,r,s,o)}else if(hk(t))return dk[t];return t},Aa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fk(t,e){let r=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,v=!1,w=!1)=>{const E=w&&o?r:s;return v&&u.add(g),E.has(g)||E.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[r,s]=[s,r],r.forEach(h),r.clear(),o=!1,l&&(l=!1,p.process(g))}};return p}const pk=40;function A0(t,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Aa.reduce((R,M)=>(R[M]=fk(l),R),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:g,update:v,preRender:w,render:_,postRender:E}=u,S=()=>{const R=Hn.useManualTiming?o.timestamp:performance.now();r=!1,Hn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(R-o.timestamp,pk),1)),o.timestamp=R,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),g.process(o),v.process(o),w.process(o),_.process(o),E.process(o),o.isProcessing=!1,r&&e&&(s=!1,t(S))},k=()=>{r=!0,s=!0,o.isProcessing||t(S)};return{schedule:Aa.reduce((R,M)=>{const $=u[M];return R[M]=(U,K=!1,G=!1)=>(r||k(),$.schedule(U,K,G)),R},{}),cancel:R=>{for(let M=0;M<Aa.length;M++)u[Aa[M]].cancel(R)},state:o,steps:u}}const{schedule:Ue,cancel:yr,state:wt,steps:pc}=A0(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let Ba;function mk(){Ba=void 0}const Ft={now:()=>(Ba===void 0&&Ft.set(wt.isProcessing||Hn.useManualTiming?wt.timestamp:performance.now()),Ba),set:t=>{Ba=t,queueMicrotask(mk)}},O0=t=>e=>typeof e=="string"&&e.startsWith(t),Vd=O0("--"),gk=O0("var(--"),Ud=t=>gk(t)?yk.test(t.split("/*")[0].trim()):!1,yk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gs={...Vi,transform:t=>qn(0,1,t)},Oa={...Vi,default:1},Ms=t=>Math.round(t*1e5)/1e5,zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vk(t){return t==null}const wk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wd=(t,e)=>r=>!!(typeof r=="string"&&wk.test(r)&&r.startsWith(t)||e&&!vk(r)&&Object.prototype.hasOwnProperty.call(r,e)),I0=(t,e,r)=>s=>{if(typeof s!="string")return s;const[o,l,u,d]=s.match(zd);return{[t]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},xk=t=>qn(0,255,t),mc={...Vi,transform:t=>Math.round(xk(t))},Ur={test:Wd("rgb","red"),parse:I0("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+mc.transform(t)+", "+mc.transform(e)+", "+mc.transform(r)+", "+Ms(Gs.transform(s))+")"};function _k(t){let e="",r="",s="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Gc={test:Wd("#"),parse:_k,transform:Ur.transform},oo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mr=oo("deg"),Tn=oo("%"),de=oo("px"),bk=oo("vh"),Sk=oo("vw"),Um={...Tn,parse:t=>Tn.parse(t)/100,transform:t=>Tn.transform(t*100)},ji={test:Wd("hsl","hue"),parse:I0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Tn.transform(Ms(e))+", "+Tn.transform(Ms(r))+", "+Ms(Gs.transform(s))+")"},at={test:t=>Ur.test(t)||Gc.test(t)||ji.test(t),parse:t=>Ur.test(t)?Ur.parse(t):ji.test(t)?ji.parse(t):Gc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ur.transform(t):ji.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},kk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ek(t){return isNaN(t)&&typeof t=="string"&&(t.match(zd)?.length||0)+(t.match(kk)?.length||0)>0}const L0="number",D0="color",Ck="var",jk="var(",zm="${}",Tk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Js(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(Tk,h=>(at.test(h)?(s.color.push(l),o.push(D0),r.push(at.parse(h))):h.startsWith(jk)?(s.var.push(l),o.push(Ck),r.push(h)):(s.number.push(l),o.push(L0),r.push(parseFloat(h))),++l,zm)).split(zm);return{values:r,split:d,indexes:s,types:o}}function N0(t){return Js(t).values}function M0(t){const{split:e,types:r}=Js(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const d=r[u];d===L0?l+=Ms(o[u]):d===D0?l+=at.transform(o[u]):l+=o[u]}return l}}const Pk=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function Rk(t){const e=N0(t);return M0(t)(e.map(Pk))}const vr={test:Ek,parse:N0,createTransformer:M0,getAnimatableNone:Rk};function gc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ak({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=gc(h,d,t+1/3),l=gc(h,d,t),u=gc(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Ya(t,e){return r=>r>0?e:t}const He=(t,e,r)=>t+(e-t)*r,yc=(t,e,r)=>{const s=t*t,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Ok=[Gc,Ur,ji],Ik=t=>Ok.find(e=>e.test(t));function Wm(t){const e=Ik(t);if(!e)return!1;let r=e.parse(t);return e===ji&&(r=Ak(r)),r}const qm=(t,e)=>{const r=Wm(t),s=Wm(e);if(!r||!s)return Ya(t,e);const o={...r};return l=>(o.red=yc(r.red,s.red,l),o.green=yc(r.green,s.green,l),o.blue=yc(r.blue,s.blue,l),o.alpha=He(r.alpha,s.alpha,l),Ur.transform(o))},Jc=new Set(["none","hidden"]);function Lk(t,e){return Jc.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Dk(t,e){return r=>He(t,e,r)}function qd(t){return typeof t=="number"?Dk:typeof t=="string"?Ud(t)?Ya:at.test(t)?qm:Bk:Array.isArray(t)?B0:typeof t=="object"?at.test(t)?qm:Nk:Ya}function B0(t,e){const r=[...t],s=r.length,o=t.map((l,u)=>qd(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)r[u]=o[u](l);return r}}function Nk(t,e){const r={...t,...e},s={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(s[o]=qd(t[o])(t[o],e[o]));return o=>{for(const l in s)r[l]=s[l](o);return r}}function Mk(t,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],d=t.values[u]??0;r[o]=d,s[l]++}return r}const Bk=(t,e)=>{const r=vr.createTransformer(e),s=Js(t),o=Js(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Jc.has(t)&&!o.values.length||Jc.has(e)&&!s.values.length?Lk(t,e):io(B0(Mk(s,o),o.values),r):Ya(t,e)};function $0(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?He(t,e,r):qd(t)(t,e)}const $k=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Ue.update(e,r),stop:()=>yr(e),now:()=>wt.isProcessing?wt.timestamp:Ft.now()}},F0=(t,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Qa=2e4;function Hd(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Qa;)e+=r,s=t.next(e);return e>=Qa?1/0:e}function Fk(t,e=100,r){const s=r({...t,keyframes:[0,e]}),o=Math.min(Hd(s),Qa);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:nn(o)}}const Vk=5;function V0(t,e,r){const s=Math.max(e-Vk,0);return x0(r-t(s),e-s)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function Uk({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:r=Qe.velocity,mass:s=Qe.mass}){let o,l,u=1-e;u=qn(Qe.minDamping,Qe.maxDamping,u),t=qn(Qe.minDuration,Qe.maxDuration,nn(t)),u<1?(o=p=>{const g=p*u,v=g*t,w=g-r,_=Yc(p,u),E=Math.exp(-v);return vc-w/_*E},l=p=>{const v=p*u*t,w=v*r+r,_=Math.pow(u,2)*Math.pow(p,2)*t,E=Math.exp(-v),S=Yc(Math.pow(p,2),u);return(-o(p)+vc>0?-1:1)*((w-_)*E)/S}):(o=p=>{const g=Math.exp(-p*t),v=(p-r)*t+1;return-vc+g*v},l=p=>{const g=Math.exp(-p*t),v=(r-p)*(t*t);return g*v});const d=5/t,h=Wk(o,l,d);if(t=jn(t),isNaN(h))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const zk=12;function Wk(t,e,r){let s=r;for(let o=1;o<zk;o++)s=s-t(s)/e(s);return s}function Yc(t,e){return t*Math.sqrt(1-e*e)}const qk=["duration","bounce"],Hk=["stiffness","damping","mass"];function Hm(t,e){return e.some(r=>t[r]!==void 0)}function Kk(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!Hm(t,Hk)&&Hm(t,qk))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,l=2*qn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Qe.mass,stiffness:o,damping:l}}else{const r=Uk(t);e={...e,...r,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function Xa(t=Qe.visualDuration,e=Qe.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:_}=Kk({...r,velocity:-nn(r.velocity||0)}),E=w||0,S=p/(2*Math.sqrt(h*g)),k=u-l,j=nn(Math.sqrt(h/g)),P=Math.abs(k)<5;s||(s=P?Qe.restSpeed.granular:Qe.restSpeed.default),o||(o=P?Qe.restDelta.granular:Qe.restDelta.default);let R;if(S<1){const $=Yc(j,S);R=U=>{const K=Math.exp(-S*j*U);return u-K*((E+S*j*k)/$*Math.sin($*U)+k*Math.cos($*U))}}else if(S===1)R=$=>u-Math.exp(-j*$)*(k+(E+j*k)*$);else{const $=j*Math.sqrt(S*S-1);R=U=>{const K=Math.exp(-S*j*U),G=Math.min($*U,300);return u-K*((E+S*j*k)*Math.sinh(G)+$*k*Math.cosh(G))/$}}const M={calculatedDuration:_&&v||null,next:$=>{const U=R($);if(_)d.done=$>=v;else{let K=$===0?E:0;S<1&&(K=$===0?jn(E):V0(R,$,U));const G=Math.abs(K)<=s,I=Math.abs(u-U)<=o;d.done=G&&I}return d.value=d.done?u:U,d},toString:()=>{const $=Math.min(Hd(M),Qa),U=F0(K=>M.next($*K).value,$,30);return $+"ms "+U},toTransition:()=>{}};return M}Xa.applyToOptions=t=>{const e=Fk(t,100,Xa);return t.ease=e.ease,t.duration=jn(e.duration),t.type="keyframes",t};function Qc({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},_=G=>d!==void 0&&G<d||h!==void 0&&G>h,E=G=>d===void 0?h:h===void 0||Math.abs(d-G)<Math.abs(h-G)?d:h;let S=r*e;const k=v+S,j=u===void 0?k:u(k);j!==k&&(S=j-v);const P=G=>-S*Math.exp(-G/s),R=G=>j+P(G),M=G=>{const I=P(G),J=R(G);w.done=Math.abs(I)<=p,w.value=w.done?j:J};let $,U;const K=G=>{_(w.value)&&($=G,U=Xa({keyframes:[w.value,E(w.value)],velocity:V0(R,G,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return K(0),{calculatedDuration:null,next:G=>{let I=!1;return!U&&$===void 0&&(I=!0,M(G),K(G)),$!==void 0&&G>=$?U.next(G-$):(!I&&M(G),w)}}}function Gk(t,e,r){const s=[],o=r||Hn.mix||$0,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||rn:e;d=io(h,d)}s.push(d)}return s}function Jk(t,e,{clamp:r=!0,ease:s,mixer:o}={}){const l=t.length;if(Nd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Gk(e,s,o),h=d.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Ks(t[v],t[v+1],g);return d[v](w)};return r?g=>p(qn(t[0],t[l-1],g)):p}function Yk(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const o=Ks(0,e,s);t.push(He(r,1,o))}}function Qk(t){const e=[0];return Yk(e,t.length-1),e}function Xk(t,e){return t.map(r=>r*e)}function Zk(t,e){return t.map(()=>e||P0).splice(0,t.length-1)}function Bs({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=ck(s)?s.map(Vm):Vm(s),l={done:!1,value:e[0]},u=Xk(r&&r.length===e.length?r:Qk(e),t),d=Jk(u,e,{ease:Array.isArray(o)?o:Zk(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const e2=t=>t!==null;function Kd(t,{repeat:e,repeatType:r="loop"},s,o=1){const l=t.filter(e2),d=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const t2={decay:Qc,inertia:Qc,tween:Bs,keyframes:Bs,spring:Xa};function U0(t){typeof t.type=="string"&&(t.type=t2[t.type])}class Gd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const n2=t=>t/100;class Jd extends Gd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;U0(e);const{type:r=Bs,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=r||Bs;h!==Bs&&typeof d[0]!="number"&&(this.mixKeyframes=io(n2,$0(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Hd(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:_,type:E,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,M=s;if(v){const G=Math.min(this.currentTime,o)/d;let I=Math.floor(G),J=G%1;!J&&G>=1&&(J=1),J===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(w==="reverse"?(J=1-J,_&&(J-=_/d)):w==="mirror"&&(M=u)),R=qn(0,1,J)*d}const $=P?{done:!1,value:g[0]}:M.next(R);l&&($.value=l($.value));let{done:U}=$;!P&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return K&&E!==Qc&&($.value=Kd(g,this.options,k,this.speed)),S&&S($.value),K&&this.finish(),$}then(e,r){return this.finished.then(e,r)}get duration(){return nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(this.currentTime)}set time(e){e=jn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$k,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function r2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zr=t=>t*180/Math.PI,Xc=t=>{const e=zr(Math.atan2(t[1],t[0]));return Zc(e)},i2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xc,rotateZ:Xc,skewX:t=>zr(Math.atan(t[1])),skewY:t=>zr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zc=t=>(t=t%360,t<0&&(t+=360),t),Km=Xc,Gm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),s2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gm,scaleY:Jm,scale:t=>(Gm(t)+Jm(t))/2,rotateX:t=>Zc(zr(Math.atan2(t[6],t[5]))),rotateY:t=>Zc(zr(Math.atan2(-t[2],t[0]))),rotateZ:Km,rotate:Km,skewX:t=>zr(Math.atan(t[4])),skewY:t=>zr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ed(t){return t.includes("scale")?1:0}function td(t,e){if(!t||t==="none")return ed(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=s2,o=r;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=i2,o=d}if(!o)return ed(e);const l=s[e],u=o[1].split(",").map(a2);return typeof l=="function"?l(u):u[l]}const o2=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return td(r,e)};function a2(t){return parseFloat(t.trim())}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zi=new Set(Ui),Ym=t=>t===Vi||t===de,l2=new Set(["x","y","z"]),u2=Ui.filter(t=>!l2.has(t));function c2(t){const e=[];return u2.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const qr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>td(e,"x"),y:(t,{transform:e})=>td(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Hr=new Set;let nd=!1,rd=!1,id=!1;function z0(){if(rd){const t=Array.from(Hr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=c2(s);o.length&&(r.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}rd=!1,nd=!1,Hr.forEach(t=>t.complete(id)),Hr.clear()}function W0(){Hr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rd=!0)})}function d2(){id=!0,W0(),z0(),id=!1}class Yd{constructor(e,r,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Hr.add(this),nd||(nd=!0,Ue.read(W0),Ue.resolveKeyframes(z0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&r){const d=s.readValue(r,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}r2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hr.delete(this)}cancel(){this.state==="scheduled"&&(Hr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h2=t=>t.startsWith("--");function f2(t,e,r){h2(e)?t.style.setProperty(e,r):t.style[e]=r}const p2=Md(()=>window.ScrollTimeline!==void 0),m2={};function g2(t,e){const r=Md(t);return()=>m2[e]??r()}const q0=g2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Is=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,Qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Is([0,.65,.55,1]),circOut:Is([.55,0,1,.45]),backIn:Is([.31,.01,.66,-.59]),backOut:Is([.33,1.53,.69,.99])};function H0(t,e){if(t)return typeof t=="function"?q0()?F0(t,e):"ease-out":R0(t)?Is(t):Array.isArray(t)?t.map(r=>H0(r,e)||Qm.easeOut):Qm[t]}function y2(t,e,r,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},p=void 0){const g={[e]:r};h&&(g.offset=h);const v=H0(d,o);Array.isArray(v)&&(g.easing=v);const w={delay:s,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function K0(t){return typeof t=="function"&&"applyToOptions"in t}function v2({type:t,...e}){return K0(t)&&q0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class w2 extends Gd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Nd(typeof e.type!="string");const p=v2(e);this.animation=y2(r,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Kd(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):f2(r,s,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&p2()?(this.animation.timeline=e,rn):r(this)}}const G0={anticipate:C0,backInOut:E0,circInOut:T0};function x2(t){return t in G0}function _2(t){typeof t.ease=="string"&&x2(t.ease)&&(t.ease=G0[t.ease])}const Xm=10;class b2 extends w2{constructor(e){_2(e),U0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new Jd({...u,autoplay:!1}),h=jn(this.finishedTime??this.time);r.setWithVelocity(d.sample(h-Xm).value,d.sample(h).value,Xm),d.stop()}}const Zm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vr.test(t)||t==="0")&&!t.startsWith("url("));function S2(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function k2(t,e,r,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Zm(o,e),d=Zm(l,e);return!u||!d?!1:S2(t)||(r==="spring"||K0(r))&&s}function sd(t){t.duration=0,t.type="keyframes"}const E2=new Set(["opacity","clipPath","filter","transform"]),C2=Md(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j2(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return C2()&&r&&E2.has(r)&&(r!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const T2=40;class P2 extends Gd{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ft.now();const w={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:p,element:g,...v},_=g?.KeyframeResolver||Yd;this.keyframeResolver=new _(d,(E,S,k)=>this.onKeyframesResolved(E,S,w,!k),h,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:p,onUpdate:g}=s;this.resolvedAt=Ft.now(),k2(e,l,u,d)||((Hn.instantAnimations||!h)&&g?.(Kd(e,s,r)),e[0]=e[e.length-1],sd(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>T2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},_=!p&&j2(w)?new b2({...w,element:w.motionValue.owner.current}):new Jd(w);_.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),d2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const R2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A2(t){const e=R2.exec(t);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function J0(t,e,r=1){const[s,o]=A2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return y0(u)?parseFloat(u):u}return Ud(o)?J0(o,e,r+1):o}function Qd(t,e){return t?.[e]??t?.default??t}const Y0=new Set(["width","height","top","left","right","bottom",...Ui]),O2={test:t=>t==="auto",parse:t=>t},Q0=t=>e=>e.test(t),X0=[Vi,de,Tn,mr,Sk,bk,O2],eg=t=>X0.find(Q0(t));function I2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||w0(t):!0}const L2=new Set(["brightness","contrast","saturate","opacity"]);function D2(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(zd)||[];if(!s)return t;const o=r.replace(s,"");let l=L2.has(e)?1:0;return s!==r&&(l*=100),e+"("+l+o+")"}const N2=/\b([a-z-]*)\(.*?\)/gu,od={...vr,getAnimatableNone:t=>{const e=t.match(N2);return e?e.map(D2).join(" "):t}},tg={...Vi,transform:Math.round},M2={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Oa,scaleX:Oa,scaleY:Oa,scaleZ:Oa,skew:mr,skewX:mr,skewY:mr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Gs,originX:Um,originY:Um,originZ:de},Xd={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...M2,zIndex:tg,fillOpacity:Gs,strokeOpacity:Gs,numOctaves:tg},B2={...Xd,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:od,WebkitFilter:od},Z0=t=>B2[t];function ev(t,e){let r=Z0(t);return r!==od&&(r=vr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const $2=new Set(["auto","none","0"]);function F2(t,e,r){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!$2.has(l)&&Js(l).values.length&&(o=t[s]),s++}if(o&&r)for(const l of e)t[l]=ev(r,o)}class V2 extends Yd{constructor(e,r,s,o,l){super(e,r,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Ud(p))){const g=J0(p,r.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Y0.has(s)||e.length!==2)return;const[o,l]=e,u=eg(o),d=eg(l);if(u!==d)if(Ym(u)&&Ym(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else qr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||I2(e[o]))&&s.push(o);s.length&&F2(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=qr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function U2(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=r?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const tv=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nv(t){return v0(t)&&"offsetHeight"in t}const ng=30,z2=t=>!isNaN(parseFloat(t));class W2{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Ft.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=z2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Bd);const s=this.events[e].add(r);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ng)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ng);return x0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(t,e){return new W2(t,e)}const{schedule:Zd}=A0(queueMicrotask,!1),yn={x:!1,y:!1};function rv(){return yn.x||yn.y}function q2(t){return t==="x"||t==="y"?yn[t]?null:(yn[t]=!0,()=>{yn[t]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}function iv(t,e){const r=U2(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function rg(t){return!(t.pointerType==="touch"||rv())}function H2(t,e,r={}){const[s,o,l]=iv(t,r),u=d=>{if(!rg(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const g=v=>{rg(v)&&(p(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return s.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const sv=(t,e)=>e?t===e?!0:sv(t,e.parentElement):!1,eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,K2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G2(t){return K2.has(t.tagName)||t.tabIndex!==-1}const $a=new WeakSet;function ig(t){return e=>{e.key==="Enter"&&t(e)}}function wc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const J2=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=ig(()=>{if($a.has(r))return;wc(r,"down");const o=ig(()=>{wc(r,"up")}),l=()=>wc(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function sg(t){return eh(t)&&!rv()}function Y2(t,e,r={}){const[s,o,l]=iv(t,r),u=d=>{const h=d.currentTarget;if(!sg(d))return;$a.add(h);const p=e(h,d),g=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),$a.has(h)&&$a.delete(h),sg(_)&&typeof p=="function"&&p(_,{success:E})},v=_=>{g(_,h===window||h===document||r.useGlobalTarget||sv(h,_.target))},w=_=>{g(_,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),nv(d)&&(d.addEventListener("focus",p=>J2(p,o)),!G2(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ov(t){return v0(t)&&"ownerSVGElement"in t}function Q2(t){return ov(t)&&t.tagName==="svg"}const jt=t=>!!(t&&t.getVelocity),X2=[...X0,at,vr],Z2=t=>X2.find(Q0(t)),th=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function og(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eE(...t){return e=>{let r=!1;const s=t.map(o=>{const l=og(o,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():og(t[o],null)}}}}function tE(...t){return b.useCallback(eE(...t),t)}class nE extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,o=nv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rE({children:t,isPresent:e,anchorX:r,root:s}){const o=b.useId(),l=b.useRef(null),u=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(th),h=tE(l,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:w,right:_}=u.current;if(e||!l.current||!p||!g)return;const E=r==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=o;const S=document.createElement("style");d&&(S.nonce=d);const k=s??document.head;return k.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(S)&&k.removeChild(S)}},[e]),m.jsx(nE,{isPresent:e,childRef:l,sizeRef:u,children:b.cloneElement(t,{ref:h})})}const iE=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:h})=>{const p=Od(sE),g=b.useId();let v=!0,w=b.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:r,custom:o,onExitComplete:_=>{p.set(_,!0);for(const E of p.values())if(!E)return;s&&s()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[r,p,s]);return l&&v&&(w={...w}),b.useMemo(()=>{p.forEach((_,E)=>p.set(E,!1))},[r]),b.useEffect(()=>{!r&&!p.size&&s&&s()},[r]),u==="popLayout"&&(t=m.jsx(rE,{isPresent:r,anchorX:d,root:h,children:t})),m.jsx(sl.Provider,{value:w,children:t})};function sE(){return new Map}function av(t=!0){const e=b.useContext(sl);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,l=b.useId();b.useEffect(()=>{if(t)return o(l)},[t]);const u=b.useCallback(()=>t&&s&&s(l),[l,s,t]);return!r&&s?[!1,u]:[!0]}const Ia=t=>t.key||"";function ag(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const $s=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:h})=>{const[p,g]=av(u),v=b.useMemo(()=>ag(t),[t]),w=u&&!p?[]:v.map(Ia),_=b.useRef(!0),E=b.useRef(v),S=Od(()=>new Map),[k,j]=b.useState(v),[P,R]=b.useState(v);g0(()=>{_.current=!1,E.current=v;for(let U=0;U<P.length;U++){const K=Ia(P[U]);w.includes(K)?S.delete(K):S.get(K)!==!0&&S.set(K,!1)}},[P,w.length,w.join("-")]);const M=[];if(v!==k){let U=[...v];for(let K=0;K<P.length;K++){const G=P[K],I=Ia(G);w.includes(I)||(U.splice(K,0,G),M.push(G))}return l==="wait"&&M.length&&(U=M),R(ag(U)),j(v),null}const{forceRender:$}=b.useContext(Ad);return m.jsx(m.Fragment,{children:P.map(U=>{const K=Ia(U),G=u&&!p?!1:v===P||w.includes(K),I=()=>{if(S.has(K))S.set(K,!0);else return;let J=!0;S.forEach(oe=>{oe||(J=!1)}),J&&($?.(),R(E.current),u&&g?.(),s&&s())};return m.jsx(iE,{isPresent:G,initial:!_.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:G?void 0:I,anchorX:d,children:U},K)})})},lv=b.createContext({strict:!1}),lg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const t in lg)Ni[t]={isEnabled:e=>lg[t].some(r=>!!e[r])};function oE(t){for(const e in t)Ni[e]={...Ni[e],...t[e]}}const aE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Za(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aE.has(t)}let uv=t=>!Za(t);function lE(t){typeof t=="function"&&(uv=e=>e.startsWith("on")?!Za(e):t(e))}try{lE(require("@emotion/is-prop-valid").default)}catch{}function uE(t,e,r){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(uv(o)||r===!0&&Za(o)||!e&&!Za(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const ol=b.createContext({});function al(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ys(t){return typeof t=="string"||Array.isArray(t)}const nh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rh=["initial",...nh];function ll(t){return al(t.animate)||rh.some(e=>Ys(t[e]))}function cv(t){return!!(ll(t)||t.variants)}function cE(t,e){if(ll(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Ys(r)?r:void 0,animate:Ys(s)?s:void 0}}return t.inherit!==!1?e:{}}function dE(t){const{initial:e,animate:r}=cE(t,b.useContext(ol));return b.useMemo(()=>({initial:e,animate:r}),[ug(e),ug(r)])}function ug(t){return Array.isArray(t)?t.join(" "):t}const Qs={};function hE(t){for(const e in t)Qs[e]=t[e],Vd(e)&&(Qs[e].isCSSVariable=!0)}function dv(t,{layout:e,layoutId:r}){return zi.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Qs[t]||t==="opacity")}const fE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pE=Ui.length;function mE(t,e,r){let s="",o=!0;for(let l=0;l<pE;l++){const u=Ui[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const p=tv(d,Xd[u]);if(!h){o=!1;const g=fE[u]||u;s+=`${g}(${p}) `}r&&(e[u]=p)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function ih(t,e,r){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const p=e[h];if(zi.has(h)){u=!0;continue}else if(Vd(h)){o[h]=p;continue}else{const g=tv(p,Xd[h]);h.startsWith("origin")?(d=!0,l[h]=g):s[h]=g}}if(e.transform||(u||r?s.transform=mE(e,t.transform,r):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${p} ${g}`}}const sh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hv(t,e,r){for(const s in e)!jt(e[s])&&!dv(s,r)&&(t[s]=e[s])}function gE({transformTemplate:t},e){return b.useMemo(()=>{const r=sh();return ih(r,e,t),Object.assign({},r.vars,r.style)},[e])}function yE(t,e){const r=t.style||{},s={};return hv(s,r,t),Object.assign(s,gE(t,e)),s}function vE(t,e){const r={},s=yE(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const wE={offset:"stroke-dashoffset",array:"stroke-dasharray"},xE={offset:"strokeDashoffset",array:"strokeDasharray"};function _E(t,e,r=1,s=0,o=!0){t.pathLength=1;const l=o?wE:xE;t[l.offset]=de.transform(-s);const u=de.transform(e),d=de.transform(r);t[l.array]=`${u} ${d}`}function fv(t,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,p,g){if(ih(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),r!==void 0&&(v.y=r),s!==void 0&&(v.scale=s),o!==void 0&&_E(v,o,l,u,!1)}const pv=()=>({...sh(),attrs:{}}),mv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bE(t,e,r,s){const o=b.useMemo(()=>{const l=pv();return fv(l,e,mv(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};hv(l,t.style,t),o.style={...l,...o.style}}return o}const SE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oh(t){return typeof t!="string"||t.includes("-")?!1:!!(SE.indexOf(t)>-1||/[A-Z]/u.test(t))}function kE(t,e,r,{latestValues:s},o,l=!1){const d=(oh(t)?bE:vE)(e,s,o,t),h=uE(e,typeof t=="string",l),p=t!==b.Fragment?{...h,...d,ref:r}:{},{children:g}=e,v=b.useMemo(()=>jt(g)?g.get():g,[g]);return b.createElement(t,{...p,children:v})}function cg(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function ah(t,e,r,s){if(typeof e=="function"){const[o,l]=cg(s);e=e(r!==void 0?r:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=cg(s);e=e(r!==void 0?r:t.custom,o,l)}return e}function Fa(t){return jt(t)?t.get():t}function EE({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,o){return{latestValues:CE(r,s,o,t),renderState:e()}}function CE(t,e,r,s){const o={},l=s(t,{});for(const w in l)o[w]=Fa(l[w]);let{initial:u,animate:d}=t;const h=ll(t),p=cv(t);e&&p&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const v=g?d:u;if(v&&typeof v!="boolean"&&!al(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const E=ah(t,w[_]);if(E){const{transitionEnd:S,transition:k,...j}=E;for(const P in j){let R=j[P];if(Array.isArray(R)){const M=g?R.length-1:0;R=R[M]}R!==null&&(o[P]=R)}for(const P in S)o[P]=S[P]}}}return o}const gv=t=>(e,r)=>{const s=b.useContext(ol),o=b.useContext(sl),l=()=>EE(t,e,s,o);return r?l():Od(l)};function lh(t,e,r){const{style:s}=t,o={};for(const l in s)(jt(s[l])||e.style&&jt(e.style[l])||dv(l,t)||r?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const jE=gv({scrapeMotionValuesFromProps:lh,createRenderState:sh});function yv(t,e,r){const s=lh(t,e,r);for(const o in t)if(jt(t[o])||jt(e[o])){const l=Ui.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const TE=gv({scrapeMotionValuesFromProps:yv,createRenderState:pv}),PE=Symbol.for("motionComponentSymbol");function Ti(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RE(t,e,r){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):Ti(r)&&(r.current=s))},[e])}const uh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AE="framerAppearId",vv="data-"+uh(AE),wv=b.createContext({});function OE(t,e,r,s,o){const{visualElement:l}=b.useContext(ol),u=b.useContext(lv),d=b.useContext(sl),h=b.useContext(th).reducedMotion,p=b.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,v=b.useContext(wv);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&IE(p.current,r,o,v);const w=b.useRef(!1);b.useInsertionEffect(()=>{g&&w.current&&g.update(r,d)});const _=r[vv],E=b.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return g0(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),E.current=!1),g.enteringChildren=void 0)}),g}function IE(t,e,r,s){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:xv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Ti(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:h,layoutRoot:p})}function xv(t){if(t)return t.options.allowProjection!==!1?t.projection:xv(t.parent)}function xc(t,{forwardMotionProps:e=!1}={},r,s){r&&oE(r);const o=oh(t)?TE:jE;function l(d,h){let p;const g={...b.useContext(th),...d,layoutId:LE(d)},{isStatic:v}=g,w=dE(d),_=o(d,v);if(!v&&Id){DE();const E=NE(g);p=E.MeasureLayout,w.visualElement=OE(t,_,g,s,E.ProjectionNode)}return m.jsxs(ol.Provider,{value:w,children:[p&&w.visualElement?m.jsx(p,{visualElement:w.visualElement,...g}):null,kE(t,d,RE(_,w.visualElement,h),_,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=b.forwardRef(l);return u[PE]=t,u}function LE({layoutId:t}){const e=b.useContext(Ad).id;return e&&t!==void 0?e+"-"+t:t}function DE(t,e){b.useContext(lv).strict}function NE(t){const{drag:e,layout:r}=Ni;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ME(t,e){if(typeof Proxy>"u")return xc;const r=new Map,s=(l,u)=>xc(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(r.has(u)||r.set(u,xc(u,void 0,t,e)),r.get(u))})}function _v({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function BE({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $E(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function _c(t){return t===void 0||t===1}function ad({scale:t,scaleX:e,scaleY:r}){return!_c(t)||!_c(e)||!_c(r)}function Br(t){return ad(t)||bv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bv(t){return dg(t.x)||dg(t.y)}function dg(t){return t&&t!=="0%"}function el(t,e,r){const s=t-r,o=e*s;return r+o}function hg(t,e,r,s,o){return o!==void 0&&(t=el(t,o,s)),el(t,r,s)+e}function ld(t,e=0,r=1,s,o){t.min=hg(t.min,e,r,s,o),t.max=hg(t.max,e,r,s,o)}function Sv(t,{x:e,y:r}){ld(t.x,e.translate,e.scale,e.originPoint),ld(t.y,r.translate,r.scale,r.originPoint)}const fg=.999999999999,pg=1.0000000000001;function FE(t,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ri(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Sv(t,u)),s&&Br(l.latestValues)&&Ri(t,l.latestValues))}e.x<pg&&e.x>fg&&(e.x=1),e.y<pg&&e.y>fg&&(e.y=1)}function Pi(t,e){t.min=t.min+e,t.max=t.max+e}function mg(t,e,r,s,o=.5){const l=He(t.min,t.max,o);ld(t,e,r,l,s)}function Ri(t,e){mg(t.x,e.x,e.scaleX,e.scale,e.originX),mg(t.y,e.y,e.scaleY,e.scale,e.originY)}function kv(t,e){return _v($E(t.getBoundingClientRect(),e))}function VE(t,e,r){const s=kv(t,r),{scroll:o}=e;return o&&(Pi(s.x,o.offset.x),Pi(s.y,o.offset.y)),s}const gg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ai=()=>({x:gg(),y:gg()}),yg=()=>({min:0,max:0}),et=()=>({x:yg(),y:yg()}),ud={current:null},Ev={current:!1};function UE(){if(Ev.current=!0,!!Id)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ud.current=t.matches;t.addEventListener("change",e),e()}else ud.current=!1}const zE=new WeakMap;function WE(t,e,r){for(const s in e){const o=e[s],l=r[s];if(jt(o))t.addValue(s,o);else if(jt(l))t.addValue(s,Di(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,Di(u!==void 0?u:o,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const vg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qE{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ft.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ue.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ll(r),this.isVariantNode=cv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const _=v[w];h[w]!==void 0&&jt(_)&&_.set(h[w])}}mount(e){this.current=e,zE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Ev.current||UE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ud.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yr(this.notifyUpdate),yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=zi.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ni){const r=Ni[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<vg.length;s++){const o=vg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=WE(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Di(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(y0(s)||w0(s))?s=parseFloat(s):!Z2(s)&&vr.test(r)&&(s=ev(e,r)),this.setBaseTarget(e,jt(s)?s.get():s)),jt(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=ah(this.props,r,this.presenceContext?.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!jt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Bd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Zd.render(this.render)}}class Cv extends qE{constructor(){super(...arguments),this.KeyframeResolver=V2}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jv(t,{style:e,vars:r},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in r)l.setProperty(u,r[u])}function HE(t){return window.getComputedStyle(t)}class KE extends Cv{constructor(){super(...arguments),this.type="html",this.renderInstance=jv}readValueFromInstance(e,r){if(zi.has(r))return this.projection?.isProjecting?ed(r):o2(e,r);{const s=HE(e),o=(Vd(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return kv(e,r)}build(e,r,s){ih(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return lh(e,r,s)}}const Tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GE(t,e,r,s){jv(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Tv.has(o)?o:uh(o),e.attrs[o])}class JE extends Cv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(zi.has(r)){const s=Z0(r);return s&&s.default||0}return r=Tv.has(r)?r:uh(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return yv(e,r,s)}build(e,r,s){fv(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){GE(e,r,s,o)}mount(e){this.isSVGTag=mv(e.tagName),super.mount(e)}}const YE=(t,e)=>oh(t)?new JE(e):new KE(e,{allowProjection:t!==b.Fragment});function Ii(t,e,r){const s=t.getProps();return ah(s,e,r!==void 0?r:s.custom,t)}const cd=t=>Array.isArray(t);function QE(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Di(r))}function XE(t){return cd(t)?t[t.length-1]||0:t}function ZE(t,e){const r=Ii(t,e);let{transitionEnd:s={},transition:o={},...l}=r||{};l={...l,...s};for(const u in l){const d=XE(l[u]);QE(t,u,d)}}function eC(t){return!!(jt(t)&&t.add)}function dd(t,e){const r=t.getValue("willChange");if(eC(r))return r.add(e);if(!r&&Hn.WillChange){const s=new Hn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Pv(t){return t.props[vv]}const tC=t=>t!==null;function nC(t,{repeat:e,repeatType:r="loop"},s){const o=t.filter(tC),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const rC={type:"spring",stiffness:500,damping:25,restSpeed:10},iC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sC={type:"keyframes",duration:.8},oC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aC=(t,{keyframes:e})=>e.length>2?sC:zi.has(t)?t.startsWith("scale")?iC(e[1]):rC:oC;function lC({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const ch=(t,e,r,s={},o,l)=>u=>{const d=Qd(s,t)||{},h=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-jn(h);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};lC(d)||Object.assign(g,aC(t,g)),g.duration&&(g.duration=jn(g.duration)),g.repeatDelay&&(g.repeatDelay=jn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(sd(g),g.delay===0&&(v=!0)),(Hn.instantAnimations||Hn.skipAnimations)&&(v=!0,sd(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const w=nC(g.keyframes,d);if(w!==void 0){Ue.update(()=>{g.onUpdate(w),g.onComplete()});return}}return d.isSync?new Jd(g):new P2(g)};function uC({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function Rv(t,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),w=d[g];if(w===void 0||p&&uC(p,g))continue;const _={delay:r,...Qd(l||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===E&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const j=Pv(t);if(j){const P=window.MotionHandoffAnimation(j,g,Ue);P!==null&&(_.startTime=P,S=!0)}}dd(t,g),v.start(ch(g,v,w,t.shouldReduceMotion&&Y0.has(g)?{type:!1}:_,t,S));const k=v.animation;k&&h.push(k)}return u&&Promise.all(h).then(()=>{Ue.update(()=>{u&&ZE(t,u)})}),h}function Av(t,e,r,s=0,o=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*s;return typeof r=="function"?r(l,u):o===1?l*s:d-l*s}function hd(t,e,r={}){const s=Ii(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(o=r.transitionOverride);const l=s?()=>Promise.all(Rv(t,s,r)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=o;return cC(t,e,h,p,g,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(r.delay)])}function cC(t,e,r=0,s=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(hd(h,e,{...u,delay:r+(typeof s=="function"?0:s)+Av(t.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function dC(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>hd(t,l,r));s=Promise.all(o)}else if(typeof e=="string")s=hd(t,e,r);else{const o=typeof e=="function"?Ii(t,e,r.custom):e;s=Promise.all(Rv(t,o,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Ov(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const hC=rh.length;function Iv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Iv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<hC;r++){const s=rh[r],o=t.props[s];(Ys(o)||o===!1)&&(e[s]=o)}return e}const fC=[...nh].reverse(),pC=nh.length;function mC(t){return e=>Promise.all(e.map(({animation:r,options:s})=>dC(t,r,s)))}function gC(t){let e=mC(t),r=wg(),s=!0;const o=h=>(p,g)=>{const v=Ii(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:_,...E}=v;p={...p,...E,..._}}return p};function l(h){e=h(t)}function u(h){const{props:p}=t,g=Iv(t.parent)||{},v=[],w=new Set;let _={},E=1/0;for(let k=0;k<pC;k++){const j=fC[k],P=r[j],R=p[j]!==void 0?p[j]:g[j],M=Ys(R),$=j===h?P.isActive:null;$===!1&&(E=k);let U=R===g[j]&&R!==p[j]&&M;if(U&&s&&t.manuallyAnimateOnMount&&(U=!1),P.protectedKeys={..._},!P.isActive&&$===null||!R&&!P.prevProp||al(R)||typeof R=="boolean")continue;const K=yC(P.prevProp,R);let G=K||j===h&&P.isActive&&!U&&M||k>E&&M,I=!1;const J=Array.isArray(R)?R:[R];let oe=J.reduce(o(j),{});$===!1&&(oe={});const{prevResolvedValues:pe={}}=P,me={...pe,...oe},Te=fe=>{G=!0,w.has(fe)&&(I=!0,w.delete(fe)),P.needsAnimating[fe]=!0;const H=t.getValue(fe);H&&(H.liveStyle=!1)};for(const fe in me){const H=oe[fe],ne=pe[fe];if(_.hasOwnProperty(fe))continue;let Y=!1;cd(H)&&cd(ne)?Y=!Ov(H,ne):Y=H!==ne,Y?H!=null?Te(fe):w.add(fe):H!==void 0&&w.has(fe)?Te(fe):P.protectedKeys[fe]=!0}P.prevProp=R,P.prevResolvedValues=oe,P.isActive&&(_={..._,...oe}),s&&t.blockInitialAnimation&&(G=!1);const _e=U&&K;G&&(!_e||I)&&v.push(...J.map(fe=>{const H={type:j};if(typeof fe=="string"&&s&&!_e&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,Y=Ii(ne,fe);if(ne.enteringChildren&&Y){const{delayChildren:O}=Y.transition||{};H.delay=Av(ne.enteringChildren,t,O)}}return{animation:fe,options:H}}))}if(w.size){const k={};if(typeof p.initial!="boolean"){const j=Ii(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(k.transition=j.transition)}w.forEach(j=>{const P=t.getBaseTarget(j),R=t.getValue(j);R&&(R.liveStyle=!0),k[j]=P??null}),v.push({animation:k})}let S=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(v):Promise.resolve()}function d(h,p){if(r[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),r[h].isActive=p;const g=u(h);for(const v in r)r[v].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=wg()}}}function yC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ov(e,t):!1}function Nr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wg(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vC extends xr{constructor(e){super(e),e.animationState||(e.animationState=gC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();al(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wC=0;class xC extends xr{constructor(){super(...arguments),this.id=wC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _C={animation:{Feature:vC},exit:{Feature:xC}};function Xs(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function ao(t){return{point:{x:t.pageX,y:t.pageY}}}const bC=t=>e=>eh(e)&&t(e,ao(e));function Fs(t,e,r,s){return Xs(t,e,bC(r),s)}const Lv=1e-4,SC=1-Lv,kC=1+Lv,Dv=.01,EC=0-Dv,CC=0+Dv;function Rt(t){return t.max-t.min}function jC(t,e,r){return Math.abs(t-e)<=r}function xg(t,e,r,s=.5){t.origin=s,t.originPoint=He(e.min,e.max,t.origin),t.scale=Rt(r)/Rt(e),t.translate=He(r.min,r.max,t.origin)-t.originPoint,(t.scale>=SC&&t.scale<=kC||isNaN(t.scale))&&(t.scale=1),(t.translate>=EC&&t.translate<=CC||isNaN(t.translate))&&(t.translate=0)}function Vs(t,e,r,s){xg(t.x,e.x,r.x,s?s.originX:void 0),xg(t.y,e.y,r.y,s?s.originY:void 0)}function _g(t,e,r){t.min=r.min+e.min,t.max=t.min+Rt(e)}function TC(t,e,r){_g(t.x,e.x,r.x),_g(t.y,e.y,r.y)}function bg(t,e,r){t.min=e.min-r.min,t.max=t.min+Rt(e)}function Us(t,e,r){bg(t.x,e.x,r.x),bg(t.y,e.y,r.y)}function tn(t){return[t("x"),t("y")]}const Nv=({current:t})=>t?t.ownerDocument.defaultView:null,Sg=(t,e)=>Math.abs(t-e);function PC(t,e){const r=Sg(t.x,e.x),s=Sg(t.y,e.y);return Math.sqrt(r**2+s**2)}class Mv{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Sc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=PC(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:S}=w,{timestamp:k}=wt;this.history.push({...S,timestamp:k});const{onStart:j,onMove:P}=this.handlers;_||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=bc(_,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Sc(w.type==="pointercancel"?this.lastMoveEventInfo:bc(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,j),S&&S(w,j)},!eh(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=ao(e),h=bc(d,this.transformPagePoint),{point:p}=h,{timestamp:g}=wt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=r;v&&v(e,Sc(h,this.history)),this.removeListeners=io(Fs(this.contextWindow,"pointermove",this.handlePointerMove),Fs(this.contextWindow,"pointerup",this.handlePointerUp),Fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yr(this.updatePoint)}}function bc(t,e){return e?{point:e(t.point)}:t}function kg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sc({point:t},e){return{point:t,delta:kg(t,Bv(e)),offset:kg(t,RC(e)),velocity:AC(e,.1)}}function RC(t){return t[0]}function Bv(t){return t[t.length-1]}function AC(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const o=Bv(t);for(;r>=0&&(s=t[r],!(o.timestamp-s.timestamp>jn(e)));)r--;if(!s)return{x:0,y:0};const l=nn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function OC(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?He(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?He(r,t,s.max):Math.min(t,r)),t}function Eg(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function IC(t,{top:e,left:r,bottom:s,right:o}){return{x:Eg(t.x,r,o),y:Eg(t.y,e,s)}}function Cg(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function LC(t,e){return{x:Cg(t.x,e.x),y:Cg(t.y,e.y)}}function DC(t,e){let r=.5;const s=Rt(t),o=Rt(e);return o>s?r=Ks(e.min,e.max-s,t.min):s>o&&(r=Ks(t.min,t.max-o,e.min)),qn(0,1,r)}function NC(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const fd=.35;function MC(t=fd){return t===!1?t=0:t===!0&&(t=fd),{x:jg(t,"left","right"),y:jg(t,"top","bottom")}}function jg(t,e,r){return{min:Tg(t,e),max:Tg(t,r)}}function Tg(t,e){return typeof t=="number"?t:t[e]||0}const BC=new WeakMap;class $C{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ao(v).point)},u=(v,w)=>{const{drag:_,dragPropagation:E,onDragStart:S}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q2(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(j=>{let P=this.getAxisMotionValue(j).get()||0;if(Tn.test(P)){const{projection:R}=this.visualElement;if(R&&R.layout){const M=R.layout.layoutBox[j];M&&(P=Rt(M)*(parseFloat(P)/100))}}this.originPoint[j]=P}),S&&Ue.postRender(()=>S(v,w)),dd(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:S,onDrag:k}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=w;if(E&&this.currentDirection===null){this.currentDirection=FC(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),k&&k(v,w)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>tn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Mv(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:Nv(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Ue.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!La(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=OC(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Ti(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=IC(s.layoutBox,e):this.constraints=!1,this.elastic=MC(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&tn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=NC(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ti(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=VE(s,o.root,this.visualElement.getTransformPagePoint());let u=LC(o.layout.layoutBox,l);if(r){const d=r(BE(u));this.hasMutatedConstraints=!!d,d&&(u=_v(d))}return u}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=tn(g=>{if(!La(g,r,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const w=o?200:1e6,_=o?40:1e7,E={type:"inertia",velocity:s?e[g]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return dd(this.visualElement,e),s.start(ch(e,s,0,r,this.visualElement,!1))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[r];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){tn(r=>{const{drag:s}=this.getProps();if(!La(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-He(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Ti(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=DC({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),tn(u=>{if(!La(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(He(h,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;BC.set(this.visualElement,this);const e=this.visualElement.current,r=Fs(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Ti(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(s);const u=Xs(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(tn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=fd,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function La(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function FC(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class VC extends xr{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new $C(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pg=t=>(e,r)=>{t&&Ue.postRender(()=>t(e,r))};class UC extends xr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new Mv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Pg(e),onStart:Pg(r),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ue.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Fs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const r=Rg(t,e.target.x),s=Rg(t,e.target.y);return`${r}% ${s}%`}},zC={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,o=vr.parse(t);if(o.length>5)return s;const l=vr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const p=He(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}};let kc=!1;class WC extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;hE(qC),l&&(r.group&&r.group.add(l),s&&s.register&&o&&s.register(l),kc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Va.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,kc=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ue.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;kc=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $v(t){const[e,r]=av(),s=b.useContext(Ad);return m.jsx(WC,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(wv),isPresent:e,safeToRemove:r})}const qC={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:zC};function HC(t,e,r){const s=jt(t)?t:Di(t);return s.start(ch("",s,e,r)),s.animation}const KC=(t,e)=>t.depth-e.depth;class GC{constructor(){this.children=[],this.isDirty=!1}add(e){Ld(this.children,e),this.isDirty=!0}remove(e){Dd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KC),this.isDirty=!1,this.children.forEach(e)}}function JC(t,e){const r=Ft.now(),s=({timestamp:o})=>{const l=o-r;l>=e&&(yr(s),t(l-e))};return Ue.setup(s,!0),()=>yr(s)}const Fv=["TopLeft","TopRight","BottomLeft","BottomRight"],YC=Fv.length,Ag=t=>typeof t=="string"?parseFloat(t):t,Og=t=>typeof t=="number"||de.test(t);function QC(t,e,r,s,o,l){o?(t.opacity=He(0,r.opacity??1,XC(s)),t.opacityExit=He(e.opacity??1,0,ZC(s))):l&&(t.opacity=He(e.opacity??1,r.opacity??1,s));for(let u=0;u<YC;u++){const d=`border${Fv[u]}Radius`;let h=Ig(e,d),p=Ig(r,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Og(h)===Og(p)?(t[d]=Math.max(He(Ag(h),Ag(p),s),0),(Tn.test(p)||Tn.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||r.rotate)&&(t.rotate=He(e.rotate||0,r.rotate||0,s))}function Ig(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XC=Vv(0,.5,j0),ZC=Vv(.5,.95,rn);function Vv(t,e,r){return s=>s<t?0:s>e?1:r(Ks(t,e,s))}function Lg(t,e){t.min=e.min,t.max=e.max}function en(t,e){Lg(t.x,e.x),Lg(t.y,e.y)}function Dg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ng(t,e,r,s,o){return t-=e,t=el(t,1/r,s),o!==void 0&&(t=el(t,1/o,s)),t}function ej(t,e=0,r=1,s=.5,o,l=t,u=t){if(Tn.test(e)&&(e=parseFloat(e),e=He(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=He(l.min,l.max,s);t===l&&(d-=e),t.min=Ng(t.min,e,r,d,o),t.max=Ng(t.max,e,r,d,o)}function Mg(t,e,[r,s,o],l,u){ej(t,e[r],e[s],e[o],e.scale,l,u)}const tj=["x","scaleX","originX"],nj=["y","scaleY","originY"];function Bg(t,e,r,s){Mg(t.x,e,tj,r?r.x:void 0,s?s.x:void 0),Mg(t.y,e,nj,r?r.y:void 0,s?s.y:void 0)}function $g(t){return t.translate===0&&t.scale===1}function Uv(t){return $g(t.x)&&$g(t.y)}function Fg(t,e){return t.min===e.min&&t.max===e.max}function rj(t,e){return Fg(t.x,e.x)&&Fg(t.y,e.y)}function Vg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zv(t,e){return Vg(t.x,e.x)&&Vg(t.y,e.y)}function Ug(t){return Rt(t.x)/Rt(t.y)}function zg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ij{constructor(){this.members=[]}add(e){Ld(this.members,e),e.scheduleRender()}remove(e){if(Dd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sj(t,e,r){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=r?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:_,skewY:E}=r;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),_&&(s+=`skewX(${_}deg) `),E&&(s+=`skewY(${E}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const Ec=["","X","Y","Z"],oj=1e3;let aj=0;function Cc(t,e,r,s){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Wv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Pv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ue,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Wv(s)}function qv({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=aj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cj),this.nodes.forEach(pj),this.nodes.forEach(mj),this.nodes.forEach(dj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new GC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Bd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ov(u)&&!Q2(u),this.instance=u;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{v=window.innerWidth}),t(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,g&&g(),g=JC(w,250),Va.hasAnimatedSinceResize&&(Va.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||xj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=p.getProps(),j=!this.targetLayout||!zv(this.targetLayout,_),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Qd(E,"layout"),onPlay:S,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,P)}else v||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gj),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fj),this.nodes.forEach(lj),this.nodes.forEach(uj)):this.nodes.forEach(qg),this.clearAllSnapshots();const d=Ft.now();wt.delta=qn(0,1e3/60,d-wt.timestamp),wt.timestamp=d,wt.isProcessing=!0,pc.update.process(wt),pc.preRender.process(wt),pc.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hj),this.sharedNodes.forEach(yj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Uv(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Br(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),_j(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return et();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(bj))){const{scroll:p}=this.root;p&&(Pi(d.x,p.offset.x),Pi(d.y,p.offset.y))}return d}removeElementScroll(u){const d=et();if(en(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&en(d,u),Pi(d.x,g.offset.x),Pi(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const h=et();en(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ri(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Br(g.latestValues)&&Ri(h,g.latestValues)}return Br(this.latestValues)&&Ri(h,this.latestValues),h}removeTransform(u){const d=et();en(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Br(p.latestValues))continue;ad(p.latestValues)&&p.updateSnapshot();const g=et(),v=p.measurePageBox();en(g,v),Bg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Br(this.latestValues)&&Bg(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Us(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),Sv(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Us(this.relativeTargetOrigin,this.target,w.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ad(this.parent.latestValues)||bv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;en(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;FE(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=et());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dg(this.prevProjectionDelta.x,this.projectionDelta.x),Dg(this.prevProjectionDelta.y,this.projectionDelta.y)),Vs(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!zg(this.projectionDelta.x,this.prevProjectionDelta.x)||!zg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ai(),this.projectionDelta=Ai(),this.projectionDeltaWithTransform=Ai()}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=Ai();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=et(),_=h?h.source:void 0,E=this.layout?this.layout.source:void 0,S=_!==E,k=this.getStack(),j=!k||k.members.length<=1,P=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(wj));this.animationProgress=0;let R;this.mixTargetDelta=M=>{const $=M/1e3;Kg(v.x,u.x,$),Kg(v.y,u.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Us(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vj(this.relativeTarget,this.relativeTargetOrigin,w,$),R&&rj(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=et()),en(R,this.relativeTarget)),S&&(this.animationValues=g,QC(g,p,this.latestValues,$,P,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{Va.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Di(0)),this.currentAnimation=HC(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&Hv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||et();const v=Rt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const w=Rt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+w}en(d,h),Ri(d,g),Vs(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ij),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Cc("z",u,p,this.animationValues);for(let g=0;g<Ec.length;g++)Cc(`rotate${Ec[g]}`,u,p,this.animationValues),Cc(`skew${Ec[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Fa(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Fa(d?.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=sj(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),u.transform=v;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in Qs){if(g[E]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:j}=Qs[E],P=v==="none"?g[E]:S(g[E],p);if(k){const R=k.length;for(let M=0;M<R;M++)u[k[M]]=P}else j?this.options.visualElement.renderState.vars[E]=P:u[E]=P}this.options.layoutId&&(u.pointerEvents=p===this?Fa(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Wg),this.root.sharedNodes.clear()}}}function lj(t){t.updateLayout()}function uj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?tn(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],w=Rt(v);v.min=r[g].min,v.max=v.min+w}):Hv(o,e.layoutBox,r)&&tn(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],w=Rt(r[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const u=Ai();Vs(u,r,e.layoutBox);const d=Ai();l?Vs(d,t.applyTransform(s,!0),e.measuredBox):Vs(d,r,e.layoutBox);const h=!Uv(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const _=et();Us(_,e.layoutBox,v.layoutBox);const E=et();Us(E,r,w.layoutBox),zv(_,E)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hj(t){t.clearSnapshot()}function Wg(t){t.clearMeasurements()}function qg(t){t.isLayoutDirty=!1}function fj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pj(t){t.resolveTargetDelta()}function mj(t){t.calcProjection()}function gj(t){t.resetSkewAndRotation()}function yj(t){t.removeLeadSnapshot()}function Kg(t,e,r){t.translate=He(e.translate,0,r),t.scale=He(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Gg(t,e,r,s){t.min=He(e.min,r.min,s),t.max=He(e.max,r.max,s)}function vj(t,e,r,s){Gg(t.x,e.x,r.x,s),Gg(t.y,e.y,r.y,s)}function wj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xj={duration:.45,ease:[.4,0,.1,1]},Jg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yg=Jg("applewebkit/")&&!Jg("chrome/")?Math.round:rn;function Qg(t){t.min=Yg(t.min),t.max=Yg(t.max)}function _j(t){Qg(t.x),Qg(t.y)}function Hv(t,e,r){return t==="position"||t==="preserve-aspect"&&!jC(Ug(e),Ug(r),.2)}function bj(t){return t!==t.root&&t.scroll?.wasRoot}const Sj=qv({attachResizeListener:(t,e)=>Xs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jc={current:void 0},Kv=qv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jc.current){const t=new Sj({});t.mount(window),t.setOptions({layoutScroll:!0}),jc.current=t}return jc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kj={pan:{Feature:UC},drag:{Feature:VC,ProjectionNode:Kv,MeasureLayout:$v}};function Xg(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=s[o];l&&Ue.postRender(()=>l(e,ao(e)))}class Ej extends xr{mount(){const{current:e}=this.node;e&&(this.unmount=H2(e,(r,s)=>(Xg(this.node,s,"Start"),o=>Xg(this.node,o,"End"))))}unmount(){}}class Cj extends xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(Xs(this.node.current,"focus",()=>this.onFocus()),Xs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zg(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=s[o];l&&Ue.postRender(()=>l(e,ao(e)))}class jj extends xr{mount(){const{current:e}=this.node;e&&(this.unmount=Y2(e,(r,s)=>(Zg(this.node,s,"Start"),(o,{success:l})=>Zg(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pd=new WeakMap,Tc=new WeakMap,Tj=t=>{const e=pd.get(t.target);e&&e(t)},Pj=t=>{t.forEach(Tj)};function Rj({root:t,...e}){const r=t||document;Tc.has(r)||Tc.set(r,{});const s=Tc.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Pj,{root:t,...e})),s[o]}function Aj(t,e,r){const s=Rj(e);return pd.set(t,r),s.observe(t),()=>{pd.delete(t),s.unobserve(t)}}const Oj={some:0,all:1};class Ij extends xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:Oj[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(h)};return Aj(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Lj(e,r))&&this.startObserver()}unmount(){}}function Lj({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Dj={inView:{Feature:Ij},tap:{Feature:jj},focus:{Feature:Cj},hover:{Feature:Ej}},Nj={layout:{ProjectionNode:Kv,MeasureLayout:$v}},Mj={..._C,...Dj,...kj,...Nj},Cn=ME(Mj,YE),Bj="/assets/fetop_logo-CEosw_QK.png";function $j(){const{totalItems:t}=ro(),{authUser:e}=sn(),r=At(),s=xn(),[o,l]=b.useState(!1),[u,d]=b.useState(!1),[h,p]=b.useState(""),[g,v]=b.useState([]),[w,_]=b.useState(!1);s.pathname,b.useEffect(()=>{if(!h.trim()){v([]);return}const S=setTimeout(async()=>{try{_(!0);const[k,j]=await Promise.all([se.from("products").select("id, name, images").ilike("name",`%${h}%`).limit(5),se.from("categories").select("id, name").ilike("name",`%${h}%`).limit(3)]),P=[...j.data?.map(R=>({...R,type:"category"}))||[],...k.data?.map(R=>({...R,type:"product"}))||[]];v(P)}catch(k){console.error("Search failed:",k.message)}finally{_(!1)}},400);return()=>clearTimeout(S)},[h]);const E=S=>{p(""),v([]),l(!1),S.type==="category"?r(`/shop?category=${S.name}`):r(`/product/${S.id}`)};return b.useEffect(()=>{const S=document.createElement("style");return S.innerHTML=`
      @media (max-width: 900px) {
        .nav-links { display: none !important; }
        .search-box { display: none !important; }
        .hamburger { display: block !important; }
      }
      @media (max-width: 600px) {
        nav { padding: 10px 16px !important; }
        .mobile-menu { width: 80% !important; }
        .mobile-link { font-size: 16px !important; }
      }
    `,document.head.appendChild(S),()=>document.head.removeChild(S)},[]),m.jsxs(m.Fragment,{children:[m.jsxs("nav",{style:{position:"fixed",top:0,left:0,width:"100%",height:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 40px",zIndex:1e3,background:"#ffffff",color:"#111",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",transition:"all 0.3s ease"},children:[m.jsx(ht,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px"},children:m.jsx("img",{src:Bj,alt:"Fetop",style:{height:"42px",width:"auto",objectFit:"contain"}})}),m.jsxs("div",{className:"nav-links",style:Fj,children:[m.jsx(ht,{to:"/",style:Da(s.pathname==="/"),children:"Home"}),m.jsx(ht,{to:"/shop",style:Da(s.pathname==="/shop"),children:"Shop"}),m.jsx(ht,{to:"/about",style:Da(s.pathname==="/about"),children:"About"}),m.jsx(ht,{to:"/contact",style:Da(s.pathname==="/contact"),children:"Contact"})]}),m.jsxs("div",{className:"search-box",style:{position:"relative",flex:1,maxWidth:"350px"},children:[m.jsxs("div",{style:Vj,children:[m.jsx(hm,{style:{color:"#555"}}),m.jsx("input",{type:"text",placeholder:"Search products or categories...",value:h,onChange:S=>p(S.target.value),style:Uj})]}),m.jsx($s,{children:g.length>0&&m.jsx(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},style:zj,children:g.map(S=>m.jsxs("div",{onClick:()=>E(S),style:Wj,children:[S.type==="product"?m.jsx("img",{src:S.images?.[0]||"https://via.placeholder.com/40",alt:S.name,style:{width:"38px",height:"38px",borderRadius:"6px",objectFit:"cover"}}):m.jsx(hm,{color:"#aaa"}),m.jsxs("span",{style:{fontSize:"15px",color:"#333"},children:[S.name," ",S.type==="category"&&m.jsx("span",{style:{color:"#888",fontSize:"13px"},children:"(Category)"})]})]},S.id))})})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"22px"},children:[e?m.jsxs(m.Fragment,{children:[m.jsxs(ht,{to:"/cart",style:{position:"relative",color:"inherit"},children:[m.jsx(_d,{size:21}),t>0&&m.jsx("span",{style:Hj,children:t})]}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("button",{onClick:()=>d(S=>!S),style:ey,children:m.jsx(I_,{size:25})}),m.jsx($s,{children:u&&m.jsxs(Cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},style:Kj,children:[m.jsx(ht,{to:"/profile",style:Pc,children:"Profile"}),m.jsx(ht,{to:"/orders",style:Pc,children:"Orders"}),m.jsx(ht,{to:"/logout",style:Pc,children:"Logout"})]})})]})]}):m.jsx(ht,{to:"/login",style:qj,children:"Login"}),m.jsx("button",{onClick:()=>l(S=>!S),style:{...ey,display:"none"},className:"hamburger",children:o?m.jsx(_y,{size:24}):m.jsx(A_,{size:24})})]}),m.jsx($s,{children:o&&m.jsxs(m.Fragment,{children:[m.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},style:Gj,onClick:()=>l(!1)}),m.jsxs(Cn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"mobile-menu",style:Jj,children:[["Home","Shop","About","Contact"].map(S=>m.jsx(ht,{to:`/${S.toLowerCase()==="home"?"":S.toLowerCase()}`,className:"mobile-link",style:Rc,onClick:()=>l(!1),children:S},S)),e?m.jsx(ht,{to:"/logout",className:"mobile-link",style:Rc,onClick:()=>l(!1),children:"Logout"}):m.jsx(ht,{to:"/login",className:"mobile-link",style:Rc,onClick:()=>l(!1),children:"Login"})]})]})})]}),m.jsx("div",{style:{height:"64px"}})]})}const Fj={display:"flex",gap:"22px"},Da=t=>({textDecoration:"none",color:t?"#000":"#444",fontWeight:t?600:500,fontSize:"15.5px"}),Vj={display:"flex",alignItems:"center",border:"1px solid #ddd",borderRadius:"20px",background:"#fff",padding:"6px 12px"},Uj={flex:1,border:"none",outline:"none",marginLeft:"8px",fontSize:"14.5px",background:"transparent"},zj={position:"absolute",top:"42px",left:0,right:0,background:"#fff",borderRadius:"8px",boxShadow:"0 3px 12px rgba(0,0,0,0.1)",zIndex:1001,overflow:"hidden"},Wj={display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #eee"},qj={padding:"7px 16px",borderRadius:"20px",background:"#2563eb",color:"#fff",textDecoration:"none",fontWeight:600,fontSize:"14.5px"},Hj={position:"absolute",top:"-7px",right:"-10px",background:"#2563eb",color:"#fff",fontSize:"11px",borderRadius:"50%",padding:"2px 6px",fontWeight:600},ey={background:"none",border:"none",cursor:"pointer",color:"inherit"},Kj={position:"absolute",top:"110%",right:0,background:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:"8px",overflow:"hidden",zIndex:1001},Pc={display:"block",padding:"10px 18px",textDecoration:"none",color:"#111",fontSize:"14.5px",borderBottom:"1px solid #eee"},Gj={position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:998,opacity:.5},Jj={position:"fixed",top:0,right:0,width:"70%",height:"100%",background:"#fff",zIndex:999,display:"flex",flexDirection:"column",padding:"20px",gap:"16px"},Rc={textDecoration:"none",color:"#111",fontSize:"17px",fontWeight:500};function Yj(t){return tt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},child:[]}]})(t)}function Gv(t){return tt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41a1.42 1.42 0 0 1-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"},child:[]}]})(t)}const Qj="https://via.placeholder.com/400x300?text=Product+Image";function Xj(){const{authUser:t}=sn(),{addToCart:e}=ro(),r=At(),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(null);b.useEffect(()=>{document.title="Home | Nairobi Fashion Tops";async function v(){u(!0);try{const{data:w,error:_}=await se.from("products").select("id, name, description, price, discount_percent, images, stock_quantity").eq("is_active",!0).limit(4);if(_)throw _;o(w||[])}catch(w){h(w.message||String(w))}finally{u(!1)}}v()},[]);const p=async(v,w)=>{if(w.stopPropagation(),!t)return alert("Please log in to add items to your cart.");try{await e(v),alert(`Added ${v.name} to your cart!`)}catch(_){console.error("Add to cart failed:",_),alert("Failed to add item to cart.")}},g=v=>r(`/product/${v}`);return l?m.jsx("div",{style:$e.loadingWrap,children:"Loading featured products..."}):d?m.jsxs("div",{style:$e.errorWrap,children:["Error: ",String(d)]}):m.jsxs("div",{style:$e.container,children:[m.jsx("div",{style:$e.hero,children:m.jsxs("div",{style:$e.heroContent,children:[m.jsx("h1",{style:$e.heroTitle,children:"Your Next Favorite Top Awaits."}),m.jsx("p",{style:$e.heroSubTitle,children:"Trendy tops delivered across Kenya  free delivery within Nairobi for orders above Ksh 2,000!"}),m.jsxs("button",{style:$e.heroBtn,onClick:()=>r("/shop"),children:[m.jsx(Gv,{style:{marginRight:8},size:20}),"Shop All Products"]})]})}),m.jsxs("div",{style:$e.deliveryBanner,children:[m.jsx(Yj,{size:20,style:{marginRight:8}}),m.jsx("span",{children:"Fast same-day delivery within Nairobi via rider."})]}),m.jsx("h2",{style:$e.sectionTitle,children:" Featured Tops"}),m.jsx("div",{style:$e.grid,children:s.length===0?m.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center"},children:"No featured products available."}):s.map(v=>{const w=Array.isArray(v.images)?v.images[0]:Qj,_=v.discount_percent||0,E=_?(v.price*(1-_/100)).toFixed(2):v.price.toFixed(2),S=v.stock_quantity===0;return m.jsxs("div",{style:$e.card,onClick:()=>g(v.id),children:[m.jsx("img",{src:w,alt:v.name,style:$e.image}),m.jsxs("div",{style:$e.cardBody,children:[m.jsx("h3",{style:$e.productName,children:v.name}),m.jsxs("p",{style:$e.desc,children:[v.description?.substring(0,60),"..."]}),m.jsxs("div",{style:$e.priceRow,children:[m.jsxs("span",{style:$e.price,children:["Ksh ",E.toLocaleString()]}),_>0&&m.jsxs("span",{style:$e.oldPrice,children:["Ksh ",v.price.toLocaleString()]})]}),m.jsx("button",{onClick:k=>p(v,k),disabled:S,style:$e.addBtn(S),children:S?"Out of Stock":m.jsxs(m.Fragment,{children:[m.jsx(_d,{style:{marginRight:8},size:16}),"Add to Cart"]})}),m.jsx("button",{style:$e.detailsBtn,onClick:k=>{k.stopPropagation(),g(v.id)},children:"View Details"})]})]},v.id)})}),m.jsxs("div",{style:$e.ctaBanner,children:[m.jsxs("div",{style:$e.ctaText,children:[m.jsx("h3",{style:$e.ctaTitle,children:"Ready to explore more?"}),m.jsx("p",{children:"Discover hundreds of stylish tops for every occasion."})]}),m.jsxs("button",{style:$e.ctaBtn,onClick:()=>r("/shop"),children:["View All Collections",m.jsx(R_,{style:{marginLeft:8},size:16})]})]})]})}const $e={container:{padding:"30px 5%",maxWidth:"1200px",margin:"0 auto",fontFamily:"Inter, sans-serif"},hero:{background:"linear-gradient(135deg, #4f46e5, #6366f1)",color:"#fff",padding:"60px 40px",borderRadius:"16px",textAlign:"center",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},heroContent:{maxWidth:"700px",margin:"0 auto"},heroTitle:{fontSize:"2.5rem",fontWeight:800,marginBottom:"15px"},heroSubTitle:{fontSize:"1.1rem",marginBottom:"25px",opacity:.9},heroBtn:{display:"flex",alignItems:"center",justifyContent:"center",padding:"12px 25px",borderRadius:"8px",background:"#ff8c00",color:"#fff",fontWeight:700,border:"none",cursor:"pointer",margin:"0 auto",transition:"background 0.3s"},deliveryBanner:{display:"flex",alignItems:"center",justifyContent:"center",background:"#d1fae5",color:"#065f46",padding:"10px",borderRadius:"8px",fontWeight:500,marginBottom:"25px"},sectionTitle:{fontSize:"1.8rem",fontWeight:700,marginBottom:"25px",color:"#1f2937",textAlign:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:30,marginBottom:"40px"},card:{background:"#fff",borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease"},image:{width:"100%",height:"auto",aspectRatio:"4 / 3",objectFit:"cover"},cardBody:{padding:15},productName:{fontSize:18,fontWeight:700,marginBottom:5,color:"#333"},desc:{fontSize:14,color:"#666",marginBottom:10,minHeight:40,overflow:"hidden"},priceRow:{display:"flex",gap:10,alignItems:"baseline",marginBottom:10},price:{fontWeight:700,fontSize:18,color:"#4f46e5"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:14},addBtn:t=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:8,background:t?"#ccc":"#059669",color:"#fff",fontWeight:600,border:"none",cursor:t?"not-allowed":"pointer",width:"100%",transition:"background 0.2s ease"}),detailsBtn:{width:"100%",padding:"10px",background:"#4f46e5",color:"#fff",borderRadius:8,border:"none",cursor:"pointer",marginTop:8,transition:"background 0.3s"},ctaBanner:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#eef2ff",padding:"30px",borderRadius:12,marginTop:20,flexWrap:"wrap",gap:20},ctaText:{flex:1},ctaTitle:{fontSize:"1.5rem",fontWeight:700,marginBottom:5,color:"#4f46e5"},ctaBtn:{display:"flex",alignItems:"center",padding:"10px 20px",borderRadius:8,background:"#4f46e5",color:"#fff",fontWeight:600,border:"none",cursor:"pointer",transition:"background 0.3s"},loadingWrap:{textAlign:"center",padding:60,fontSize:"1.2rem"},errorWrap:{textAlign:"center",padding:60,color:"crimson"}},Ae={container:{padding:"30px 5%",maxWidth:"1400px",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16,marginBottom:30},title:{fontSize:32,fontWeight:700,color:"#222"},search:{flex:1,minWidth:260,padding:"12px 16px",borderRadius:10,border:"1px solid #ddd",fontSize:16,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",transition:"border-color 0.2s"},categoriesWrapper:{display:"flex",gap:12,overflowX:"auto",paddingBottom:15,marginBottom:30,borderBottom:"1px solid #eee",whiteSpace:"nowrap"},catBtn:{flexShrink:0,padding:"10px 18px",borderRadius:20,fontWeight:600,border:"1px solid transparent",cursor:"pointer",transition:"all 0.25s",minWidth:"100px",textAlign:"center"},catBtnDefault:{background:"#f5f5f5",color:"#333"},catBtnActive:{background:"#111",color:"#fff"},catBtnImage(t,e){return{backgroundImage:`linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.6)),url(${t})`,backgroundSize:"cover",backgroundPosition:"center",color:"#fff",fontWeight:700,border:e?"3px solid #ff8c00":"none"}},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:30},card:{background:"#fff",borderRadius:14,boxShadow:"0 4px 18px rgba(0,0,0,0.08)",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease, box-shadow 0.3s ease"},imgWrap:{position:"relative",overflow:"hidden",height:220,borderBottom:"1px solid #eee"},image:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.4s ease"},discountBadge:{position:"absolute",top:12,right:12,background:"#e11d48",color:"#fff",padding:"6px 10px",borderRadius:"999px",fontSize:13,fontWeight:700,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},cardBody:{padding:16},productName:{fontSize:18,fontWeight:700,marginBottom:6,color:"#333"},desc:{fontSize:14,color:"#666",marginBottom:10,height:40,overflow:"hidden",textOverflow:"ellipsis"},priceRow:{display:"flex",gap:12,alignItems:"baseline",marginBottom:10},price:{fontWeight:700,fontSize:18,color:"#1f6feb"},oldPrice:{textDecoration:"line-through",color:"#999",fontSize:14},stock:{fontSize:13,color:"#22c55e",fontWeight:600,display:"block"},stockOut:{color:"#ef4444"},addBtn:t=>({marginTop:15,padding:"12px",borderRadius:10,background:t?"#ccc":"#ff8c00",color:"#fff",fontWeight:700,border:"none",cursor:t?"not-allowed":"pointer",width:"100%",transition:"background 0.3s ease",":hover":{background:t?"#ccc":"#e07b00"}}),loadingWrap:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",fontFamily:"Inter, sans-serif"},errorWrap:{textAlign:"center",padding:60,color:"crimson"}};function Zj(){const{authUser:t}=sn(),[e,r]=b.useState([]),[s,o]=b.useState([]),[l,u]=b.useState(!0),[d,h]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(""),[_,E]=b.useState(""),S=b.useRef(null),k=At(),j=xn(),R=b.useMemo(()=>new URLSearchParams(j.search),[j.search]).get("category")||"",M=b.useCallback(I=>{if(!I)return null;const J=I.toLowerCase().trim();return s.find(pe=>pe.name.toLowerCase().trim()===J)?.id??null},[s]);b.useEffect(()=>{const I=setTimeout(()=>E(v.trim()),320);return()=>clearTimeout(I)},[v]),b.useEffect(()=>{(async()=>{try{const{data:I,error:J}=await se.from("categories").select("id, name").order("name",{ascending:!0});if(J)throw J;o(I||[])}catch(I){h(I.message||String(I))}})()},[]),b.useEffect(()=>{async function I(){u(!0),h(null);try{const J=M(R);if(R&&!J&&s.length>0){r([]),u(!1);return}let oe=se.from("products").select("id, name, description, price, discount_percent, images, stock_quantity, category_id").eq("is_active",!0).order("created_at",{ascending:!1});J&&(oe=oe.eq("category_id",J)),_&&(oe=oe.ilike("name",`%${_}%`));const{data:pe,error:me}=await oe;if(me)throw me;r(pe||[])}catch(J){h(J.message||String(J))}finally{u(!1)}}(s.length>0||!R)&&I()},[R,_,s,M]),b.useEffect(()=>{const I=document.querySelectorAll("img[data-src]");if(!I.length)return;const J=new IntersectionObserver((oe,pe)=>{oe.forEach(me=>{if(me.isIntersecting){const Te=me.target;Te.src=Te.dataset.src,pe.unobserve(Te)}})});return I.forEach(oe=>J.observe(oe)),()=>J.disconnect()},[e]);const $=I=>{k(I?`/shop?category=${encodeURIComponent(I)}`:"/shop")},U=I=>k(`/product/${I}`),K=async(I,J)=>{if(J.stopPropagation(),!t)return alert("Login to add to cart");try{let{data:oe,error:pe}=await se.from("cart").select("id").eq("user_id",t.id).single();if(pe&&pe.code!=="PGRST116")throw pe;let me=oe?.id;if(!me){const{data:_e,error:Ne}=await se.from("cart").insert({user_id:t.id}).select().single();if(Ne)throw Ne;me=_e.id}const{data:Te}=await se.from("cart_items").select("id, quantity").eq("cart_id",me).eq("product_id",I).single();Te?await se.from("cart_items").update({quantity:Te.quantity+1}).eq("id",Te.id):await se.from("cart_items").insert({cart_id:me,product_id:I,quantity:1}),alert("Added to cart!")}catch(oe){console.error("Add to cart failed:",oe),alert("Failed to add to cart.")}},G=b.useMemo(()=>{const I={};return s.forEach(J=>{const oe=e.find(me=>me.category_id===J.id),pe=oe&&Array.isArray(oe.images)&&oe.images.length?oe.images[0]:"https://via.placeholder.com/250x150?text=Category+Image";I[J.id]=pe}),I},[s,e]);return l?m.jsxs("div",{style:Ae.loadingWrap,children:[m.jsx("p",{style:{...Ae.title,fontSize:40,animation:"spin 1.5s linear infinite",marginBottom:16},children:""}),m.jsx("p",{children:"Loading products..."})]}):d?m.jsxs("div",{style:Ae.errorWrap,children:[m.jsx("h2",{children:"Error loading shop"}),m.jsx("p",{children:String(d)})]}):m.jsxs("div",{style:Ae.container,children:[m.jsxs("div",{style:Ae.header,children:[m.jsx("h1",{style:Ae.title,children:R?`${R} Collection`:"Shop All"}),m.jsx("input",{ref:S,value:v,onChange:I=>w(I.target.value),placeholder:" Search products...",style:Ae.search})]}),m.jsxs("div",{style:Ae.categoriesWrapper,children:[m.jsx("button",{onClick:()=>$(null),style:{...Ae.catBtn,...R?Ae.catBtnDefault:Ae.catBtnActive},children:"All"}),s.map(I=>{const J=I.name===R,oe=!!G[I.id];return m.jsx("button",{onClick:()=>$(I.name),style:{...Ae.catBtn,...oe?Ae.catBtnImage(G[I.id],J):J?Ae.catBtnActive:Ae.catBtnDefault},children:I.name},I.id)})]}),m.jsxs("div",{style:Ae.grid,children:[e.length===0&&m.jsx("p",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#555"},children:"No products found matching your criteria."}),e.map(I=>{const J=Array.isArray(I.images)&&I.images.length?I.images[0]:"https://via.placeholder.com/400x300?text=No+Image",oe=I.discount_percent>0?I.price-I.price*I.discount_percent/100:I.price,pe=I.stock_quantity===0,me=I.id===p,Te={...Ae.card,...me&&{transform:"translateY(-5px)",boxShadow:"0 8px 25px rgba(0,0,0,0.15)"}},_e={...Ae.image,...me&&{transform:"scale(1.08)"}};return m.jsxs("div",{style:Te,onClick:()=>U(I.id),onMouseEnter:()=>g(I.id),onMouseLeave:()=>g(null),children:[m.jsxs("div",{style:Ae.imgWrap,children:[m.jsx("img",{"data-src":J,alt:I.name,style:_e}),I.discount_percent>0&&m.jsxs("div",{style:Ae.discountBadge,children:["-",I.discount_percent,"%"]})]}),m.jsxs("div",{style:Ae.cardBody,children:[m.jsx("h3",{style:Ae.productName,children:I.name}),m.jsx("p",{style:Ae.desc,children:I.description||""}),m.jsxs("div",{style:Ae.priceRow,children:[m.jsxs("span",{style:Ae.price,children:["Ksh ",oe.toLocaleString()]}),I.discount_percent>0&&m.jsxs("span",{style:Ae.oldPrice,children:["Ksh ",I.price.toLocaleString()]})]}),m.jsx("span",{style:{...Ae.stock,...pe&&Ae.stockOut},children:pe?"Out of stock":`${I.stock_quantity} in stock`}),m.jsxs("button",{onClick:Ne=>K(I.id,Ne),disabled:pe,style:Ae.addBtn(pe),children:[" ",pe?"Unavailable":"Add to Cart"]})]})]},I.id)})]})]})}if(typeof document<"u"){const t=document.createElement("style");t.innerHTML=`
 @keyframes spin { to { transform: rotate(360deg); } }
 `,document.head.appendChild(t)}function eT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function tT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function nT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function rT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function iT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function sT(t){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const oT="https://via.placeholder.com/60x60?text=No+Image";function aT(){const{authUser:t}=sn(),{cartItems:e,updateQuantity:r,removeFromCart:s}=ro(),o=At(),[l,u]=b.useState(null);if(!t)return m.jsx("div",{style:Pe.message,children:"Please log in to view your cart."});if(!e)return m.jsx("div",{style:Pe.message,children:"Loading cart"});if(e.length===0)return m.jsxs("div",{style:Pe.message,children:[m.jsx("h2",{children:"Your cart is empty."}),m.jsxs("button",{style:Pe.shopBtn,onClick:()=>o("/shop"),children:[m.jsx(Gv,{style:{marginRight:8},size:18}),"Continue Shopping"]})]});const d=e.reduce((j,P)=>{const R=P.product.discount_percent?P.product.price*(1-P.product.discount_percent/100):P.product.price;return j+R*P.quantity},0),h=35,p=.1,g=d*p,v=d+h+g,w=e.some(j=>j.quantity>j.product.stock_quantity),_=j=>{const P=j.quantity+1;if(P>j.product.stock_quantity){alert(`Max stock reached. You can only have ${j.product.stock_quantity} of ${j.product.name}.`);return}r(j.id,P)},E=j=>{j.quantity>1&&r(j.id,j.quantity-1)},S=(j,P)=>{let R=parseInt(P,10);(isNaN(R)||R<1)&&(R=1),R>j.product.stock_quantity&&(alert(`Maximum stock for ${j.product.name} is ${j.product.stock_quantity}.`),R=j.product.stock_quantity),r(j.id,R)},k=()=>{if(w){alert("Please adjust the quantity of items exceeding available stock before checking out.");return}o("/checkout")};return m.jsxs("div",{style:Pe.container,children:[m.jsxs("h1",{style:Pe.title,children:[m.jsx(_d,{style:{marginRight:10}})," Shopping Cart"]}),m.jsxs("div",{style:Pe.cartGrid,children:[m.jsxs("div",{style:Pe.items,children:[m.jsxs("div",{style:Pe.headerRow,children:[m.jsx("span",{style:{gridColumn:"2 / span 1"},children:"Product"}),m.jsx("span",{style:{gridColumn:"3 / span 1",textAlign:"right"},children:"Price"}),m.jsx("span",{style:{gridColumn:"4 / span 1",textAlign:"center"},children:"Quantity"}),m.jsx("span",{style:{gridColumn:"5 / span 1",textAlign:"right"},children:"Total"})]}),e.map(j=>{const P=j.product.discount_percent?j.product.price*(1-j.product.discount_percent/100):j.product.price,R=P*j.quantity,M=j.quantity>j.product.stock_quantity,$=j.id===l,U=j.quantity>=j.product.stock_quantity,K={...Pe.itemRow,background:M?"#fef2f2":"#fff",border:M?"1px solid #dc2626":$?"1px solid #9ca3af":"1px solid #e5e7eb",boxShadow:$?"0 4px 10px rgba(0,0,0,0.05)":"none"};return m.jsxs("div",{style:K,onMouseEnter:()=>u(j.id),onMouseLeave:()=>u(null),children:[m.jsx("img",{src:j.product.images?.[0]||oT,alt:j.product.name,style:Pe.image}),m.jsxs("div",{children:[m.jsx("div",{style:Pe.name,children:j.product.name}),M&&m.jsxs("div",{style:Pe.stockAlert,children:["Stock Error: Max in stock is ",j.product.stock_quantity]}),j.product.discount_percent>0&&m.jsxs("div",{style:Pe.discountBadge,children:[j.product.discount_percent,"% OFF"]})]}),m.jsxs("div",{style:Pe.price,children:["Ksh ",P.toFixed(2).toLocaleString()]}),m.jsxs("div",{style:Pe.qtyWrapper,children:[m.jsx("button",{onClick:()=>E(j),style:Pe.qtyBtn(j.quantity<=1),disabled:j.quantity<=1,"aria-label":"Decrease quantity",children:m.jsx(rT,{size:14})}),m.jsx("input",{type:"number",value:j.quantity,min:1,onChange:G=>S(j,G.target.value),style:{...Pe.qtyInput,border:M?"1px solid #dc2626":"1px solid #ccc"}}),m.jsx("button",{onClick:()=>_(j),style:Pe.qtyBtn(U),disabled:U,"aria-label":"Increase quantity",children:m.jsx(iT,{size:14})})]}),m.jsxs("div",{style:Pe.lineTotal,children:["Ksh ",R.toFixed(2).toLocaleString()]}),m.jsx("button",{onClick:()=>s(j.id),style:Pe.removeBtn,title:"Remove Item","aria-label":"Remove item from cart",children:m.jsx(sT,{size:16})})]},j.id)})]}),m.jsxs("div",{style:Pe.summary,children:[m.jsx("h2",{style:Pe.summaryTitle,children:"Order Summary"}),m.jsxs("div",{style:Pe.summaryRow,children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["Ksh ",d.toFixed(2).toLocaleString()]})]}),m.jsxs("div",{style:Pe.summaryRow,children:[m.jsx("span",{children:"Shipping Fee"}),m.jsxs("span",{children:["Ksh ",h.toFixed(2)]})]}),m.jsxs("div",{style:{...Pe.summaryRow,borderBottom:"1px solid #e5e7eb",paddingBottom:"10px"},children:[m.jsxs("span",{children:["Tax (",p*100,"%)"]}),m.jsxs("span",{children:["Ksh ",g.toFixed(2).toLocaleString()]})]}),m.jsxs("div",{style:{...Pe.summaryRow,...Pe.totalRow},children:[m.jsx("span",{children:"Order Total"}),m.jsxs("span",{children:["Ksh ",v.toFixed(2).toLocaleString()]})]}),m.jsx("button",{style:Pe.checkoutBtn(w),onClick:k,disabled:e.length===0||w,children:w?" Fix Stock Errors":"Proceed to Checkout"}),w&&m.jsx("p",{style:Pe.errorText,children:"Please reduce the quantity of highlighted items."})]})]})]})}const Pe={container:{maxWidth:"1100px",margin:"40px auto",padding:"0 20px",fontFamily:"'Inter', sans-serif",fontSize:"1rem"},title:{display:"flex",alignItems:"center",fontSize:"2rem",fontWeight:700,marginBottom:"30px",textAlign:"left",color:"#1f2937",borderBottom:"2px solid #4f46e5",paddingBottom:"10px"},cartGrid:{display:"flex",gap:"30px",flexWrap:"wrap"},items:{flex:3,minWidth:"550px"},headerRow:{display:"grid",gridTemplateColumns:"70px 1fr 90px 120px 90px 30px",gap:"8px",padding:"0 12px 10px 12px",fontWeight:600,color:"#4b5563",borderBottom:"1px solid #d1d5db",marginBottom:"10px"},itemRow:{display:"grid",gridTemplateColumns:"70px 1fr 90px 120px 90px 30px",alignItems:"center",gap:"8px",padding:"12px",marginBottom:"12px",borderRadius:"8px",transition:"all 0.2s ease-in-out"},image:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"6px"},name:{fontWeight:600,fontSize:"1rem",color:"#1f2937"},price:{color:"#4b5563",fontWeight:500,textAlign:"right"},discountBadge:{fontSize:"0.75rem",fontWeight:700,color:"#dc2626",background:"#fee2e2",borderRadius:"4px",padding:"2px 6px",display:"inline-block",marginTop:"4px"},qtyWrapper:{display:"flex",alignItems:"center",gap:"4px",justifySelf:"center"},qtyInput:{width:"50px",padding:"6px 4px",borderRadius:"6px",border:"1px solid #ccc",textAlign:"center",fontSize:"1rem"},qtyBtn:t=>({display:"flex",alignItems:"center",justifyContent:"center",background:t?"#e5e7eb":"#4f46e5",color:t?"#9ca3af":"#fff",border:"none",borderRadius:"6px",width:"28px",height:"28px",cursor:t?"not-allowed":"pointer",transition:"background 0.2s",padding:0}),lineTotal:{fontWeight:700,color:"#1f2937",textAlign:"right"},removeBtn:{display:"flex",alignItems:"center",justifyContent:"center",background:"#fecaca",color:"#dc2626",border:"none",borderRadius:"6px",width:"28px",height:"28px",cursor:"pointer",transition:"background 0.2s",justifySelf:"end",padding:0},stockAlert:{color:"#dc2626",fontSize:"0.85rem",fontWeight:600,marginTop:"4px"},summary:{flex:1,minWidth:"300px",background:"#f9fafb",padding:"20px",borderRadius:"10px",height:"fit-content",border:"1px solid #e5e7eb"},summaryTitle:{fontSize:"1.25rem",fontWeight:700,marginBottom:"20px",borderBottom:"1px solid #e5e7eb",paddingBottom:"10px",color:"#1f2937"},summaryRow:{display:"flex",justifyContent:"space-between",marginBottom:"10px",fontSize:"1rem",color:"#4b5563"},totalRow:{fontWeight:700,fontSize:"1.2rem",color:"#1f2937",paddingTop:"15px",marginTop:"15px"},checkoutBtn:t=>({marginTop:"20px",width:"100%",background:t?"#dc2626":"#4f46e5",color:"#fff",padding:"12px",borderRadius:"8px",fontWeight:700,fontSize:"1rem",cursor:t?"not-allowed":"pointer",transition:"background 0.2s"}),errorText:{color:"#dc2626",fontSize:"0.85rem",textAlign:"center",marginTop:"10px"},message:{textAlign:"center",marginTop:"100px",fontSize:"1.2rem",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},shopBtn:{marginTop:"20px",background:"#4f46e5",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:600,fontSize:"1rem",display:"flex",alignItems:"center"}},lT=()=>m.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:m.jsxs("div",{style:{maxWidth:980,margin:"0 auto"},children:[m.jsx("h1",{children:"About Fetop"}),m.jsx("p",{children:"Fetop is a curated clothing brand focused on quality essentials and everyday style. We design and source durable, high-quality garments and accessories at honest prices."}),m.jsx("h3",{children:"Our Mission"}),m.jsx("p",{children:"To make premium basics accessible while keeping ethical production and great customer service at the core of everything we do."}),m.jsx("h3",{children:"Contact & Support"}),m.jsx("p",{children:"For support, please use the Contact page. If you're a retailer or influencer interested in partnering with us, email partnerships@fetop.com (replace with real address later)."})]})}),uT=()=>{const[t,e]=b.useState({name:"",email:"",message:""}),r=o=>e(l=>({...l,[o.target.name]:o.target.value})),s=o=>{o.preventDefault(),alert("Thanks  message sent (demo)."),e({name:"",email:"",message:""})};return m.jsx("main",{style:{padding:"90px 20px 60px",minHeight:"70vh"},children:m.jsxs("div",{style:{maxWidth:720,margin:"0 auto"},children:[m.jsx("h1",{children:"Contact Us"}),m.jsx("p",{children:"Have questions? Fill the form and well get back to you within 24-48 hours."}),m.jsxs("form",{onSubmit:s,style:{marginTop:20,display:"grid",gap:12},children:[m.jsx("input",{name:"name",placeholder:"Your name",value:t.name,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),m.jsx("input",{name:"email",type:"email",placeholder:"Your email",value:t.email,onChange:r,required:!0,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),m.jsx("textarea",{name:"message",placeholder:"Message",value:t.message,onChange:r,required:!0,rows:6,style:{padding:10,borderRadius:8,border:"1px solid #ddd"}}),m.jsx("button",{type:"submit",style:{padding:"10px 16px",borderRadius:8,cursor:"pointer",background:"#15273f",color:"#fff",border:"none"},children:"Send Message"})]})]})})},ct={center:{textAlign:"center",marginTop:"60px",fontSize:"18px",fontFamily:"Arial, sans-serif"},container:{maxWidth:"1200px",margin:"0 auto",padding:"32px"},heading:{fontSize:"28px",fontWeight:"600",marginBottom:"24px",textAlign:"center",color:"#333"},tableWrapper:{overflowX:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"8px"},table:{width:"100%",borderCollapse:"collapse",backgroundColor:"#fff"},th:{textAlign:"left",padding:"16px 24px",backgroundColor:"#f7f7f7",fontWeight:"700",color:"#555",borderBottom:"2px solid #ddd",fontSize:"14px",textTransform:"uppercase"},td:{padding:"16px 24px",borderBottom:"1px solid #eee",fontSize:"14px",cursor:"pointer",transition:"background-color 0.2s"},tr:{":hover":{backgroundColor:"#f0f8ff"}},status:t=>{let e,r;switch(t){case"completed":e="#155724",r="#d4edda";break;case"pending":e="#856404",r="#fff3cd";break;case"shipped":case"processing":e="#004085",r="#cce5ff";break;default:e="#383d41",r="#e2e3e5"}return{padding:"4px 8px",borderRadius:"4px",fontWeight:"600",color:e,backgroundColor:r,display:"inline-block",textTransform:"capitalize"}}};function cT(){const{authUser:t}=sn(),[e,r]=b.useState([]),[s,o]=b.useState(!0),[l,u]=b.useState(""),d=At();b.useEffect(()=>{t&&h()},[t]);async function h(){o(!0),u("");try{const{data:p,error:g}=await se.from("orders").select(`
          id,
          total_amount,
          status,
          created_at,
          addresses:address_id(
            city,
            country
          )
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching orders:",p),u(p.message||"Failed to fetch orders.")}finally{o(!1)}}return t?s?m.jsx("p",{style:ct.center,children:" Loading your orders..."}):l?m.jsxs("p",{style:{...ct.center,color:"red"},children:[" ",l]}):e.length===0?m.jsx("p",{style:ct.center,children:"No orders placed yet."}):m.jsxs("div",{style:ct.container,children:[m.jsx("h2",{style:ct.heading,children:"My Orders"}),m.jsx("div",{style:ct.tableWrapper,children:m.jsxs("table",{style:ct.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{...ct.th,width:"15%"},children:"Order ID"}),m.jsx("th",{style:{...ct.th,width:"20%"},children:"Date"}),m.jsx("th",{style:{...ct.th,width:"20%"},children:"Status"}),m.jsx("th",{style:{...ct.th,width:"25%",textAlign:"right"},children:"Total"}),m.jsx("th",{style:{...ct.th,width:"20%"},children:"Shipping To"})]})}),m.jsx("tbody",{children:e.map(p=>m.jsxs("tr",{onClick:()=>d(`/orders/${p.id}`),children:[m.jsxs("td",{style:ct.td,children:[p.id.slice(0,8),"..."]}),m.jsx("td",{style:ct.td,children:new Date(p.created_at).toLocaleDateString()}),m.jsx("td",{style:ct.td,children:m.jsx("span",{style:ct.status(p.status),children:p.status})}),m.jsxs("td",{style:{...ct.td,fontWeight:"600",textAlign:"right"},children:["Ksh ",Number(p.total_amount).toLocaleString()]}),m.jsx("td",{style:ct.td,children:p.addresses?`${p.addresses.city}, ${p.addresses.country}`:"-"})]},p.id))})]})})]}):m.jsx("p",{style:ct.center,children:"Please log in to view your orders."})}function dT(){const{id:t}=dy(),e=At(),{authUser:r}=sn(),[s,o]=b.useState(null),[l,u]=b.useState(!0),[d,h]=b.useState(null);b.useEffect(()=>{r&&p()},[t,r]);async function p(){try{u(!0),h(null);const{data:g,error:v}=await se.from("orders").select("*").eq("id",t).eq("user_id",r.id).single();if(v)throw v;const{data:w}=await se.from("addresses").select("*").eq("id",g.address_id).maybeSingle(),{data:_}=await se.from("order_items").select("*").eq("order_id",g.id),E=await Promise.all((_||[]).map(async S=>{const{data:k}=await se.from("products").select("name, sku, images").eq("id",S.product_id).single();return{...S,product:k}}));o({...g,address:w,items:E})}catch(g){h(g.message)}finally{u(!1)}}return l?m.jsxs("div",{style:Ce.loaderContainer,children:[m.jsx("div",{style:Ce.skeletonCard}),m.jsx("div",{style:Ce.skeletonCard}),m.jsx("div",{style:Ce.skeletonTable})]}):d?m.jsxs("div",{style:Ce.errorBox,children:[m.jsxs("p",{children:[" ",d]}),m.jsx("button",{style:Ce.backBtn,onClick:()=>e("/orders"),children:" Back"})]}):s?m.jsxs("div",{style:Ce.page,children:[m.jsxs("div",{style:Ce.header,children:[m.jsx("button",{style:Ce.backBtn,onClick:()=>e("/orders"),children:" Back to Orders"}),m.jsxs("h1",{style:Ce.title,children:["Order"," ",m.jsxs("span",{style:Ce.highlight,children:["#",s.id.slice(0,8)]})]})]}),m.jsxs("div",{style:Ce.card,children:[m.jsx("h2",{style:Ce.sectionTitle,children:" Order Summary"}),m.jsxs("div",{style:Ce.grid,children:[m.jsxs("div",{style:Ce.infoBox,children:[m.jsx("span",{style:Ce.label,children:"Status"}),m.jsx("span",{style:Ce.badge(s.status),children:s.status})]}),m.jsxs("div",{style:Ce.infoBox,children:[m.jsx("span",{style:Ce.label,children:"Date"}),m.jsxs("span",{children:[new Date(s.created_at).toLocaleDateString()," ",new Date(s.created_at).toLocaleTimeString()]})]}),m.jsxs("div",{style:Ce.infoBox,children:[m.jsx("span",{style:Ce.label,children:"Total Amount"}),m.jsxs("strong",{style:{color:"#0070f3",fontSize:18},children:["Ksh ",Number(s.total_amount).toLocaleString()]})]})]})]}),s.address&&m.jsxs("div",{style:Ce.card,children:[m.jsx("h2",{style:Ce.sectionTitle,children:" Shipping Address"}),m.jsxs("p",{style:Ce.address,children:[s.address.address_line_1,s.address.address_line_2&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),s.address.address_line_2]}),m.jsx("br",{}),s.address.city,", ",s.address.country]})]}),m.jsxs("div",{style:Ce.card,children:[m.jsx("h2",{style:Ce.sectionTitle,children:" Ordered Items"}),m.jsxs("table",{style:Ce.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Product"}),m.jsx("th",{children:"Qty"}),m.jsx("th",{children:"Price"}),m.jsx("th",{children:"Subtotal"})]})}),m.jsx("tbody",{children:s.items?.map((g,v)=>{const w=g.product?.image_url||Array.isArray(g.product?.images)&&g.product.images[0];return m.jsxs("tr",{children:[m.jsxs("td",{style:Ce.productCell,children:[w?m.jsx("img",{src:w,alt:g.product?.name,style:Ce.thumbnail}):m.jsx("div",{style:Ce.placeholderThumb,children:""}),m.jsxs("div",{children:[m.jsx("b",{children:g.product?.name}),m.jsxs("div",{style:Ce.sku,children:["SKU: ",g.product?.sku]})]})]}),m.jsx("td",{style:{textAlign:"center"},children:g.quantity}),m.jsxs("td",{style:{textAlign:"right"},children:["Ksh ",Number(g.price).toLocaleString()]}),m.jsxs("td",{style:{textAlign:"right",fontWeight:"700"},children:["Ksh ",Number(g.subtotal).toLocaleString()]})]},v)})})]})]}),m.jsxs("div",{style:Ce.totalCard,children:[m.jsx("span",{children:"Total Payable:"}),m.jsxs("strong",{children:["Ksh ",Number(s.total_amount).toLocaleString()]})]})]}):m.jsx("p",{children:"No order found."})}const Ce={page:{padding:"40px 20px",maxWidth:"900px",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30},title:{fontSize:"28px",fontWeight:"800",color:"#1f2937"},highlight:{background:"linear-gradient(90deg, #0070f3, #00b4d8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},backBtn:{background:"#fff",border:"2px solid #e5e7eb",borderRadius:"8px",padding:"8px 14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},card:{background:"#fff",borderRadius:12,padding:24,marginBottom:20,boxShadow:"0 3px 8px rgba(0,0,0,0.05)"},sectionTitle:{marginBottom:16,fontSize:18,fontWeight:"700",color:"#111827",borderBottom:"2px solid #f3f4f6",paddingBottom:8},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:20},infoBox:{padding:12,background:"#f9fafb",borderRadius:8,border:"1px solid #e5e7eb"},label:{fontSize:12,color:"#6b7280",textTransform:"uppercase",display:"block",marginBottom:6},badge:t=>({padding:"6px 10px",borderRadius:8,fontWeight:"700",backgroundColor:t==="completed"?"#d1fae5":t==="cancelled"?"#fee2e2":"#fef3c7",color:t==="completed"?"#065f46":t==="cancelled"?"#991b1b":"#92400e"}),address:{lineHeight:1.8,color:"#374151"},table:{width:"100%",borderCollapse:"collapse"},sku:{fontSize:12,color:"#6b7280"},productCell:{display:"flex",alignItems:"center",gap:12},thumbnail:{width:50,height:50,borderRadius:8,objectFit:"cover",border:"1px solid #e5e7eb"},placeholderThumb:{width:50,height:50,borderRadius:8,background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:18},totalCard:{background:"#f3f4f6",borderRadius:10,padding:"18px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:18,fontWeight:"700",marginTop:30,border:"2px solid #e5e7eb"},errorBox:{maxWidth:600,margin:"80px auto",background:"#fee2e2",padding:24,borderRadius:10,textAlign:"center",color:"#991b1b"},loaderContainer:{maxWidth:900,margin:"80px auto",display:"flex",flexDirection:"column",gap:20},skeletonCard:{height:120,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",borderRadius:10,animation:"pulse 1.5s infinite"},skeletonTable:{height:200,background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",borderRadius:10,animation:"pulse 1.5s infinite"}},hT=()=>m.jsxs("main",{style:{padding:"120px 20px",textAlign:"center"},children:[m.jsx("h1",{children:"404  Page Not Found"}),m.jsx("p",{children:"The page you're looking for doesn't exist. Try going back home."}),m.jsx("div",{style:{marginTop:20},children:m.jsx(ht,{to:"/",style:{padding:"10px 14px",background:"#ff8c00",color:"#fff",borderRadius:8,textDecoration:"none"},children:"Go to Home"})})]}),fT=(()=>m.jsx("div",{className:"container",style:{height:"23vh"}}));function pT(){const[t,e]=b.useState(!1);b.useEffect(()=>{const s=()=>{const o=window.innerHeight+window.scrollY>=document.body.offsetHeight-200;e(o)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const r={footer:{background:"linear-gradient(180deg, #0f172a 0%, #1e293b 100%)",color:"#cbd5e1",padding:"56px 20px 24px",width:"100%",boxShadow:"0 -1px 16px rgba(0, 0, 0, 0.3)",borderTop:"1px solid #1e293b",opacity:t?1:0,transform:t?"translateY(0)":"translateY(50px)",transition:"all 0.5s ease",fontFamily:"'Poppins', sans-serif"},container:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:"50px"},brand:{display:"flex",alignItems:"center",gap:"14px",flex:"1 1 220px"},logo:{width:"58px",height:"58px",borderRadius:"12px",objectFit:"cover",boxShadow:"0 0 10px rgba(96, 165, 250, 0.25)"},brandText:{color:"#fff"},brandTitle:{fontSize:"22px",margin:0,letterSpacing:"0.3px"},brandSubtitle:{fontSize:"14px",color:"#94a3b8",marginTop:"4px"},links:{display:"flex",flexWrap:"wrap",gap:"60px",flex:"2 1 400px"},linkGroup:{minWidth:"130px"},linkTitle:{fontSize:"15px",color:"#fff",marginBottom:"10px",fontWeight:600},link:{display:"block",color:"#cbd5e1",fontSize:"14px",textDecoration:"none",marginBottom:"6px",transition:"color 0.3s ease, transform 0.2s ease"},bottom:{maxWidth:"1200px",margin:"40px auto 0",borderTop:"1px solid #1e293b",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",fontSize:"13px",color:"#94a3b8"},socials:{display:"flex",gap:"16px"},socialLink:{color:"#cbd5e1",fontSize:"18px",transition:"color 0.3s ease, transform 0.2s ease"}};return m.jsxs("footer",{style:r.footer,children:[m.jsxs("div",{style:r.container,children:[m.jsxs("div",{style:r.brand,children:[m.jsx("img",{src:"/src/customer/assets/fetop_logo.png",alt:"Fetop Logo",style:r.logo}),m.jsxs("div",{style:r.brandText,children:[m.jsx("h2",{style:r.brandTitle,children:"Fetop"}),m.jsx("p",{style:r.brandSubtitle,children:"Quality essentials  Everyday style"})]})]}),m.jsxs("div",{style:r.links,children:[m.jsxs("div",{style:r.linkGroup,children:[m.jsx("h4",{style:r.linkTitle,children:"Shop"}),m.jsx("a",{href:"/shop",style:r.link,children:"All Products"}),m.jsx("a",{href:"/shop?category=men",style:r.link,children:"Men"}),m.jsx("a",{href:"/shop?category=women",style:r.link,children:"Women"})]}),m.jsxs("div",{style:r.linkGroup,children:[m.jsx("h4",{style:r.linkTitle,children:"Company"}),m.jsx("a",{href:"/about",style:r.link,children:"About"}),m.jsx("a",{href:"/contact",style:r.link,children:"Contact"}),m.jsx("a",{href:"/careers",style:r.link,children:"Careers"})]}),m.jsxs("div",{style:r.linkGroup,children:[m.jsx("h4",{style:r.linkTitle,children:"Legal"}),m.jsx("a",{href:"/terms",style:r.link,children:"Terms"}),m.jsx("a",{href:"/policy",style:r.link,children:"Privacy"})]})]})]}),m.jsxs("div",{style:r.bottom,children:[m.jsxs("p",{children:[" ",new Date().getFullYear()," Fetop. All rights reserved."]}),m.jsxs("div",{style:r.socials,children:[m.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Facebook",children:m.jsx("i",{className:"fa-brands fa-facebook"})}),m.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Instagram",children:m.jsx("i",{className:"fa-brands fa-instagram"})}),m.jsx("a",{href:"#",style:r.socialLink,"aria-label":"Twitter",children:m.jsx("i",{className:"fa-brands fa-x-twitter"})})]})]})]})}const mT=b.createContext(),gT=({children:t})=>{const[e,r]=b.useState(()=>{const o=localStorage.getItem("fetop_orders");return o?JSON.parse(o):[]});b.useEffect(()=>{localStorage.setItem("fetop_orders",JSON.stringify(e))},[e]);const s=o=>{const l={id:`ORD-${Date.now()}`,items:o,date:new Date().toLocaleString()};r(u=>[...u,l])};return m.jsx(mT.Provider,{value:{orders:e,addOrder:s},children:t})};function yT(){const{id:t}=dy(),e=At(),{addToCart:r}=ro(),{authUser:s}=sn(),[o,l]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState(""),[g,v]=b.useState(!1),w=b.useRef(null),[_,E]=b.useState(1),[S,k]=b.useState(!1),[j,P]=b.useState(!1),[R,M]=b.useState(""),[$,U]=b.useState(!1),[K,G]=b.useState(!1),[I,J]=b.useState([]),[oe,pe]=b.useState(null),[me,Te]=b.useState(!0),[_e,Ne]=b.useState([]),[fe,H]=b.useState(6),[ne,Y]=b.useState(!1),[O,B]=b.useState(!1),[ge,ye]=b.useState(!1),[ve,xe]=b.useState(0),[je,be]=b.useState(""),[Oe,xt]=b.useState(!1),Ot=b.useRef(!0);b.useEffect(()=>(Ot.current=!0,(async()=>await Kr())(),()=>{Ot.current=!1}),[t,fe,s]);function lo(W,Se=1,nt="Customer",Je=""){if(!W||!W.name||W.price==null)return console.warn("Invalid product data for WhatsApp link:",W),"#";const Kt=Number.isInteger(Se)&&Se>0?Se:1,gt=typeof nt=="string"&&nt.trim()||"Customer",Fe=typeof Je=="string"?Je.trim():"",On=(W.discount_percent>0?Number(W.price)-Number(W.price)*Number(W.discount_percent)/100:Number(W.price)).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0}),In="254748859705";let Jr=`Hi, I am ${gt}. I want to order ${Kt} x ${W.name} (Ksh ${On}).`;return Fe&&(Jr+=` Note: ${Fe}`),`https://wa.me/${In}?text=${encodeURIComponent(Jr)}`}async function Kr(){Te(!0);try{const{data:W,error:Se}=await se.from("products").select("*, categories(name)").eq("id",t).single();if(Se)throw Se;if(!Ot.current)return;l(W);const nt=Array.isArray(W?.images)?W.images:[];d(nt),p(nt[0]||Ac);const{data:Je,error:Kt}=await se.from("reviews").select("id, rating, comment, created_at, users(full_name)").eq("product_id",t).order("created_at",{ascending:!1}).limit(50);if(Kt)throw Kt;if(!Ot.current)return;if(J(Je||[]),Je&&Je.length>0){const gt=Je.reduce((Fe,on)=>Fe+Number(on.rating||0),0)/Je.length;pe(Number(gt.toFixed(2)))}else pe(null);if(W?.category_id){const{data:gt,error:Fe}=await se.from("products").select("id, name, price, discount_percent, images, stock_quantity").eq("category_id",W.category_id).neq("id",t).eq("is_active",!0).limit(fe);if(Fe)throw Fe;if(!Ot.current)return;Ne(gt||[])}else Ne([]);if(s){const{data:gt,error:Fe}=await se.from("wishlist").select("id").eq("user_id",s.id).eq("product_id",t).maybeSingle();!Fe&&Ot.current&&U(!!gt?.id)}else U(!1);if(s){const{data:gt,error:Fe}=await se.from("orders").select("id, order_items(product_id)").eq("user_id",s.id).eq("status","completed").limit(200);if(!Fe&&Ot.current){const In=(gt||[]).some(Jr=>(Jr.order_items||[]).some(ho=>String(ho.product_id)===String(t)));Y(!!In)}else Y(!1);const{data:on,error:On}=await se.from("reviews").select("id").eq("product_id",t).eq("user_id",s.id).limit(1).maybeSingle();!On&&Ot.current?B(!!on?.id):B(!1)}else Y(!1),B(!1)}catch(W){console.error("ProductDetail load error:",W)}finally{Ot.current&&Te(!1)}}b.useEffect(()=>{if(!g||!w.current)return;const W=w.current;function Se(nt){const Je=W.getBoundingClientRect(),Kt=(nt.clientX-Je.left)/Je.width,gt=(nt.clientY-Je.top)/Je.height,Fe=Math.max(0,Math.min(100,Kt*100)),on=Math.max(0,Math.min(100,gt*100));W.style.transformOrigin=`${Fe}% ${on}%`}return window.addEventListener("mousemove",Se),()=>window.removeEventListener("mousemove",Se)},[g]);async function Wi(){if(o){if(o.stock_quantity<=0){Ge("Out of stock");return}if(!(_<1)){k(!0);try{const{data:W,error:Se}=await se.from("products").select("stock_quantity").eq("id",o.id).single();if(Se)throw Se;if(!W||W.stock_quantity<_){Ge("Not enough stock"),k(!1);return}try{await r(o,_)}catch{try{await r(o)}catch(Je){throw console.error("addToCart fallback failed",Je),Je}}Ge("Added to cart")}catch(W){console.error("Add to cart error:",W),Ge(W?.message||"Could not add to cart")}finally{k(!1)}}}}async function uo(){if(!s){Ge("Please log in to use wishlist");return}G(!0);try{if($){if(!window.confirm("Remove from wishlist?")){G(!1);return}const{error:Se}=await se.from("wishlist").delete().eq("user_id",s.id).eq("product_id",t);if(Se)throw Se;U(!1),Ge("Removed from wishlist")}else{const{error:W}=await se.from("wishlist").insert([{user_id:s.id,product_id:t}]);if(W)throw W;U(!0),Ge("Added to wishlist")}}catch(W){console.error("Wishlist toggle failed",W),Ge("Wishlist error")}finally{G(!1)}}async function co(W){if(W?.preventDefault(),!s){Ge("Login to post review");return}if(!ne){Ge("You can only review products you've purchased");return}if(O){Ge("You already reviewed this product");return}if(!ve||ve<1){Ge("Please select a rating");return}if(!je.trim()){Ge("Please write a short comment");return}xt(!0);try{const{data:Se,error:nt}=await se.from("reviews").insert([{user_id:s.id,product_id:t,rating:ve,comment:je.trim()}]).select("id, rating, comment, created_at, users(full_name)").maybeSingle();if(nt)throw nt;const Je=Se||{id:`local-${Date.now()}`,rating:ve,comment:je.trim(),created_at:new Date().toISOString(),users:{full_name:s.full_name||"You"}};J(Fe=>[Je,...Fe]);const Kt=[Je.rating,...I.map(Fe=>Number(Fe.rating||0))],gt=Kt.reduce((Fe,on)=>Fe+Number(on),0)/Kt.length;pe(Number(gt.toFixed(2))),B(!0),ye(!1),xe(0),be(""),Ge("Review submitted  thanks!")}catch(Se){console.error("Review submit error",Se),Ge("Failed to submit review")}finally{xt(!1)}}function Ge(W){M(W),P(!0),setTimeout(()=>{P(!1)},1800)}function Gr(W){return W==null?"-":Number(W).toLocaleString()}function qi(W="C"){return(W||"C").split(" ").map(Se=>Se[0]).join("").slice(0,2).toUpperCase()}if(!o)return m.jsxs("div",{style:X.container,children:[m.jsx("div",{style:X.skelHeader}),m.jsxs("div",{style:X.skelGrid,children:[m.jsx("div",{style:X.skelImage}),m.jsx("div",{style:X.skelDetails})]})]});const Kn=h||(u.length>0?u[0]:Ac),Gn=o.discount_percent>0?Number(o.price)-Number(o.price)*Number(o.discount_percent)/100:Number(o.price);return m.jsxs("div",{style:X.container,children:[m.jsxs("nav",{style:X.breadcrumb,children:[m.jsx(ht,{to:"/",children:"Home"}),m.jsx("span",{style:X.breadcrumbSep,children:"/"}),m.jsx(ht,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"All")}`,children:o.categories?.name||"All"}),m.jsx("span",{style:X.breadcrumbSep,children:"/"}),m.jsx("span",{style:X.breadcrumbCurrent,children:o.name})]}),m.jsxs("div",{style:X.grid,children:[m.jsxs("section",{style:X.gallery,children:[m.jsx("div",{style:X.mainImageWrap,children:m.jsx(Cn.img,{ref:w,src:Kn,alt:o.name,loading:"lazy",onClick:()=>v(W=>!W),initial:{opacity:.98},animate:{scale:g?1.6:1,transition:{duration:.28}},style:{...X.mainImage,cursor:g?"zoom-out":"zoom-in"}})}),m.jsxs("div",{style:X.thumbs,children:[u.length===0&&m.jsx("div",{style:X.thumbEmpty,children:"No images"}),u.map((W,Se)=>m.jsx("img",{src:W,alt:`thumb-${Se}`,loading:"lazy",onClick:()=>{p(W),v(!1),window.scrollTo({top:120,behavior:"smooth"})},style:{...X.thumb,border:W===Kn?"2px solid #111":"1px solid #ddd"}},Se))]})]}),m.jsxs("aside",{style:X.details,children:[m.jsx("h1",{style:X.title,children:o.name}),m.jsxs("div",{style:X.metaRow,children:[m.jsxs("div",{style:X.priceWrap,children:[m.jsxs("div",{style:X.price,children:["Ksh ",Gr(Gn)]}),o.discount_percent>0&&m.jsxs("div",{style:X.oldPrice,children:["Ksh ",Gr(o.price)]})]}),m.jsx("div",{style:X.rating,children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("div",{style:{display:"flex",gap:4},children:Array.from({length:5}).map((W,Se)=>m.jsx(ic,{size:14,color:Se<Math.round(oe||0)?"#FFD700":"#ddd"},Se))}),m.jsx("div",{style:X.ratingText,children:oe?`${oe.toFixed(1)} / 5`:"No reviews"})]})})]}),m.jsxs("p",{style:X.categoryLine,children:["Category:"," ",m.jsx(ht,{to:`/shop?category=${encodeURIComponent(o.categories?.name||"")}`,style:{color:"#111",textDecoration:"underline"},children:o.categories?.name||"Uncategorized"})]}),m.jsx("p",{style:X.desc,children:o.description}),m.jsxs("div",{style:X.stockRow,children:[o.stock_quantity>0?m.jsxs("span",{style:X.inStock,children:[o.stock_quantity," in stock"]}):m.jsx("span",{style:X.outStock,children:"Out of stock"}),m.jsxs("div",{style:X.qtyBox,children:[m.jsx("button",{onClick:()=>E(W=>Math.max(1,W-1)),style:X.qtyBtn,children:""}),m.jsx("div",{style:X.qtyVal,children:_}),m.jsx("button",{onClick:()=>E(W=>Math.min(W+1,o.stock_quantity||W+1)),style:X.qtyBtn,children:"+"})]})]}),m.jsxs("div",{style:X.actions,children:[m.jsx(Cn.button,{whileTap:{scale:.97},whileHover:{scale:1.02},onClick:Wi,disabled:S||o.stock_quantity<=0,style:{...X.addBtn,opacity:o.stock_quantity<=0?.6:1,background:S?"#16a34a":"#111"},children:S?"Adding":"Add to cart"}),m.jsx(Cn.button,{whileTap:{scale:.97},whileHover:{scale:1.02},onClick:()=>{const W=lo(o,_,s?.full_name,"Please deliver ASAP");W!=="#"?window.open(W,"_blank"):Ge("Cannot create WhatsApp link. Check product details.")},disabled:o.stock_quantity<=0,style:{...X.addBtn,background:"#25D366"},children:"Order via WhatsApp"}),m.jsxs("button",{onClick:uo,style:X.wishBtn,disabled:K,children:[$?m.jsx(O_,{color:"#e11"}):m.jsx(L_,{color:"#444"})," ",m.jsx("span",{style:{marginLeft:8},children:$?"Wishlisted":"Add to wishlist"})]})]}),m.jsxs("div",{style:X.infoGrid,children:[m.jsxs("div",{style:X.infoCard,children:[m.jsx("strong",{children:"Delivery"}),m.jsx("p",{style:X.small,children:"Free within Nairobi. Standard outside Nairobi."})]}),m.jsxs("div",{style:X.infoCard,children:[m.jsx("strong",{children:"Returns"}),m.jsx("p",{style:X.small,children:"7-day return on unworn items."})]}),m.jsxs("div",{style:X.infoCard,children:[m.jsx("strong",{children:"Payment"}),m.jsx("p",{style:X.small,children:"COD, Card & mobile payments supported."})]})]}),m.jsx("div",{style:{marginTop:12},children:ne&&!O?m.jsx("button",{onClick:()=>ye(!0),style:X.reviewOpenBtn,children:"Write a verified review"}):O?m.jsx("div",{style:{color:"#444",fontSize:13},children:"Thanks for reviewing this product."}):m.jsx("div",{style:{color:"#666",fontSize:13},children:"Only verified buyers can leave reviews."})})]})]}),m.jsxs("div",{style:X.bottomRow,children:[m.jsxs("section",{style:X.reviews,children:[m.jsxs("div",{style:X.reviewsHeader,children:[m.jsx("h3",{style:{margin:0},children:"Customer reviews"}),m.jsxs("div",{style:{color:"#666"},children:[I.length," reviews"]})]}),me?m.jsx("div",{style:{color:"#666"},children:"Loading reviews"}):I.length===0?m.jsx("div",{style:{color:"#666"},children:"No reviews yet."}):I.slice(0,3).map(W=>m.jsxs("div",{style:X.reviewItem,children:[m.jsxs("div",{style:X.reviewMeta,children:[m.jsx("div",{style:X.avatar,children:qi(W.users?.full_name||"C")}),m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:700},children:W.users?.full_name||"Customer"}),m.jsx("div",{style:{fontSize:12,color:"#888"},children:new Date(W.created_at).toLocaleDateString()})]}),m.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:4},children:Array.from({length:5}).map((Se,nt)=>m.jsx(ic,{size:14,color:nt<W.rating?"#FFD700":"#ddd"},nt))})]}),m.jsx("p",{style:{marginTop:8},children:W.comment})]},W.id)),I.length>3&&m.jsx("button",{onClick:()=>alert("Load more reviews - future feature"),style:X.loadMoreReviews,children:"Load more reviews"})]}),m.jsxs("aside",{style:X.related,children:[m.jsx("h3",{style:{marginTop:0},children:"Related products"}),m.jsx("div",{style:X.carouselWrap,children:m.jsx("div",{style:X.carousel,children:_e.map(W=>{const Se=Array.isArray(W.images)&&W.images.length?W.images[0]:Ac,nt=W.discount_percent>0?Number(W.price)-Number(W.price)*Number(W.discount_percent)/100:Number(W.price);return m.jsxs("article",{style:X.relatedCard,children:[m.jsx("img",{src:Se,alt:W.name,loading:"lazy",style:X.relatedImg}),m.jsxs("div",{style:X.relatedBody,children:[m.jsx("div",{style:{fontWeight:700},children:W.name}),m.jsxs("div",{style:{color:"#1f6feb",fontWeight:700},children:["Ksh ",Gr(nt)]}),m.jsxs("div",{style:{display:"flex",gap:6,marginTop:6},children:[m.jsx("button",{onClick:()=>e(`/product/${W.id}`),style:X.relatedBtn,children:"View"}),m.jsx("button",{onClick:async()=>{try{await r(W,1),Ge("Added to cart")}catch{await r(W),Ge("Added to cart")}},style:X.cartBtn,children:"Add"})]})]})]},W.id)})})}),_e.length>=fe&&m.jsx("button",{onClick:()=>H(W=>W+6),style:X.loadMore,children:"Load more related"})]})]}),m.jsx($s,{children:ge&&m.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:X.modalBackdrop,children:m.jsxs(Cn.div,{initial:{y:24},animate:{y:0},exit:{y:24},style:X.modal,children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("h3",{style:{margin:0},children:"Write a verified review"}),m.jsx("button",{onClick:()=>ye(!1),style:X.modalClose,children:m.jsx(_y,{})})]}),m.jsxs("div",{style:{marginTop:12},children:[m.jsx("div",{style:{display:"flex",gap:8},children:[1,2,3,4,5].map(W=>m.jsx(ic,{size:26,color:W<=ve?"#FFD700":"#ddd",style:{cursor:"pointer"},onClick:()=>xe(W)},W))}),m.jsx("textarea",{value:je,onChange:W=>be(W.target.value),placeholder:"Share your experience...",style:X.modalTextarea}),m.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[m.jsx("button",{onClick:co,disabled:Oe,style:X.submitReviewBtn,children:Oe?"Posting":"Post review"}),m.jsx("button",{onClick:()=>{xe(0),be("")},style:X.cancelReviewBtn,children:"Clear"})]})]})]})})}),m.jsx($s,{children:j&&m.jsx(Cn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},style:X.toast,children:R})})]})}const Ac="https://via.placeholder.com/900x700?text=No+Image",X={container:{padding:"20px 5%",maxWidth:1200,margin:"auto",fontFamily:"Inter, system-ui, -apple-system, 'Segoe UI', Roboto",background:"#fafafa",minHeight:"100vh"},breadcrumb:{display:"flex",gap:8,alignItems:"center",marginBottom:12,fontSize:14},breadcrumbSep:{color:"#bbb"},breadcrumbCurrent:{color:"#111",fontWeight:700},grid:{display:"flex",gap:24,alignItems:"flex-start",flexWrap:"wrap"},gallery:{flex:"1 1 420px",maxWidth:720},mainImageWrap:{width:"100%",borderRadius:12,overflow:"hidden",background:"#fff",boxShadow:"0 6px 18px rgba(0,0,0,0.06)"},mainImage:{width:"100%",height:480,objectFit:"cover",display:"block",transition:"transform 0.28s ease"},thumbs:{display:"flex",gap:8,marginTop:12,flexWrap:"wrap",alignItems:"center"},thumb:{width:64,height:64,objectFit:"cover",borderRadius:8,cursor:"pointer"},thumbEmpty:{color:"#666",padding:10},details:{flex:"1 1 360px",maxWidth:520,background:"#fff",padding:18,borderRadius:12,boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},title:{fontSize:22,margin:0},metaRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:8},priceWrap:{display:"flex",gap:12,alignItems:"center"},price:{fontSize:20,fontWeight:800,color:"#111"},oldPrice:{textDecoration:"line-through",color:"#888",fontSize:14},rating:{},ratingText:{color:"#444"},categoryLine:{color:"#666",marginTop:6,marginBottom:6},desc:{color:"#333",marginTop:12,lineHeight:1.6},stockRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:14},inStock:{color:"#16a34a",fontWeight:700},outStock:{color:"#dc2626",fontWeight:700},qtyBox:{display:"flex",alignItems:"center",gap:8},qtyBtn:{background:"#f3f4f6",border:"none",padding:"6px 10px",borderRadius:8,cursor:"pointer"},qtyVal:{minWidth:30,textAlign:"center",fontWeight:700},actions:{display:"flex",gap:12,marginTop:16},addBtn:{padding:"10px 18px",borderRadius:10,border:"none",color:"#fff",cursor:"pointer",fontWeight:700,background:"#111"},wishBtn:{padding:"8px 12px",borderRadius:10,border:"1px solid #eee",background:"#fff",cursor:"pointer",display:"inline-flex",alignItems:"center"},infoGrid:{display:"flex",gap:12,marginTop:18,flexWrap:"wrap"},infoCard:{background:"#f8fafc",padding:12,borderRadius:10,minWidth:160},small:{color:"#555",fontSize:13},reviewOpenBtn:{marginTop:6,padding:"8px 12px",background:"#111",color:"#fff",border:"none",borderRadius:8,cursor:"pointer"},bottomRow:{display:"flex",gap:18,marginTop:28,flexWrap:"wrap"},reviews:{flex:"1 1 520px",background:"#fff",padding:14,borderRadius:12,boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},reviewsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},reviewItem:{borderTop:"1px solid #f1f1f1",paddingTop:12,marginTop:12},reviewMeta:{display:"flex",gap:10,alignItems:"center"},avatar:{width:40,height:40,borderRadius:999,background:"#1f2937",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},loadMoreReviews:{marginTop:10,padding:"8px 10px",borderRadius:8,border:"none",background:"#111",color:"#fff",cursor:"pointer"},related:{flex:"0 1 340px"},carouselWrap:{overflowX:"auto",padding:"8px 2px"},carousel:{display:"flex",gap:12,alignItems:"stretch"},relatedCard:{minWidth:220,background:"#fff",borderRadius:10,padding:8,boxShadow:"0 6px 18px rgba(0,0,0,0.03)",display:"flex",gap:8,alignItems:"center"},relatedImg:{width:86,height:66,objectFit:"cover",borderRadius:8},relatedBody:{display:"flex",flexDirection:"column",gap:6},relatedBtn:{padding:"6px 8px",borderRadius:8,border:"none",background:"#111",color:"#fff",cursor:"pointer"},cartBtn:{padding:"6px 8px",borderRadius:8,border:"1px solid #ddd",background:"#fff",cursor:"pointer"},loadMore:{marginTop:12,padding:"8px 12px",borderRadius:8,background:"#111",color:"#fff",border:"none",cursor:"pointer"},modalBackdrop:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},modal:{width:"min(800px, 94%)",background:"#fff",borderRadius:12,padding:18,boxShadow:"0 8px 32px rgba(0,0,0,0.18)"},modalClose:{background:"transparent",border:"none",cursor:"pointer",fontSize:18},modalTextarea:{width:"100%",minHeight:100,marginTop:12,padding:10,borderRadius:8,border:"1px solid #ddd"},submitReviewBtn:{padding:"8px 12px",background:"#111",color:"#fff",borderRadius:8,border:"none",cursor:"pointer"},cancelReviewBtn:{padding:"8px 12px",background:"#fff",border:"1px solid #ddd",borderRadius:8,cursor:"pointer"},toast:{position:"fixed",right:20,bottom:22,background:"#111",color:"#fff",padding:"10px 14px",borderRadius:10,zIndex:9999},skelHeader:{height:16,width:"40%",background:"#eee",marginBottom:12,borderRadius:8},skelGrid:{display:"flex",gap:18},skelImage:{width:520,height:420,background:"#eee",borderRadius:12},skelDetails:{flex:1,minWidth:360,background:"#fff",borderRadius:12,padding:12}};if(typeof document<"u"&&!document.getElementById("pd-responsive-styles")){const t=document.createElement("style");t.id="pd-responsive-styles",t.innerHTML=`
    @media (max-width: 980px) {
      img[loading="lazy"] { max-width: 100%; height: auto; }
      /* stack the grid */
      .pd-grid { flex-direction: column; }
    }
    @media (max-width: 720px) {
      body { font-size: 15px; }
    }
  `,document.head.appendChild(t)}function vT(){const[t,e]=b.useState(null),[r,s]=b.useState(null),[o,l]=b.useState(!0),[u,d]=b.useState(!1),[h,p]=b.useState(!1),[g,v]=b.useState(""),[w,_]=b.useState("");b.useEffect(()=>{async function S(){try{const{data:{user:k},error:j}=await se.auth.getUser();if(j)throw j;if(!k)throw new Error("User not logged in.");s(k);const{data:P,error:R}=await se.from("users").select("id, full_name, email, is_admin, created_at, updated_at").eq("id",k.id).single();if(R)throw R;e(P)}catch(k){v(k.message)}finally{l(!1)}}S()},[]);async function E(){if(t){p(!0),v(""),_("");try{const{error:S}=await se.from("users").update({full_name:t.full_name,email:t.email,updated_at:new Date().toISOString()}).eq("id",t.id);if(S)throw S;if(r.email!==t.email){const{error:k}=await se.auth.updateUser({email:t.email});if(k)throw k}_("Profile updated successfully!"),d(!1)}catch(S){v(S.message)}finally{p(!1)}}}return o?m.jsx("div",{className:"loader",children:"Loading profile..."}):g&&!t?m.jsx("div",{className:"error",children:g}):m.jsxs("div",{className:"profile-container",children:[m.jsx("h2",{children:"My Profile"}),w&&m.jsx("div",{className:"message success",children:w}),g&&m.jsx("div",{className:"message error",children:g}),t&&m.jsxs("div",{className:"profile-card",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Full Name"}),u?m.jsx("input",{type:"text",value:t.full_name,onChange:S=>e({...t,full_name:S.target.value})}):m.jsx("p",{children:t.full_name})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Email"}),u?m.jsx("input",{type:"email",value:t.email,onChange:S=>e({...t,email:S.target.value})}):m.jsx("p",{children:t.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Role"}),m.jsx("p",{children:t.is_admin?"Admin":"Customer"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Joined"}),m.jsx("p",{children:new Date(t.created_at).toLocaleDateString()})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Last Updated"}),m.jsx("p",{children:new Date(t.updated_at).toLocaleDateString()})]}),m.jsx("div",{className:"button-row",children:u?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn save",onClick:E,disabled:h,children:h?"Saving...":"Save Changes"}),m.jsx("button",{className:"btn cancel",onClick:()=>{d(!1),_("")},children:"Cancel"})]}):m.jsx("button",{className:"btn edit",onClick:()=>d(!0),children:"Edit Profile"})})]}),m.jsx("style",{children:`
          .profile-container {
            max-width: 550px;
            margin: 60px auto;
            padding: 25px;
            background: #f9f9f9;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            font-family: "Segoe UI", sans-serif;
          }

          h2 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
          }

          .profile-card {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e5e5e5;
          }

          .form-group {
            margin-bottom: 16px;
          }

          label {
            font-weight: 600;
            color: #333;
            display: block;
            margin-bottom: 6px;
          }

          p {
            color: #555;
            margin: 0;
          }

          input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 15px;
          }

          .button-row {
            display: flex;
            justify-content: ${u?"space-between":"center"};
            margin-top: 20px;
          }

          .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: background 0.2s ease;
          }

          .btn.edit {
            background: #007bff;
            color: white;
          }

          .btn.save {
            background: #28a745;
            color: white;
          }

          .btn.cancel {
            background: #dc3545;
            color: white;
          }

          .btn:hover {
            opacity: 0.9;
          }

          .message {
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-weight: 500;
          }

          .message.success {
            background: #e7f9ed;
            color: #217a32;
            border: 1px solid #b6e2c3;
          }

          .message.error {
            background: #fce8e8;
            color: #b40000;
            border: 1px solid #e5b7b7;
          }

          .loader {
            text-align: center;
            margin-top: 100px;
            color: #555;
          }
        `})]})}function wT(t){return tt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(t)}function xT(t){return tt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(t)}function _T(t){return tt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 1 0-56 0z"},child:[]}]})(t)}function bT(t){return tt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"},child:[]}]})(t)}function ST(){const{login:t,authUser:e}=sn(),r=At(),[s,o]=b.useState(""),[l,u]=b.useState(""),[d,h]=b.useState(!1),[p,g]=b.useState("");b.useEffect(()=>{e&&r("/")},[e,r]);const v=async w=>{w.preventDefault(),g("");try{await t(s,l),r("/")}catch(_){g(_.message||"Login failed")}};return m.jsx("div",{style:it.page,children:m.jsxs("div",{style:it.container,children:[m.jsx("h1",{style:it.logo,children:"Fetop"}),m.jsx("h2",{style:it.title,children:"Welcome Back"}),m.jsx("p",{style:it.subtitle,children:"Login to continue to your account"}),p&&m.jsx("p",{style:it.error,children:p}),m.jsxs("form",{style:it.form,onSubmit:v,children:[m.jsxs("div",{style:it.inputGroup,children:[m.jsx(bT,{style:it.icon}),m.jsx("input",{type:"email",placeholder:"Email address",value:s,onChange:w=>o(w.target.value),required:!0,style:{...it.input,paddingLeft:"35px"}})]}),m.jsxs("div",{style:it.inputGroup,children:[m.jsx(_T,{style:it.icon}),m.jsx("input",{type:d?"text":"password",placeholder:"Password",value:l,onChange:w=>u(w.target.value),required:!0,style:{...it.input,paddingLeft:"35px",paddingRight:"35px"}}),d?m.jsx(wT,{style:it.eyeIcon,onClick:()=>h(!1)}):m.jsx(xT,{style:it.eyeIcon,onClick:()=>h(!0)})]}),m.jsx("button",{type:"submit",style:it.button,children:"Login"})]}),m.jsxs("p",{style:it.switchText,children:["Forgot password?"," ",m.jsx("span",{style:it.switchLink,onClick:()=>r("/forgot-password"),children:"Reset"})]}),m.jsxs("p",{style:it.switchText,children:["Don't have an account?"," ",m.jsx("span",{style:it.switchLink,onClick:()=>r("/register"),children:"Register"})]})]})})}const it={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"20px"},container:{width:"100%",maxWidth:"420px",backdropFilter:"blur(15px)",background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",padding:"50px 40px",boxShadow:"0 8px 30px rgba(0,0,0,0.15)",textAlign:"center",transition:"transform 0.2s ease"},logo:{fontSize:"36px",fontWeight:"800",color:"#2563eb",marginBottom:"10px"},title:{marginBottom:"6px",color:"#1f2937",fontSize:"24px",fontWeight:"700"},subtitle:{color:"#6b7280",fontSize:"14px",marginBottom:"25px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{position:"relative",display:"flex",alignItems:"center"},input:{width:"100%",padding:"12px 14px",fontSize:"15px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",transition:"border 0.2s, box-shadow 0.2s"},icon:{position:"absolute",left:"10px",fontSize:"18px",color:"#9ca3af"},eyeIcon:{position:"absolute",right:"10px",fontSize:"18px",color:"#9ca3af",cursor:"pointer"},button:{padding:"12px 15px",fontSize:"16px",background:"linear-gradient(90deg, #2563eb, #1d4ed8)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"700",transition:"transform 0.15s ease, box-shadow 0.15s ease"},error:{color:"#dc2626",background:"#fee2e2",borderRadius:"8px",padding:"10px",marginBottom:"10px",fontSize:"14px"},switchText:{marginTop:"20px",fontSize:"14px",color:"#374151"},switchLink:{color:"#2563eb",cursor:"pointer",fontWeight:"700"}};function kT(){const{signup:t}=sn(),e=At(),[r,s]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(""),[h,p]=b.useState(""),[g,v]=b.useState(!1),w=async _=>{_.preventDefault(),p("");try{await t(o,u,r),v(!0)}catch(E){p(E.message||"Registration failed")}};return g?m.jsx("div",{style:$t.page,children:m.jsxs("div",{style:$t.container,children:[m.jsx("h2",{style:$t.title,children:"Check Your Email"}),m.jsxs("p",{style:$t.subtitle,children:["A confirmation link has been sent to ",m.jsx("strong",{children:o}),". Please confirm your email to continue."]}),m.jsx("button",{style:$t.button,onClick:()=>e("/login"),children:"Go to Login"})]})}):m.jsx("div",{style:$t.page,children:m.jsxs("div",{style:$t.container,children:[m.jsx("h2",{style:$t.title,children:"Create Account"}),h&&m.jsx("p",{style:$t.error,children:h}),m.jsxs("form",{style:$t.form,onSubmit:w,children:[m.jsx("input",{type:"text",placeholder:"Full Name",value:r,onChange:_=>s(_.target.value),required:!0,style:$t.input}),m.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:_=>l(_.target.value),required:!0,style:$t.input}),m.jsx("input",{type:"password",placeholder:"Password (min 6 chars)",value:u,onChange:_=>d(_.target.value),required:!0,style:$t.input}),m.jsx("button",{type:"submit",style:$t.button,children:"Register"})]})]})})}const $t={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"25px",color:"#2563eb",fontSize:"28px",fontWeight:"700"},subtitle:{fontSize:"16px",marginBottom:"25px",color:"#333"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px 15px",fontSize:"16px",borderRadius:"8px",border:"1px solid #ccc",outline:"none"},button:{padding:"12px 15px",fontSize:"16px",backgroundColor:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},error:{color:"red",marginBottom:"15px",fontSize:"14px"}};function ET(){return b.useEffect(()=>{(async()=>{const{data:t,error:e,status:r}=await se.from("products").select("id, name, price, stock_quantity, product_images (id, image_url, is_primary)").eq("is_active",!0).limit(10);console.log("TEST PRODUCTS:",{status:r,data:t,error:e})})()},[]),m.jsx("div",{children:"Check console for TEST PRODUCTS output"})}function CT(){const t=At(),{authUser:e}=sn(),{cartItems:r,cartId:s,setCartItems:o}=ro(),[l,u]=b.useState([]),[d,h]=b.useState(null),[p,g]=b.useState({address_line_1:"",city:"",country:""}),[v,w]=b.useState("cod"),[_,E]=b.useState("bike"),[S,k]=b.useState(!1);b.useEffect(()=>{if(!e)return;async function I(){try{const{data:J,error:oe}=await se.from("addresses").select("*").eq("user_id",e.id);if(oe)throw oe;if(!J||J.length===0){const{data:pe,error:me}=await se.from("addresses").insert({user_id:e.id,address_line_1:"Default Address",city:"Nairobi",country:"Kenya",is_default:!0}).select().single();if(me)throw me;u([pe]),h(pe)}else{u(J);const pe=J.find(me=>me.is_default);h(pe||J[0])}}catch(J){console.error("Address load failed:",J)}}I()},[e]);const j=r.reduce((I,J)=>I+J.product.price*J.quantity,0),P=_==="bike"?150:350,R=j*.1,M=Math.round((j+P+R)*100)/100,$=async()=>{if(!p.address_line_1||!p.city||!p.country)return alert("Please fill all address fields.");try{const{data:I,error:J}=await se.from("addresses").insert({...p,user_id:e.id}).select().single();if(J)throw J;u(oe=>[...oe,I]),h(I),g({address_line_1:"",city:"",country:""})}catch(I){console.error("Create address failed:",I),alert("Failed to create address.")}},U=b.useCallback(async()=>{if(s)try{const{error:I}=await se.from("cart_items").delete().eq("cart_id",s);if(I)throw I;o([])}catch(I){console.error("Failed to clear cart:",I)}},[s,o]);async function K(){if(!(!e||!e.id))try{const I={id:e.id,full_name:e.user_metadata?.full_name||e.full_name||null,email:e.email||null};Object.keys(I).forEach(oe=>{I[oe]===null&&delete I[oe]});const{error:J}=await se.from("users").upsert(I,{onConflict:"id"});J&&console.warn("Upsert public.users failed:",J)}catch(I){console.warn("ensurePublicUserRow error:",I)}}const G=async()=>{if(!e)return alert("You must be logged in.");if(!d)return alert("Select an address.");if(r.length===0)return alert("Cart is empty.");k(!0);try{for(let _e of r)if(_e.quantity>(_e.product.stock_quantity||0))throw new Error(`Insufficient stock for ${_e.product.name}`);await K();const I={user_id:e.id,total_amount:M,address_id:d.id,status:"pending",payment_method:v,delivery_type:_},{data:J,error:oe}=await se.from("orders").insert(I).select().single();if(oe)throw oe;const pe=r.map(_e=>({order_id:J.id,product_id:_e.product.id,quantity:_e.quantity,price:_e.product.price})),{error:me}=await se.from("order_items").insert(pe);if(me)throw me;for(const _e of r){const Ne=Math.max((_e.product.stock_quantity||0)-_e.quantity,0);await se.from("products").update({stock_quantity:Ne}).eq("id",_e.product.id)}const{data:Te}=await se.from("payments").select("*").eq("order_id",J.id).limit(1);if(!Te||Te.length===0){const{error:_e}=await se.from("payments").insert({order_id:J.id,payment_method:v,payment_status:"pending",amount:M});if(_e)throw _e}await U(),alert(" Order placed successfully!"),t("/shop")}catch(I){console.error("Checkout error:",I),alert(I.message||"Failed to place order.")}finally{k(!1)}};return m.jsx("div",{style:Ie.page,children:m.jsxs("div",{style:Ie.card,children:[m.jsx("h1",{style:Ie.title,children:"Checkout"}),m.jsxs("section",{style:Ie.section,children:[m.jsx("h2",{style:Ie.sectionTitle,children:"Delivery Method"}),m.jsxs("div",{style:Ie.deliveryOptions,children:[m.jsxs("label",{style:Ie.radioLabel,children:[m.jsx("input",{type:"radio",name:"delivery",value:"bike",checked:_==="bike",onChange:I=>E(I.target.value)}),"Within Nairobi (Bike Courier)  Ksh 150"]}),m.jsxs("label",{style:Ie.radioLabel,children:[m.jsx("input",{type:"radio",name:"delivery",value:"courier",checked:_==="courier",onChange:I=>E(I.target.value)}),"Outside Nairobi (Courier)  Ksh 350"]})]})]}),m.jsxs("section",{style:Ie.section,children:[m.jsx("h2",{style:Ie.sectionTitle,children:"Shipping Address"}),l.map(I=>m.jsxs("div",{style:{...Ie.addressBox,borderColor:d?.id===I.id?"#4f46e5":"transparent",background:d?.id===I.id?"rgba(79,70,229,0.1)":"rgba(255,255,255,0.7)"},onClick:()=>h(I),children:[m.jsx("p",{style:{fontWeight:600},children:I.address_line_1}),m.jsxs("p",{style:{color:"#555"},children:[I.city,", ",I.country]})]},I.id)),m.jsxs("div",{style:Ie.newAddressForm,children:[m.jsx("input",{placeholder:"Address line 1",value:p.address_line_1,onChange:I=>g({...p,address_line_1:I.target.value}),style:Ie.input}),m.jsx("input",{placeholder:"City",value:p.city,onChange:I=>g({...p,city:I.target.value}),style:Ie.input}),m.jsx("input",{placeholder:"Country",value:p.country,onChange:I=>g({...p,country:I.target.value}),style:Ie.input}),m.jsx("button",{onClick:$,style:Ie.button,children:"Add Address"})]})]}),m.jsxs("section",{style:Ie.section,children:[m.jsx("h2",{style:Ie.sectionTitle,children:"Order Summary"}),r.map(I=>m.jsxs("div",{style:Ie.itemRow,children:[m.jsxs("span",{children:[I.product.name,"  ",I.quantity]}),m.jsxs("span",{children:["Ksh ",(I.product.price*I.quantity).toLocaleString()]})]},I.id)),m.jsx("hr",{style:{margin:"10px 0"}}),m.jsxs("div",{style:Ie.summaryRow,children:[m.jsx("span",{children:"Subtotal:"}),m.jsxs("span",{children:["Ksh ",j.toLocaleString()]})]}),m.jsxs("div",{style:Ie.summaryRow,children:[m.jsx("span",{children:"Shipping:"}),m.jsxs("span",{children:["Ksh ",P]})]}),m.jsxs("div",{style:Ie.summaryRow,children:[m.jsx("span",{children:"Tax (10%):"}),m.jsxs("span",{children:["Ksh ",R.toLocaleString()]})]}),m.jsxs("div",{style:{...Ie.summaryRow,fontWeight:"bold"},children:[m.jsx("span",{children:"Total:"}),m.jsxs("span",{children:["Ksh ",M.toLocaleString()]})]})]}),m.jsxs("section",{style:Ie.section,children:[m.jsx("h2",{style:Ie.sectionTitle,children:"Payment Method"}),m.jsxs("select",{value:v,onChange:I=>w(I.target.value),style:Ie.select,children:[m.jsx("option",{value:"cod",children:"Cash on Delivery"}),m.jsx("option",{value:"card",children:"Credit/Debit Card"}),m.jsx("option",{value:"mobile",children:"Mobile Payment (M-Pesa)"})]})]}),m.jsx("button",{onClick:G,disabled:S||r.length===0,style:{...Ie.checkoutBtn,opacity:S?.7:1},children:S?"Processing...":"Place Order"})]})})}const Ie={page:{minHeight:"100vh",background:"linear-gradient(135deg, rgba(99,102,241,0.15), rgba(79,70,229,0.05))",padding:"40px 15px",display:"flex",justifyContent:"center"},card:{width:"100%",maxWidth:"800px",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"30px 25px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)"},title:{textAlign:"center",fontSize:"2rem",fontWeight:"700",color:"#1f2937",marginBottom:"25px"},section:{marginBottom:"30px"},sectionTitle:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"10px",color:"#374151"},deliveryOptions:{display:"flex",flexDirection:"column",gap:"10px"},radioLabel:{background:"#f3f4f6",padding:"10px",borderRadius:"8px",cursor:"pointer"},addressBox:{padding:"12px",border:"2px solid transparent",borderRadius:"10px",marginBottom:"10px",cursor:"pointer",transition:"all 0.2s ease"},newAddressForm:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px"},input:{padding:"10px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"15px"},button:{padding:"10px",background:"#4f46e5",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},itemRow:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"15px"},summaryRow:{display:"flex",justifyContent:"space-between",marginBottom:"6px",color:"#111827"},select:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ccc",fontSize:"15px"},checkoutBtn:{width:"100%",padding:"14px",background:"linear-gradient(90deg, #6366f1, #4f46e5)",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"1rem",cursor:"pointer",transition:"opacity 0.2s ease, transform 0.1s ease"}},jT=()=>{const{logout:t}=sn(),e=At();return b.useEffect(()=>{(async()=>{await t(),e("/",{replace:!0})})()},[t,e]),m.jsx("p",{children:"Logging out..."})};function TT(){const[t,e]=b.useState(null),[r,s]=b.useState(null);return b.useEffect(()=>{async function o(){const{data:l,error:u}=await se.from("orders").select(`
          id,
          total_amount,
          status,
          created_at,
          users:orders_user_fk (
            full_name,
            email
          ),
          addresses:orders_address_fk (
            city,
            country,
            address_line_1,
            address_line_2
          ),
          order_items:order_items_order_fk (
            quantity,
            price,
            subtotal,
            products:order_items_product_fk (
              name,
              price,
              product_images (
                image_url
              )
            )
          ),
          payments (
            payment_method,
            payment_status,
            amount
          )
        `).limit(5);u?s(u.message):e(l)}o()},[]),r?m.jsxs("div",{style:As.container,children:[m.jsx("h2",{children:" Supabase Order Fetch Test"}),m.jsxs("p",{style:{color:"red"},children:["Error: ",r]})]}):t?m.jsxs("div",{style:As.container,children:[m.jsxs("h2",{children:[" Orders Overview (",t.length,")"]}),t.map(o=>m.jsxs("div",{style:As.card,children:[m.jsxs("h3",{children:["Order #",o.id.slice(0,8).toUpperCase()]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Status:"})," ",o.status]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Date:"})," ",new Date(o.created_at).toLocaleString()]}),m.jsx("h4",{children:" Customer"}),m.jsxs("p",{children:[o.users?.full_name," (",o.users?.email,")"]}),m.jsx("h4",{children:" Shipping Address"}),m.jsxs("p",{children:[o.addresses?.address_line_1,","," ",o.addresses?.address_line_2&&`${o.addresses.address_line_2}, `,o.addresses?.city,", ",o.addresses?.country]}),o.order_items?.length>0?m.jsxs(m.Fragment,{children:[m.jsx("h4",{children:" Items"}),m.jsxs("table",{style:As.table,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Product"}),m.jsx("th",{children:"Qty"}),m.jsx("th",{children:"Price"}),m.jsx("th",{children:"Subtotal"})]})}),m.jsx("tbody",{children:o.order_items.map((l,u)=>m.jsxs("tr",{children:[m.jsx("td",{children:l.products?.name}),m.jsx("td",{children:l.quantity}),m.jsxs("td",{children:["KES ",l.price]}),m.jsxs("td",{children:["KES ",l.subtotal]})]},u))})]})]}):m.jsx("p",{style:{color:"#aaa"},children:"No items in this order."}),m.jsxs("h4",{children:[" Total: KES ",o.total_amount]})]},o.id))]}):m.jsxs("div",{style:As.container,children:[m.jsx("h2",{children:" Supabase Order Fetch Test"}),m.jsx("p",{children:"Loading"})]})}const As={container:{padding:"20px",fontFamily:"Inter, sans-serif",background:"#f9fafb",minHeight:"100vh"},card:{background:"#fff",borderRadius:"12px",padding:"16px",marginBottom:"20px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},table:{width:"100%",borderCollapse:"collapse",marginTop:"8px"}};function PT(){const[t,e]=b.useState(""),[r,s]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(!1),h=At(),p=async g=>{if(g.preventDefault(),l(""),s(""),!/^[a-zA-Z0-9._%+-]+@gmail\.com$/.test(t)){l("Please enter a valid Gmail address.");return}try{d(!0);const w="https://fetop.vercel.app/reset-password",{error:_}=await se.auth.resetPasswordForEmail(t,{redirectTo:w});if(_)throw _;s("If your email exists in our system, a password reset link has been sent.")}catch(w){l(w.message||"Failed to send reset email. Try again later.")}finally{d(!1)}};return m.jsx("div",{style:pn.page,children:m.jsxs("div",{style:pn.container,children:[m.jsx("h2",{style:pn.title,children:"Forgot Password"}),o&&m.jsx("p",{style:pn.error,children:o}),r&&m.jsx("p",{style:pn.success,children:r}),!r&&m.jsxs("form",{style:pn.form,onSubmit:p,children:[m.jsxs("div",{style:pn.inputGroup,children:[m.jsx(nT,{style:pn.icon}),m.jsx("input",{type:"email",placeholder:"Enter your Gmail",value:t,onChange:g=>e(g.target.value),required:!0,style:{...pn.input,paddingLeft:"35px"},disabled:u})]}),m.jsx("button",{type:"submit",style:pn.button,disabled:u,children:u?"Sending...":"Send Reset Link"})]}),r&&m.jsx("button",{style:pn.button,onClick:()=>h("/login"),children:"Back to Login"})]})})}const pn={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"20px"},container:{width:"100%",maxWidth:"420px",background:"#fff",borderRadius:"16px",padding:"40px 30px",boxShadow:"0 8px 30px rgba(0,0,0,0.1)",textAlign:"center"},title:{fontSize:"28px",color:"#2563eb",fontWeight:"700",marginBottom:"20px"},form:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{position:"relative"},input:{width:"100%",padding:"12px 15px",fontSize:"16px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",transition:"border 0.2s"},icon:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",color:"#888"},button:{padding:"12px",fontSize:"16px",background:"linear-gradient(90deg, #2563eb, #1d4ed8)",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"700",cursor:"pointer",transition:"opacity 0.2s"},error:{color:"#dc2626",fontSize:"14px",marginBottom:"15px"},success:{color:"#16a34a",fontSize:"14px",marginBottom:"15px"}};function RT(){const t=At(),[e,r]=b.useState(""),[s,o]=b.useState(""),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[p,g]=b.useState("");b.useEffect(()=>{const{data:_}=se.auth.onAuthStateChange(async(E,S)=>{E==="PASSWORD_RECOVERY"&&S&&console.log("Recovery session active:",S)});return()=>_.subscription.unsubscribe()},[]);const v=async _=>{if(_.preventDefault(),e!==s)return g("Passwords do not match.");if(e.length<6)return g("Password must be at least 6 characters long.");try{h(!0),g("");const{data:E,error:S}=await se.auth.updateUser({password:e});if(S)throw S;g(" Password updated successfully! Redirecting to login..."),setTimeout(()=>t("/login"),2e3)}catch(E){console.error("Password update error:",E),g(E.message||"Something went wrong.")}finally{h(!1)}},w={container:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e3a8a)",padding:"1rem"},card:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 30px rgba(0,0,0,0.1)"},title:{fontSize:"24px",fontWeight:"700",textAlign:"center",marginBottom:"1.5rem",color:"#2563eb"},message:{textAlign:"center",marginBottom:"1rem",color:p.includes("success")||p.includes("")?"green":"red"},passwordContainer:{position:"relative",marginBottom:"1rem"},input:{width:"100%",padding:"12px 40px 12px 12px",borderRadius:"10px",border:"1px solid #d1d5db",outline:"none",fontSize:"14px"},eyeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#555",fontSize:"18px"},button:{width:"100%",padding:"12px",fontSize:"16px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"10px",fontWeight:"700",cursor:"pointer"},buttonDisabled:{opacity:.6,cursor:"not-allowed"}};return m.jsx("div",{style:w.container,children:m.jsxs("div",{style:w.card,children:[m.jsx("h2",{style:w.title,children:"Reset Password"}),p&&m.jsx("p",{style:w.message,children:p}),m.jsxs("form",{onSubmit:v,children:[m.jsxs("div",{style:w.passwordContainer,children:[m.jsx("input",{type:l?"text":"password",style:w.input,value:e,onChange:_=>r(_.target.value),placeholder:"New Password",required:!0}),m.jsx("button",{type:"button",style:w.eyeButton,onClick:()=>u(_=>!_),children:l?m.jsx(eT,{}):m.jsx(tT,{})})]}),m.jsx("div",{style:w.passwordContainer,children:m.jsx("input",{type:l?"text":"password",style:w.input,value:s,onChange:_=>o(_.target.value),placeholder:"Confirm Password",required:!0})}),m.jsx("button",{type:"submit",style:{...w.button,...d?w.buttonDisabled:{}},disabled:d,children:d?"Updating...":"Update Password"})]})]})})}function AT(){const[t,e]=b.useState("Verifying..."),r=At();return b.useEffect(()=>{(async()=>{const{data:o,error:l}=await se.auth.getSessionFromUrl();if(l||!o?.session){e("Email confirmation failed. Please try again.");return}if(!o.session.user.email_confirmed_at){e("Email not yet confirmed. Check your inbox.");return}e("Email confirmed! Redirecting to login..."),setTimeout(()=>r("/login"),3e3)})()},[r]),m.jsx("div",{style:Oc.page,children:m.jsx("div",{style:Oc.container,children:m.jsx("h2",{style:Oc.title,children:t})})})}const Oc={page:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e4fc1)",padding:"20px"},container:{width:"100%",maxWidth:"400px",backgroundColor:"#fff",padding:"40px 30px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},title:{marginBottom:"20px",color:"#2563eb",fontSize:"28px",fontWeight:"700"}};function OT(){const{pathname:t}=xn();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function IT({children:t}){const e=xn(),r=e.pathname==="/",s=["/login","/register","/logout","/confirm","/reset-password","/forgot-password"].includes(e.pathname);return m.jsxs(m.Fragment,{children:[!s&&m.jsx($j,{isHome:r}),!s&&m.jsx("hr",{style:{marginTop:0}}),m.jsx("main",{className:"main-content",children:t}),!s&&m.jsxs(m.Fragment,{children:[m.jsx(fT,{}),m.jsx(pT,{})]})]})}function LT(){return m.jsx(rk,{children:m.jsxs(gT,{children:[m.jsx(OT,{}),m.jsx(IT,{children:m.jsxs(W1,{children:[m.jsx(st,{path:"/",element:m.jsx(Xj,{})}),m.jsx(st,{path:"/shop",element:m.jsx(Zj,{})}),m.jsx(st,{path:"/product/:id",element:m.jsx(yT,{})}),m.jsx(st,{path:"/cart",element:m.jsx(aT,{})}),m.jsx(st,{path:"/about",element:m.jsx(lT,{})}),m.jsx(st,{path:"/contact",element:m.jsx(uT,{})}),m.jsx(st,{path:"/orders",element:m.jsx(cT,{})}),m.jsx(st,{path:"/orders/:id",element:m.jsx(dT,{})}),m.jsx(st,{path:"/login",element:m.jsx(ST,{})}),m.jsx(st,{path:"/register",element:m.jsx(kT,{})}),m.jsx(st,{path:"/logout",element:m.jsx(jT,{})}),m.jsx(st,{path:"/checkout",element:m.jsx(CT,{})}),m.jsx(st,{path:"/testshop",element:m.jsx(ET,{})}),m.jsx(st,{path:"/profile",element:m.jsx(vT,{})}),m.jsx(st,{path:"/forgot-password",element:m.jsx(PT,{})}),m.jsx(st,{path:"/reset-password",element:m.jsx(RT,{})}),m.jsx(st,{path:"/confirm",element:m.jsx(AT,{})}),m.jsx(st,{path:"/test-order-fetch",element:m.jsx(TT,{})}),m.jsx(st,{path:"*",element:m.jsx(hT,{})})]})})]})})}e1.createRoot(document.getElementById("root")).render(m.jsx(b.StrictMode,{children:m.jsx(nk,{children:m.jsx(f_,{children:m.jsx(LT,{})})})}));
